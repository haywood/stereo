!function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/stereo/",n(n.s=55)}([function(e,t,n){"use strict";(function(t){var r=n(47);
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
 * @license  MIT
 */function o(e,t){if(e===t)return 0;for(var n=e.length,r=t.length,o=0,i=Math.min(n,r);o<i;++o)if(e[o]!==t[o]){n=e[o],r=t[o];break}return n<r?-1:r<n?1:0}function i(e){return t.Buffer&&"function"==typeof t.Buffer.isBuffer?t.Buffer.isBuffer(e):!(null==e||!e._isBuffer)}var s=n(48),a=Object.prototype.hasOwnProperty,u=Array.prototype.slice,c="foo"===function(){}.name;function l(e){return Object.prototype.toString.call(e)}function f(e){return!i(e)&&("function"==typeof t.ArrayBuffer&&("function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(e):!!e&&(e instanceof DataView||!!(e.buffer&&e.buffer instanceof ArrayBuffer))))}var p=e.exports=m,d=/\s*function\s+([^\(\s]*)\s*/;function h(e){if(s.isFunction(e)){if(c)return e.name;var t=e.toString().match(d);return t&&t[1]}}function v(e,t){return"string"==typeof e?e.length<t?e:e.slice(0,t):e}function b(e){if(c||!s.isFunction(e))return s.inspect(e);var t=h(e);return"[Function"+(t?": "+t:"")+"]"}function y(e,t,n,r,o){throw new p.AssertionError({message:n,actual:e,expected:t,operator:r,stackStartFunction:o})}function m(e,t){e||y(e,!0,t,"==",p.ok)}function g(e,t,n,r){if(e===t)return!0;if(i(e)&&i(t))return 0===o(e,t);if(s.isDate(e)&&s.isDate(t))return e.getTime()===t.getTime();if(s.isRegExp(e)&&s.isRegExp(t))return e.source===t.source&&e.global===t.global&&e.multiline===t.multiline&&e.lastIndex===t.lastIndex&&e.ignoreCase===t.ignoreCase;if(null!==e&&"object"==typeof e||null!==t&&"object"==typeof t){if(f(e)&&f(t)&&l(e)===l(t)&&!(e instanceof Float32Array||e instanceof Float64Array))return 0===o(new Uint8Array(e.buffer),new Uint8Array(t.buffer));if(i(e)!==i(t))return!1;var a=(r=r||{actual:[],expected:[]}).actual.indexOf(e);return-1!==a&&a===r.expected.indexOf(t)||(r.actual.push(e),r.expected.push(t),function(e,t,n,r){if(null==e||null==t)return!1;if(s.isPrimitive(e)||s.isPrimitive(t))return e===t;if(n&&Object.getPrototypeOf(e)!==Object.getPrototypeOf(t))return!1;var o=w(e),i=w(t);if(o&&!i||!o&&i)return!1;if(o)return e=u.call(e),t=u.call(t),g(e,t,n);var a,c,l=E(e),f=E(t);if(l.length!==f.length)return!1;for(l.sort(),f.sort(),c=l.length-1;c>=0;c--)if(l[c]!==f[c])return!1;for(c=l.length-1;c>=0;c--)if(a=l[c],!g(e[a],t[a],n,r))return!1;return!0}(e,t,n,r))}return n?e===t:e==t}function w(e){return"[object Arguments]"==Object.prototype.toString.call(e)}function x(e,t){if(!e||!t)return!1;if("[object RegExp]"==Object.prototype.toString.call(t))return t.test(e);try{if(e instanceof t)return!0}catch(e){}return!Error.isPrototypeOf(t)&&!0===t.call({},e)}function _(e,t,n,r){var o;if("function"!=typeof t)throw new TypeError('"block" argument must be a function');"string"==typeof n&&(r=n,n=null),o=function(e){var t;try{e()}catch(e){t=e}return t}(t),r=(n&&n.name?" ("+n.name+").":".")+(r?" "+r:"."),e&&!o&&y(o,n,"Missing expected exception"+r);var i="string"==typeof r,a=!e&&o&&!n;if((!e&&s.isError(o)&&i&&x(o,n)||a)&&y(o,n,"Got unwanted exception"+r),e&&o&&n&&!x(o,n)||!e&&o)throw o}p.AssertionError=function(e){this.name="AssertionError",this.actual=e.actual,this.expected=e.expected,this.operator=e.operator,e.message?(this.message=e.message,this.generatedMessage=!1):(this.message=function(e){return v(b(e.actual),128)+" "+e.operator+" "+v(b(e.expected),128)}(this),this.generatedMessage=!0);var t=e.stackStartFunction||y;if(Error.captureStackTrace)Error.captureStackTrace(this,t);else{var n=new Error;if(n.stack){var r=n.stack,o=h(t),i=r.indexOf("\n"+o);if(i>=0){var s=r.indexOf("\n",i+1);r=r.substring(s+1)}this.stack=r}}},s.inherits(p.AssertionError,Error),p.fail=y,p.ok=m,p.equal=function(e,t,n){e!=t&&y(e,t,n,"==",p.equal)},p.notEqual=function(e,t,n){e==t&&y(e,t,n,"!=",p.notEqual)},p.deepEqual=function(e,t,n){g(e,t,!1)||y(e,t,n,"deepEqual",p.deepEqual)},p.deepStrictEqual=function(e,t,n){g(e,t,!0)||y(e,t,n,"deepStrictEqual",p.deepStrictEqual)},p.notDeepEqual=function(e,t,n){g(e,t,!1)&&y(e,t,n,"notDeepEqual",p.notDeepEqual)},p.notDeepStrictEqual=function e(t,n,r){g(t,n,!0)&&y(t,n,r,"notDeepStrictEqual",e)},p.strictEqual=function(e,t,n){e!==t&&y(e,t,n,"===",p.strictEqual)},p.notStrictEqual=function(e,t,n){e===t&&y(e,t,n,"!==",p.notStrictEqual)},p.throws=function(e,t,n){_(!0,e,t,n)},p.doesNotThrow=function(e,t,n){_(!1,e,t,n)},p.ifError=function(e){if(e)throw e},p.strict=r((function e(t,n){t||y(t,!0,n,"==",e)}),p,{equal:p.strictEqual,deepEqual:p.deepStrictEqual,notEqual:p.notStrictEqual,notDeepEqual:p.notDeepStrictEqual}),p.strict.strict=p.strict;var E=Object.keys||function(e){var t=[];for(var n in e)a.call(e,n)&&t.push(n);return t}}).call(this,n(23))},function(e,t,n){var r,o;!function(i,s){"use strict";void 0===(o="function"==typeof(r=function(){var e=function(){},t="undefined",n=typeof window!==t&&/Trident\/|MSIE /.test(window.navigator.userAgent),r=["trace","debug","info","warn","error"];function o(e,t){var n=e[t];if("function"==typeof n.bind)return n.bind(e);try{return Function.prototype.bind.call(n,e)}catch(t){return function(){return Function.prototype.apply.apply(n,[e,arguments])}}}function i(){console.log&&(console.log.apply?console.log.apply(console,arguments):Function.prototype.apply.apply(console.log,[console,arguments])),console.trace&&console.trace()}function s(t,n){for(var o=0;o<r.length;o++){var i=r[o];this[i]=o<t?e:this.methodFactory(i,t,n)}this.log=this.debug}function a(e,n,r){return function(){typeof console!==t&&(s.call(this,n,r),this[e].apply(this,arguments))}}function u(r,s,u){return function(r){return"debug"===r&&(r="log"),typeof console!==t&&("trace"===r&&n?i:void 0!==console[r]?o(console,r):void 0!==console.log?o(console,"log"):e)}(r)||a.apply(this,arguments)}function c(e,n,o){var i,a=this,c="loglevel";function l(){var e;if(typeof window!==t){try{e=window.localStorage[c]}catch(e){}if(typeof e===t)try{var n=window.document.cookie,r=n.indexOf(encodeURIComponent(c)+"=");-1!==r&&(e=/^([^;]+)/.exec(n.slice(r))[1])}catch(e){}return void 0===a.levels[e]&&(e=void 0),e}}e&&(c+=":"+e),a.name=e,a.levels={TRACE:0,DEBUG:1,INFO:2,WARN:3,ERROR:4,SILENT:5},a.methodFactory=o||u,a.getLevel=function(){return i},a.setLevel=function(n,o){if("string"==typeof n&&void 0!==a.levels[n.toUpperCase()]&&(n=a.levels[n.toUpperCase()]),!("number"==typeof n&&n>=0&&n<=a.levels.SILENT))throw"log.setLevel() called with invalid level: "+n;if(i=n,!1!==o&&function(e){var n=(r[e]||"silent").toUpperCase();if(typeof window!==t){try{return void(window.localStorage[c]=n)}catch(e){}try{window.document.cookie=encodeURIComponent(c)+"="+n+";"}catch(e){}}}(n),s.call(a,n,e),typeof console===t&&n<a.levels.SILENT)return"No console available for logging"},a.setDefaultLevel=function(e){l()||a.setLevel(e,!1)},a.enableAll=function(e){a.setLevel(a.levels.TRACE,e)},a.disableAll=function(e){a.setLevel(a.levels.SILENT,e)};var f=l();null==f&&(f=null==n?"WARN":n),a.setLevel(f,!1)}var l=new c,f={};l.getLogger=function(e){if("string"!=typeof e||""===e)throw new TypeError("You must supply a name when creating a logger.");var t=f[e];return t||(t=f[e]=new c(e,l.getLevel(),l.methodFactory)),t};var p=typeof window!==t?window.log:void 0;return l.noConflict=function(){return typeof window!==t&&window.log===l&&(window.log=p),l},l.getLoggers=function(){return f},l})?r.call(t,n,t,e):r)||(e.exports=o)}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}(n(33));var r=n(42);t.expose=r.expose;var o=n(7);t.Transfer=o.Transfer},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;return JSON.stringify(e,null,t)}},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return p})),n.d(t,"c",(function(){return d})),n.d(t,"b",(function(){return g}));var r=n(1),o=n(2),i=n(8),s=n(28);function a(e,t,n,r,o,i,s){try{var a=e[i](s),u=a.value}catch(e){return void n(e)}a.done?t(u):Promise.resolve(u).then(r,o)}function u(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function s(e){a(i,r,o,s,u,"next",e)}function u(e){a(i,r,o,s,u,"throw",e)}s(void 0)}))}}var c,l,f=Object(r.getLogger)("PipelinePool");f.setLevel("info");var p=navigator.hardwareConcurrency,d=function(){var t=u((function*(){f.info("starting worker pool");var t=0;c=Object(o.Pool)(()=>Object(o.spawn)(new o.Worker(e,{name:"pipe".concat(t++)})),p),l=new Map;for(var n=[],r=0;r<p;r++)n.push(c.queue(u((function*(){}))));yield Promise.all(n)}));return function(){return t.apply(this,arguments)}}(),h=(e,t,n)=>m("initialization")(u((function*(){return y(t,function(){var t=u((function*(t){return c.queue(r=>r.initialize(e,t,n))}));return function(e){return t.apply(this,arguments)}}())}))),v=(e,t)=>m("iteration")(u((function*(){return y(e.pipe.n,function(){var n=u((function*(n){return c.queue(r=>r.iterate(e,n,t))}));return function(e){return n.apply(this,arguments)}}())}))),b=function(){var e=u((function*(e){var t=(e=>JSON.stringify({pipe:e.pipe,hv:e.hv}))(e);if(!l.has(t)){var n=new s.a(e.scope),{n:r,staticFn:o,dynamicFn:a}=n.resolve(e.pipe),u=i.a.bufferFor(r,o.d,a.d);yield h(e,r,u),l.set(t,u)}return l.get(t)}));return function(t){return e.apply(this,arguments)}}(),y=function(){var e=u((function*(e,t){for(var n=Math.round(e/p),r=[],o=0;o<e;o+=n){var i={offset:o,size:Math.min(e-o,n)};r.push(t(i))}yield Promise.all(r)}));return function(t,n){return e.apply(this,arguments)}}(),m=e=>(function(){var t=u((function*(t){var n=Date.now(),r=yield t(),o=Date.now()-n;return f.debug("".concat(e," took ").concat(o,"ms")),r}));return function(e){return t.apply(this,arguments)}})(),g=function(){var e=u((function*(e){var t=yield b(e);return yield v(e,t),t.slice(0)}));return function(t){return e.apply(this,arguments)}}()}).call(this,n(51))},function(e,t){var n,r,o=e.exports={};function i(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function a(e){if(n===setTimeout)return setTimeout(e,0);if((n===i||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:i}catch(e){n=i}try{r="function"==typeof clearTimeout?clearTimeout:s}catch(e){r=s}}();var u,c=[],l=!1,f=-1;function p(){l&&u&&(l=!1,u.length?c=u.concat(c):f=-1,c.length&&d())}function d(){if(!l){var e=a(p);l=!0;for(var t=c.length;t;){for(u=c,c=[];++f<t;)u&&u[f].run();f=-1,t=c.length}u=null,l=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===s||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function h(e,t){this.fun=e,this.array=t}function v(){}o.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];c.push(new h(e,t)),1!==c.length||l||a(d)},h.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=v,o.addListener=v,o.once=v,o.off=v,o.removeListener=v,o.removeAllListeners=v,o.emit=v,o.prependListener=v,o.prependOnceListener=v,o.listeners=function(e){return[]},o.binding=function(e){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(e){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.$errors=Symbol("thread.errors"),t.$events=Symbol("thread.events"),t.$terminate=Symbol("thread.terminate"),t.$transferable=Symbol("thread.transferable"),t.$worker=Symbol("thread.worker")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(6);t.isTransferDescriptor=function(e){return e&&"object"==typeof e&&e[r.$transferable]},t.Transfer=function(e,t){if(!t){if(!(n=e)||"object"!=typeof n)throw Error();t=[e]}var n;return{[r.$transferable]:!0,send:e,transferables:t}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(0),o=n.n(r);function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class s{constructor(e,t,n,r){this.n=e,this.d=t,this.position=n,this.color=r}}i(s,"fromBuffer",e=>{var t=new Float32Array(e),n=t[s.nOffset],r=t[s.positionOffset(t)],o=s.position(t),i=s.color(t);return new s(n,r,o,i)}),i(s,"bufferFor",(e,t,n)=>{var r=new SharedArrayBuffer(4*(3+e*(t+n+3))),o=new Float32Array(r);return o[s.nOffset]=e,o[s.inputOffset]=t,o[s.positionOffset(o)]=n,r}),i(s,"input",e=>{var t=s.inputOffset+1;return e.subarray(t,t+s.inputLength(e))}),i(s,"position",e=>{var t=s.positionOffset(e)+1;return e.subarray(t,t+s.positionLength(e))}),i(s,"color",e=>{var t=s.colorOffset(e);return e.subarray(t)}),i(s,"nOffset",0),i(s,"inputOffset",s.nOffset+1),i(s,"inputLength",e=>{return e[s.nOffset]*e[s.inputOffset]}),i(s,"positionOffset",e=>s.inputOffset+s.inputLength(e)+1),i(s,"positionLength",e=>{return e[s.nOffset]*e[s.positionOffset(e)]}),i(s,"colorOffset",e=>s.positionOffset(e)+s.positionLength(e)+1),i(s,"get",(e,t,n)=>{var r=t*n;return e.subarray(r,r+n)}),i(s,"set",(e,t,n,r)=>{o()(t.length<=r);var i=n*r;return e.set(t,i)})},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=2**32-1},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(0),o=n.n(r);function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class s{constructor(e,t,n){var r=this;this.d=e,this.a=t,this.b=n,i(this,"domain",void 0),i(this,"fn",(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Float32Array(r.d),{a:n,b:i,d:s}=r;o.a.equal(e.length,s),o.a.equal(t.length,s);for(var a=0;a<s;a++)t[a]=n[a]+e[a]*(i[a]-n[a]);return t})),i(this,"sample",(function*(e,t,n){var{d:r,fn:o}=this;e=s.nPerLevel(r,e);for(var i=[[]],a=0;i.length&&a<n;){var u=i.pop();u.length<r?i.push(...c(u)):a++>=t&&(yield o(u))}function*c(t){for(var n=0;n<e;n++)yield[...t,n/e]}})),o.a.equal(t.length,e),o.a.equal(n.length,e),this.domain=e}}i(s,"nPerLevel",(e,t)=>Math.round(Math.pow(t,1/e)))},function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return o}));var r=n(2),o=Object(r.spawn)(new r.Worker(e,{name:"renderer"}))}).call(this,n(52))},,function(e,t,n){"use strict";var r,o=function(){return void 0===r&&(r=Boolean(window&&document&&document.all&&!window.atob)),r},i=function(){var e={};return function(t){if(void 0===e[t]){var n=document.querySelector(t);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}e[t]=n}return e[t]}}(),s={};function a(e,t,n){for(var r=0;r<t.length;r++){var o={css:t[r][1],media:t[r][2],sourceMap:t[r][3]};s[e][r]?s[e][r](o):s[e].push(v(o,n))}}function u(e){var t=document.createElement("style"),r=e.attributes||{};if(void 0===r.nonce){var o=n.nc;o&&(r.nonce=o)}if(Object.keys(r).forEach((function(e){t.setAttribute(e,r[e])})),"function"==typeof e.insert)e.insert(t);else{var s=i(e.insert||"head");if(!s)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");s.appendChild(t)}return t}var c,l=(c=[],function(e,t){return c[e]=t,c.filter(Boolean).join("\n")});function f(e,t,n,r){var o=n?"":r.css;if(e.styleSheet)e.styleSheet.cssText=l(t,o);else{var i=document.createTextNode(o),s=e.childNodes;s[t]&&e.removeChild(s[t]),s.length?e.insertBefore(i,s[t]):e.appendChild(i)}}function p(e,t,n){var r=n.css,o=n.media,i=n.sourceMap;if(o?e.setAttribute("media",o):e.removeAttribute("media"),i&&btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(i))))," */")),e.styleSheet)e.styleSheet.cssText=r;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(r))}}var d=null,h=0;function v(e,t){var n,r,o;if(t.singleton){var i=h++;n=d||(d=u(t)),r=f.bind(null,n,i,!1),o=f.bind(null,n,i,!0)}else n=u(t),r=p.bind(null,n,t),o=function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(n)};return r(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;r(e=t)}else o()}}e.exports=function(e,t,n){return(n=n||{}).singleton||"boolean"==typeof n.singleton||(n.singleton=o()),e=n.base?e+n.base:e,t=t||[],s[e]||(s[e]=[]),a(e,t,n),function(t){if(t=t||[],"[object Array]"===Object.prototype.toString.call(t)){s[e]||(s[e]=[]),a(e,t,n);for(var r=t.length;r<s[e].length;r++)s[e][r]();s[e].length=t.length,0===s[e].length&&delete s[e]}}}},function(e,t,n){"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n=function(e,t){var n=e[1]||"",r=e[3];if(!r)return n;if(t&&"function"==typeof btoa){var o=(s=r,a=btoa(unescape(encodeURIComponent(JSON.stringify(s)))),u="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(a),"/*# ".concat(u," */")),i=r.sources.map((function(e){return"/*# sourceURL=".concat(r.sourceRoot).concat(e," */")}));return[n].concat(i).concat([o]).join("\n")}var s,a,u;return[n].join("\n")}(t,e);return t[2]?"@media ".concat(t[2]," {").concat(n,"}"):n})).join("")},t.i=function(e,n){"string"==typeof e&&(e=[[null,e,""]]);for(var r=0;r<e.length;r++){var o=[].concat(e[r]);n&&(o[2]?o[2]="".concat(n," and ").concat(o[2]):o[2]=n),t.push(o)}},t}},function(e,t,n){(function(r){t.log=function(...e){return"object"==typeof console&&console.log&&console.log(...e)},t.formatArgs=function(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),!this.useColors)return;const n="color: "+this.color;t.splice(1,0,n,"color: inherit");let r=0,o=0;t[0].replace(/%[a-zA-Z%]/g,e=>{"%%"!==e&&(r++,"%c"===e&&(o=r))}),t.splice(o,0,n)},t.save=function(e){try{e?t.storage.setItem("debug",e):t.storage.removeItem("debug")}catch(e){}},t.load=function(){let e;try{e=t.storage.getItem("debug")}catch(e){}!e&&void 0!==r&&"env"in r&&(e=r.env.DEBUG);return e},t.useColors=function(){if("undefined"!=typeof window&&window.process&&("renderer"===window.process.type||window.process.__nwjs))return!0;if("undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;return"undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},t.storage=function(){try{return localStorage}catch(e){}}(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],e.exports=n(36)(t);const{formatters:o}=e.exports;o.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}}).call(this,n(5))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.rehydrateError=function(e){return Object.assign(Error(e.message),{name:e.name,stack:e.stack})},t.serializeError=function(e){return{message:e.message,name:e.name,stack:e.stack}}},function(e,t,n){"use strict";n.r(t);var r=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{u(r.next(e))}catch(e){i(e)}}function a(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){e.done?o(e.value):new n((function(t){t(e.value)})).then(s,a)}u((r=r.apply(e,t||[])).next())}))};class o{constructor(e){this._baseObserver=e,this._pendingPromises=new Set}complete(){Promise.all(this._pendingPromises).then(()=>this._baseObserver.complete()).catch(e=>this._baseObserver.error(e))}error(e){this._baseObserver.error(e)}schedule(e){const t=Promise.all(this._pendingPromises),n=[],o=e=>n.push(e),i=Promise.resolve().then(()=>r(this,void 0,void 0,(function*(){yield t,yield e(o),this._pendingPromises.delete(i);for(const e of n)this._baseObserver.next(e)}))).catch(e=>{this._pendingPromises.delete(i),this._baseObserver.error(e)});this._pendingPromises.add(i)}}const i=()=>"function"==typeof Symbol,s=e=>i()&&Boolean(Symbol[e]),a=e=>s(e)?Symbol[e]:"@@"+e;s("asyncIterator")||(Symbol.asyncIterator=Symbol.asyncIterator||Symbol.for("Symbol.asyncIterator"));const u=a("iterator"),c=a("observable"),l=a("species");function f(e,t){const n=e[t];if(null!=n){if("function"!=typeof n)throw new TypeError(n+" is not a function");return n}}function p(e){let t=e.constructor;return void 0!==t&&(t=t[l],null===t&&(t=void 0)),void 0!==t?t:x}function d(e){d.log?d.log(e):setTimeout(()=>{throw e},0)}function h(e){Promise.resolve().then(()=>{try{e()}catch(e){d(e)}})}function v(e){const t=e._cleanup;if(void 0!==t&&(e._cleanup=void 0,t))try{if("function"==typeof t)t();else{const e=f(t,"unsubscribe");e&&e.call(t)}}catch(e){d(e)}}function b(e){e._observer=void 0,e._queue=void 0,e._state="closed"}function y(e,t,n){e._state="running";const r=e._observer;try{const o=r?f(r,t):void 0;switch(t){case"next":o&&o.call(r,n);break;case"error":if(b(e),!o)throw n;o.call(r,n);break;case"complete":b(e),o&&o.call(r)}}catch(e){d(e)}"closed"===e._state?v(e):"running"===e._state&&(e._state="ready")}function m(e,t,n){if("closed"!==e._state)return"buffering"===e._state?(e._queue=e._queue||[],void e._queue.push({type:t,value:n})):"ready"!==e._state?(e._state="buffering",e._queue=[{type:t,value:n}],void h(()=>(function(e){const t=e._queue;if(t){e._queue=void 0,e._state="ready";for(const n of t)if(y(e,n.type,n.value),"closed"===e._state)break}})(e))):void y(e,t,n)}class g{constructor(e,t){this._cleanup=void 0,this._observer=e,this._queue=void 0,this._state="initializing";const n=new w(this);try{this._cleanup=t.call(void 0,n)}catch(e){n.error(e)}"initializing"===this._state&&(this._state="ready")}get closed(){return"closed"===this._state}unsubscribe(){"closed"!==this._state&&(b(this),v(this))}}class w{constructor(e){this._subscription=e}get closed(){return"closed"===this._subscription._state}next(e){m(this._subscription,"next",e)}error(e){m(this._subscription,"error",e)}complete(){m(this._subscription,"complete")}}class x{constructor(e){if(!(this instanceof x))throw new TypeError("Observable cannot be called as a function");if("function"!=typeof e)throw new TypeError("Observable initializer must be a function");this._subscriber=e}subscribe(e,t,n){return"object"==typeof e&&null!==e||(e={next:e,error:t,complete:n}),new g(e,this._subscriber)}pipe(e,...t){let n=this;for(const r of[e,...t])n=r(n);return n}tap(e,t,n){const r="object"!=typeof e||null===e?{next:e,error:t,complete:n}:e;return new x(e=>this.subscribe({next(t){r.next&&r.next(t),e.next(t)},error(t){r.error&&r.error(t),e.error(t)},complete(){r.complete&&r.complete(),e.complete()},start(e){r.start&&r.start(e)}}))}forEach(e){return new Promise((t,n)=>{if("function"!=typeof e)return void n(new TypeError(e+" is not a function"));function r(){o.unsubscribe(),t()}const o=this.subscribe({next(t){try{e(t,r)}catch(e){n(e),o.unsubscribe()}},error:n,complete:t})})}map(e){if("function"!=typeof e)throw new TypeError(e+" is not a function");return new(p(this))(t=>this.subscribe({next(n){let r=n;try{r=e(n)}catch(e){return t.error(e)}t.next(r)},error(e){t.error(e)},complete(){t.complete()}}))}filter(e){if("function"!=typeof e)throw new TypeError(e+" is not a function");return new(p(this))(t=>this.subscribe({next(n){try{if(!e(n))return}catch(e){return t.error(e)}t.next(n)},error(e){t.error(e)},complete(){t.complete()}}))}reduce(e,t){if("function"!=typeof e)throw new TypeError(e+" is not a function");const n=p(this),r=arguments.length>1;let o=!1,i=t;return new n(t=>this.subscribe({next(n){const s=!o;if(o=!0,!s||r)try{i=e(i,n)}catch(e){return t.error(e)}else i=n},error(e){t.error(e)},complete(){if(!o&&!r)return t.error(new TypeError("Cannot reduce an empty sequence"));t.next(i),t.complete()}}))}concat(...e){const t=p(this);return new t(n=>{let r,o=0;return function i(s){r=s.subscribe({next(e){n.next(e)},error(e){n.error(e)},complete(){o===e.length?(r=void 0,n.complete()):i(t.from(e[o++]))}})}(this),()=>{r&&(r.unsubscribe(),r=void 0)}})}flatMap(e){if("function"!=typeof e)throw new TypeError(e+" is not a function");const t=p(this);return new t(n=>{const r=[],o=this.subscribe({next(o){let s;if(e)try{s=e(o)}catch(e){return n.error(e)}else s=o;const a=t.from(s).subscribe({next(e){n.next(e)},error(e){n.error(e)},complete(){const e=r.indexOf(a);e>=0&&r.splice(e,1),i()}});r.push(a)},error(e){n.error(e)},complete(){i()}});function i(){o.closed&&0===r.length&&n.complete()}return()=>{r.forEach(e=>e.unsubscribe()),o.unsubscribe()}})}[c](){return this}static from(e){const t="function"==typeof this?this:x;if(null==e)throw new TypeError(e+" is not an object");const n=f(e,c);if(n){const r=n.call(e);if(Object(r)!==r)throw new TypeError(r+" is not an object");return function(e){return e instanceof x}(r)&&r.constructor===t?r:new t(e=>r.subscribe(e))}if(s("iterator")){const n=f(e,u);if(n)return new t(t=>{h(()=>{if(!t.closed){for(const r of n.call(e))if(t.next(r),t.closed)return;t.complete()}})})}if(Array.isArray(e))return new t(t=>{h(()=>{if(!t.closed){for(const n of e)if(t.next(n),t.closed)return;t.complete()}})});throw new TypeError(e+" is not observable")}static of(...e){return new("function"==typeof this?this:x)(t=>{h(()=>{if(!t.closed){for(const n of e)if(t.next(n),t.closed)return;t.complete()}})})}static get[l](){return this}}i()&&Object.defineProperty(x,Symbol("extensions"),{value:{symbol:c,hostReportError:d},configurable:!0});var _=x;var E=function(e){"function"==typeof e?e():e&&"function"==typeof e.unsubscribe&&e.unsubscribe()},O=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{u(r.next(e))}catch(e){i(e)}}function a(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){e.done?o(e.value):new n((function(t){t(e.value)})).then(s,a)}u((r=r.apply(e,t||[])).next())}))};var S=function(e){return t=>new _(n=>{const r=new o(n),i=t.subscribe({complete(){r.complete()},error(e){r.error(e)},next(t){r.schedule(n=>O(this,void 0,void 0,(function*(){(yield e(t))&&n(t)})))}});return()=>E(i)})};var j=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{u(r.next(e))}catch(e){i(e)}}function a(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){e.done?o(e.value):new n((function(t){t(e.value)})).then(s,a)}u((r=r.apply(e,t||[])).next())}))},k=function(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e="function"==typeof __values?__values(e):e[Symbol.iterator](),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise((function(r,o){(function(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)})(r,o,(t=e[n](t)).done,t.value)}))}}};var P=function(e){return t=>new _(n=>{const r=new o(n),i=t.subscribe({complete(){r.complete()},error(e){r.error(e)},next(t){r.schedule(n=>j(this,void 0,void 0,(function*(){var r,o;const i=yield e(t);if((c=i)&&s("iterator")&&c[Symbol.iterator]||function(e){return e&&s("asyncIterator")&&e[Symbol.asyncIterator]}(i))try{for(var a,u=k(i);!(a=yield u.next()).done;){const e=a.value;n(e)}}catch(e){r={error:e}}finally{try{a&&!a.done&&(o=u.return)&&(yield o.call(u))}finally{if(r)throw r.error}}else i.map(e=>n(e));var c})))}});return()=>E(i)})};function C(e){return new x(t=>{let n=0;const r=setInterval(()=>{t.next(n++)},e);return()=>clearInterval(r)})}var T=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{u(r.next(e))}catch(e){i(e)}}function a(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){e.done?o(e.value):new n((function(t){t(e.value)})).then(s,a)}u((r=r.apply(e,t||[])).next())}))};var M=function(e){return t=>new _(n=>{const r=new o(n),i=t.subscribe({complete(){r.complete()},error(e){r.error(e)},next(t){r.schedule(n=>T(this,void 0,void 0,(function*(){const r=yield e(t);n(r)})))}});return()=>E(i)})};var A=function(...e){return 0===e.length?x.from([]):new x(t=>{let n=0;const r=e.map(r=>r.subscribe({error(e){t.error(e),o()},next(e){t.next(e)},complete(){++n===e.length&&(t.complete(),o())}})),o=()=>{r.forEach(e=>E(e))};return o})};var F=class extends _{constructor(){super(e=>(this._observers.add(e),()=>this._observers.delete(e))),this._observers=new Set}next(e){for(const t of this._observers)t.next(e)}error(e){for(const t of this._observers)t.error(e)}complete(){for(const e of this._observers)e.complete()}};var L=function(e){const t=new F;let n,r=0;return new _(o=>{n||(n=e.subscribe(t));const i=t.subscribe(o);return r++,()=>{r--,i.unsubscribe(),0===r&&(E(n),n=void 0)}})},D=function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{u(r.next(e))}catch(e){i(e)}}function a(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){e.done?o(e.value):new n((function(t){t(e.value)})).then(s,a)}u((r=r.apply(e,t||[])).next())}))};var q=function(e,t){return n=>new _(r=>{let i,s=0;const a=new o(r),u=n.subscribe({complete(){a.complete()},error(e){a.error(e)},next(n){a.schedule(r=>D(this,void 0,void 0,(function*(){const o=0===s?void 0===t?n:t:i;i=yield e(o,n,s++),r(i)})))}});return()=>E(u)})};n.d(t,"filter",(function(){return S})),n.d(t,"flatMap",(function(){return P})),n.d(t,"interval",(function(){return C})),n.d(t,"map",(function(){return M})),n.d(t,"merge",(function(){return A})),n.d(t,"multicast",(function(){return L})),n.d(t,"Observable",(function(){return _})),n.d(t,"scan",(function(){return q})),n.d(t,"Subject",(function(){return F})),n.d(t,"unsubscribe",(function(){return E}))},function(e,t,n){"use strict";function r(e,t,n,o){this.message=e,this.expected=t,this.found=n,this.location=o,this.name="SyntaxError","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,r)}!function(e,t){function n(){this.constructor=e}n.prototype=t.prototype,e.prototype=new n}(r,Error),r.buildMessage=function(e,t){var n={literal:function(e){return'"'+o(e.text)+'"'},class:function(e){var t,n="";for(t=0;t<e.parts.length;t++)n+=e.parts[t]instanceof Array?i(e.parts[t][0])+"-"+i(e.parts[t][1]):i(e.parts[t]);return"["+(e.inverted?"^":"")+n+"]"},any:function(e){return"any character"},end:function(e){return"end of input"},other:function(e){return e.description}};function r(e){return e.charCodeAt(0).toString(16).toUpperCase()}function o(e){return e.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,(function(e){return"\\x0"+r(e)})).replace(/[\x10-\x1F\x7F-\x9F]/g,(function(e){return"\\x"+r(e)}))}function i(e){return e.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,(function(e){return"\\x0"+r(e)})).replace(/[\x10-\x1F\x7F-\x9F]/g,(function(e){return"\\x"+r(e)}))}return"Expected "+function(e){var t,r,o,i=new Array(e.length);for(t=0;t<e.length;t++)i[t]=(o=e[t],n[o.type](o));if(i.sort(),i.length>0){for(t=1,r=1;t<i.length;t++)i[t-1]!==i[t]&&(i[r]=i[t],r++);i.length=r}switch(i.length){case 1:return i[0];case 2:return i[0]+" or "+i[1];default:return i.slice(0,-1).join(", ")+", or "+i[i.length-1]}}(e)+" but "+function(e){return e?'"'+o(e)+'"':"end of input"}(t)+" found."},e.exports={SyntaxError:r,parse:function(e,t){t=void 0!==t?t:{};var n,o={},i={pipe:ft,scalar:ht},s=ft,a=function(e,t,n){return{kind:"pipe",n:e,d0:t,steps:n}},u=st("positive integer"),c=function(t){return(t=parseInt(t))<=0&&function(t,n){throw n=void 0!==n?n:ut(Ke,Ge),lt([st(t)],e.substring(Ke,Ge),n)}("a positive integer"),t},l=function(e,t){return[e,...t]},f=function(e){return[e]},p=st("cube"),d="cube",h=ot("cube",!0),v=function(e,t){return jt(e,t,1)},b=st("sphere"),y="sphere",m=ot("sphere",!0),g=st("spiral"),w="spiral",x=ot("spiral",!0),_=function(e,t){return jt(e,t,2)},E=st("torus"),O="torus",S=ot("torus",!0),j=st("fucked_up_torus"),k="fucked_up_torus",P=ot("fucked_up_torus",!0),C=st("rotate"),T="r",M=ot("r",!0),A="rotate",F=ot("rotate",!0),L=function(e){return jt("rotate",e,3,5)},D=st("stereo"),q="stereo",I=ot("stereo",!0),R=function(e){return[e]},z=st("scalar"),N=function(e,t,n){return{kind:"arith",op:t,operands:[e,n]}},H=st("term"),U=function(e){return{kind:"number",value:e}},$=function(e,t){return{kind:"fn",name:e.toLowerCase(),args:t}},W=function(e,t){return{kind:"access",id:e,index:t}},B=function(e){return e},V=function(e){return{kind:"id",id:e.toLowerCase()}},J=function(e){return e},Q=st("number"),Y=function(e){return parseFloat(e)},Z=function(e){return parseInt(e)},G=st("identifier"),K=/^[a-zA-Z]/,X=it([["a","z"],["A","Z"]],!1,!1),ee=/^[a-zA-Z0-9]/,te=it([["a","z"],["A","Z"],["0","9"]],!1,!1),ne=function(e){return e},re=st("float"),oe=/^[+\-]/,ie=it(["+","-"],!1,!1),se=/^[0-9]/,ae=it([["0","9"]],!1,!1),ue=/^[eE]/,ce=it(["e","E"],!1,!1),le=st("integer"),fe=st("unsigned integer"),pe=".",de=ot(".",!1),he=st("arithmetic operator"),ve="+",be=ot("+",!1),ye="-",me=ot("-",!1),ge="*",we=ot("*",!1),xe="/",_e=ot("/",!1),Ee="**",Oe=ot("**",!1),Se="^",je=ot("^",!1),ke=function(e){return e},Pe=st("lparen"),Ce="(",Te=ot("(",!1),Me=st("rparen"),Ae=")",Fe=ot(")",!1),Le=st("lbrack"),De="[",qe=ot("[",!1),Ie=st("rbrack"),Re="]",ze=ot("]",!1),Ne=st("comma"),He=",",Ue=ot(",",!1),$e=st("connector"),We="->",Be=ot("->",!1),Ve="=>",Je=ot("=>",!1),Qe=st("whitespace"),Ye=/^[ \t\n\r]/,Ze=it([" ","\t","\n","\r"],!1,!1),Ge=0,Ke=0,Xe=[{line:1,column:1}],et=0,tt=[],nt=0;if("startRule"in t){if(!(t.startRule in i))throw new Error("Can't start parsing from rule \""+t.startRule+'".');s=i[t.startRule]}function rt(e,t){throw function(e,t){return new r(e,null,null,t)}(e,t=void 0!==t?t:ut(Ke,Ge))}function ot(e,t){return{type:"literal",text:e,ignoreCase:t}}function it(e,t,n){return{type:"class",parts:e,inverted:t,ignoreCase:n}}function st(e){return{type:"other",description:e}}function at(t){var n,r=Xe[t];if(r)return r;for(n=t-1;!Xe[n];)n--;for(r={line:(r=Xe[n]).line,column:r.column};n<t;)10===e.charCodeAt(n)?(r.line++,r.column=1):r.column++,n++;return Xe[t]=r,r}function ut(e,t){var n=at(e),r=at(t);return{start:{offset:e,line:n.line,column:n.column},end:{offset:t,line:r.line,column:r.column}}}function ct(e){Ge<et||(Ge>et&&(et=Ge,tt=[]),tt.push(e))}function lt(e,t,n){return new r(r.buildMessage(e,t),e,t,n)}function ft(){var e,t,n,r;return e=Ge,St()!==o&&(t=pt())!==o&&Ot()!==o&&(n=pt())!==o&&Ot()!==o&&(r=function e(){var t,n,r;t=Ge,(n=dt())!==o&&Ot()!==o&&(r=e())!==o?(Ke=t,n=l(n,r),t=n):(Ge=t,t=o);t===o&&(t=Ge,(n=dt())!==o&&(Ke=t,n=f(n)),t=n);return t}())!==o&&St()!==o?(Ke=e,e=a(t,n,r)):(Ge=e,e=o),e}function pt(){var e,t;return nt++,e=Ge,(t=gt())!==o&&(Ke=e,t=c(t)),nt--,(e=t)===o&&(t=o,0===nt&&ct(u)),e}function dt(){var t;return(t=function(){var t,n,r;nt++,t=Ge,n=Ge,e.substr(Ge,4).toLowerCase()===d?(r=e.substr(Ge,4),Ge+=4):(r=o,0===nt&&ct(h));n=r!==o?e.substring(n,Ge):r;n!==o&&(r=bt())!==o?(Ke=t,n=v(n,r),t=n):(Ge=t,t=o);nt--,t===o&&(n=o,0===nt&&ct(p));return t}())===o&&(t=function(){var t,n,r;nt++,t=Ge,n=Ge,e.substr(Ge,6).toLowerCase()===y?(r=e.substr(Ge,6),Ge+=6):(r=o,0===nt&&ct(m));n=r!==o?e.substring(n,Ge):r;n!==o&&(r=bt())!==o?(Ke=t,n=v(n,r),t=n):(Ge=t,t=o);nt--,t===o&&(n=o,0===nt&&ct(b));return t}())===o&&(t=function(){var t,n,r;nt++,t=Ge,n=Ge,e.substr(Ge,6).toLowerCase()===w?(r=e.substr(Ge,6),Ge+=6):(r=o,0===nt&&ct(x));n=r!==o?e.substring(n,Ge):r;n!==o&&(r=bt())!==o?(Ke=t,n=_(n,r),t=n):(Ge=t,t=o);nt--,t===o&&(n=o,0===nt&&ct(g));return t}())===o&&(t=function(){var t,n,r;nt++,t=Ge,n=Ge,e.substr(Ge,5).toLowerCase()===O?(r=e.substr(Ge,5),Ge+=5):(r=o,0===nt&&ct(S));n=r!==o?e.substring(n,Ge):r;n!==o&&(r=bt())!==o?(Ke=t,n=_(n,r),t=n):(Ge=t,t=o);nt--,t===o&&(n=o,0===nt&&ct(E));return t}())===o&&(t=function(){var t,n,r;nt++,t=Ge,n=Ge,e.substr(Ge,15).toLowerCase()===k?(r=e.substr(Ge,15),Ge+=15):(r=o,0===nt&&ct(P));n=r!==o?e.substring(n,Ge):r;n!==o&&(r=bt())!==o?(Ke=t,n=_(n,r),t=n):(Ge=t,t=o);nt--,t===o&&(n=o,0===nt&&ct(j));return t}())===o&&(t=function(){var t,n,r;nt++,t=Ge,e.substr(Ge,1).toLowerCase()===T?(n=e.charAt(Ge),Ge++):(n=o,0===nt&&ct(M));n===o&&(e.substr(Ge,6).toLowerCase()===A?(n=e.substr(Ge,6),Ge+=6):(n=o,0===nt&&ct(F)));n!==o&&(r=bt())!==o?(Ke=t,n=L(r),t=n):(Ge=t,t=o);nt--,t===o&&(n=o,0===nt&&ct(C));return t}())===o&&(t=function(){var t,n,r;nt++,t=Ge,n=Ge,e.substr(Ge,6).toLowerCase()===q?(r=e.substr(Ge,6),Ge+=6):(r=o,0===nt&&ct(I));n=r!==o?e.substring(n,Ge):r;n!==o&&(r=bt())!==o?(Ke=t,n=v(n,r),t=n):(Ge=t,t=o);nt--,t===o&&(n=o,0===nt&&ct(D));return t}()),t}function ht(){var t,n,r,i;return nt++,t=Ge,(n=vt())!==o&&(r=function(){var t,n,r,i;nt++,t=Ge,(n=St())!==o?(r=Ge,43===e.charCodeAt(Ge)?(i=ve,Ge++):(i=o,0===nt&&ct(be)),i===o&&(45===e.charCodeAt(Ge)?(i=ye,Ge++):(i=o,0===nt&&ct(me)),i===o&&(42===e.charCodeAt(Ge)?(i=ge,Ge++):(i=o,0===nt&&ct(we)),i===o&&(47===e.charCodeAt(Ge)?(i=xe,Ge++):(i=o,0===nt&&ct(_e)),i===o&&(e.substr(Ge,2)===Ee?(i=Ee,Ge+=2):(i=o,0===nt&&ct(Oe)),i===o&&(94===e.charCodeAt(Ge)?(i=Se,Ge++):(i=o,0===nt&&ct(je))))))),(r=i!==o?e.substring(r,Ge):i)!==o&&(i=St())!==o?(Ke=t,n=ke(r),t=n):(Ge=t,t=o)):(Ge=t,t=o);nt--,t===o&&(n=o,0===nt&&ct(he));return t}())!==o&&(i=ht())!==o?(Ke=t,t=n=N(n,r,i)):(Ge=t,t=o),t===o&&(t=vt()),nt--,t===o&&(n=o,0===nt&&ct(z)),t}function vt(){var t,n,r,i;return nt++,t=Ge,(n=function(){var t,n,r;nt++,t=Ge,(n=St())!==o&&(r=function(){var t,n,r,i,s,a,u;nt++,t=Ge,n=Ge,oe.test(e.charAt(Ge))?(r=e.charAt(Ge),Ge++):(r=o,0===nt&&ct(ie));r===o&&(r=null);r!==o?(se.test(e.charAt(Ge))?(i=e.charAt(Ge),Ge++):(i=o,0===nt&&ct(ae)),i!==o&&(s=wt())!==o?(ue.test(e.charAt(Ge))?(a=e.charAt(Ge),Ge++):(a=o,0===nt&&ct(ce)),a!==o&&(u=mt())!==o?n=r=[r,i,s,a,u]:(Ge=n,n=o)):(Ge=n,n=o)):(Ge=n,n=o);t=n!==o?e.substring(t,Ge):n;t===o&&(t=Ge,n=Ge,(r=mt())===o&&(r=null),r!==o&&(i=wt())!==o?n=r=[r,i]:(Ge=n,n=o),t=n!==o?e.substring(t,Ge):n);nt--,t===o&&(n=o,0===nt&&ct(re));return t}())!==o&&St()!==o?(Ke=t,n=Y(r),t=n):(Ge=t,t=o);t===o&&(t=Ge,(n=St())!==o&&(r=mt())!==o&&St()!==o?(Ke=t,n=Z(r),t=n):(Ge=t,t=o));nt--,t===o&&(n=o,0===nt&&ct(Q));return t}())!==o&&(Ke=t,n=U(n)),(t=n)===o&&(t=Ge,(n=yt())!==o&&(r=bt())!==o?(Ke=t,t=n=$(n,r)):(Ge=t,t=o),t===o&&(t=Ge,(n=yt())!==o&&(r=function(){var t,n,r,i;nt++,t=Ge,(n=St())!==o?(91===e.charCodeAt(Ge)?(r=De,Ge++):(r=o,0===nt&&ct(qe)),r!==o&&(i=St())!==o?t=n=[n,r,i]:(Ge=t,t=o)):(Ge=t,t=o);nt--,t===o&&(n=o,0===nt&&ct(Le));return t}())!==o&&(i=ht())!==o&&function(){var t,n,r,i;nt++,t=Ge,(n=St())!==o?(93===e.charCodeAt(Ge)?(r=Re,Ge++):(r=o,0===nt&&ct(ze)),r!==o&&(i=St())!==o?t=n=[n,r,i]:(Ge=t,t=o)):(Ge=t,t=o);nt--,t===o&&(n=o,0===nt&&ct(Ie));return t}()!==o?(Ke=t,t=n=W(n,i)):(Ge=t,t=o),t===o&&(t=function(){var e,t;e=Ge,(t=yt())!==o&&(Ke=e,t=V(t));return e=t}())===o&&(t=Ge,(n=xt())!==o&&(r=ht())!==o&&(i=_t())!==o?(Ke=t,t=n=B(r)):(Ge=t,t=o)))),nt--,t===o&&(n=o,0===nt&&ct(H)),t}function bt(){var e,t;return e=Ge,xt()!==o&&(t=function e(){var t,n,r;t=Ge,(n=ht())!==o&&Et()!==o&&(r=e())!==o?(Ke=t,n=l(n,r),t=n):(Ge=t,t=o);t===o&&(t=Ge,(n=ht())!==o&&(Ke=t,n=R(n)),t=n);return t}())!==o&&_t()!==o?(Ke=e,e=J(t)):(Ge=e,e=o),e}function yt(){var t,n,r,i,s,a;if(nt++,t=Ge,St()!==o){if(n=Ge,r=Ge,K.test(e.charAt(Ge))?(i=e.charAt(Ge),Ge++):(i=o,0===nt&&ct(X)),i!==o){for(s=[],ee.test(e.charAt(Ge))?(a=e.charAt(Ge),Ge++):(a=o,0===nt&&ct(te));a!==o;)s.push(a),ee.test(e.charAt(Ge))?(a=e.charAt(Ge),Ge++):(a=o,0===nt&&ct(te));s!==o?r=i=[i,s]:(Ge=r,r=o)}else Ge=r,r=o;(n=r!==o?e.substring(n,Ge):r)!==o&&(r=St())!==o?(Ke=t,t=ne(n)):(Ge=t,t=o)}else Ge=t,t=o;return nt--,t===o&&(o,0===nt&&ct(G)),t}function mt(){var t,n,r,i;return nt++,t=Ge,n=Ge,oe.test(e.charAt(Ge))?(r=e.charAt(Ge),Ge++):(r=o,0===nt&&ct(ie)),r===o&&(r=null),r!==o&&(i=gt())!==o?n=r=[r,i]:(Ge=n,n=o),t=n!==o?e.substring(t,Ge):n,nt--,t===o&&(n=o,0===nt&&ct(le)),t}function gt(){var t,n,r;if(nt++,t=Ge,n=[],se.test(e.charAt(Ge))?(r=e.charAt(Ge),Ge++):(r=o,0===nt&&ct(ae)),r!==o)for(;r!==o;)n.push(r),se.test(e.charAt(Ge))?(r=e.charAt(Ge),Ge++):(r=o,0===nt&&ct(ae));else n=o;return t=n!==o?e.substring(t,Ge):n,nt--,t===o&&(n=o,0===nt&&ct(fe)),t}function wt(){var t,n,r,i;return t=Ge,n=Ge,46===e.charCodeAt(Ge)?(r=pe,Ge++):(r=o,0===nt&&ct(de)),r!==o&&(i=gt())!==o?n=r=[r,i]:(Ge=n,n=o),t=n!==o?e.substring(t,Ge):n}function xt(){var t,n,r,i;return nt++,t=Ge,(n=St())!==o?(40===e.charCodeAt(Ge)?(r=Ce,Ge++):(r=o,0===nt&&ct(Te)),r!==o&&(i=St())!==o?t=n=[n,r,i]:(Ge=t,t=o)):(Ge=t,t=o),nt--,t===o&&(n=o,0===nt&&ct(Pe)),t}function _t(){var t,n,r,i;return nt++,t=Ge,(n=St())!==o?(41===e.charCodeAt(Ge)?(r=Ae,Ge++):(r=o,0===nt&&ct(Fe)),r!==o&&(i=St())!==o?t=n=[n,r,i]:(Ge=t,t=o)):(Ge=t,t=o),nt--,t===o&&(n=o,0===nt&&ct(Me)),t}function Et(){var t,n,r,i;return nt++,t=Ge,(n=St())!==o?(44===e.charCodeAt(Ge)?(r=He,Ge++):(r=o,0===nt&&ct(Ue)),r!==o&&(i=St())!==o?t=n=[n,r,i]:(Ge=t,t=o)):(Ge=t,t=o),nt--,t===o&&(n=o,0===nt&&ct(Ne)),t}function Ot(){var t,n,r,i;return nt++,t=Ge,(n=St())!==o?(r=Ge,e.substr(Ge,2)===We?(i=We,Ge+=2):(i=o,0===nt&&ct(Be)),i===o&&(i=function(){var t,n,r;nt++,t=Ge,n=[],Ye.test(e.charAt(Ge))?(r=e.charAt(Ge),Ge++):(r=o,0===nt&&ct(Ze));if(r!==o)for(;r!==o;)n.push(r),Ye.test(e.charAt(Ge))?(r=e.charAt(Ge),Ge++):(r=o,0===nt&&ct(Ze));else n=o;t=n!==o?e.substring(t,Ge):n;nt--,t===o&&(n=o,0===nt&&ct(Qe));return t}())===o&&(e.substr(Ge,2)===Ve?(i=Ve,Ge+=2):(i=o,0===nt&&ct(Je))),(r=i!==o?e.substring(r,Ge):i)!==o&&(i=St())!==o?t=n=[n,r,i]:(Ge=t,t=o)):(Ge=t,t=o),nt--,t===o&&(n=o,0===nt&&ct($e)),t}function St(){var t,n;for(nt++,t=[],Ye.test(e.charAt(Ge))?(n=e.charAt(Ge),Ge++):(n=o,0===nt&&ct(Ze));n!==o;)t.push(n),Ye.test(e.charAt(Ge))?(n=e.charAt(Ge),Ge++):(n=o,0===nt&&ct(Ze));return nt--,t===o&&(n=o,0===nt&&ct(Qe)),t}function jt(e,t,n,r=n){return t.length<n?rt(`expected ${e} to have at least ${n} argument${1==n?"":"s"}, but found ${t.length} instead`):t.length>r&&rt(`expected ${e} to have at most ${r} argument${1==r?"":"s"}, but found ${t.length} instead`),{kind:"step",type:e,args:t}}if((n=s())!==o&&Ge===e.length)return n;throw n!==o&&Ge<e.length&&ct({type:"end"}),lt(tt,et<e.length?e.charAt(et):null,et<e.length?ut(et,et+1):ut(et,et))}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(34),o=navigator.hardwareConcurrency||4,i=e=>/^(file|https?:)?\/\//i.test(e);function s(e){const t=new Blob([e],{type:"application/javascript"});return URL.createObjectURL(t)}t.default={defaultPoolSize:o,selectWorkerImplementation:function(){return"undefined"==typeof Worker?class{constructor(){throw Error("No web worker implementation available. You might have tried to spawn a worker within a worker in a browser that doesn't support workers in workers.")}}:class extends Worker{constructor(e,t){"string"==typeof e&&t&&t._baseURL?e=new URL(e,t._baseURL):"string"==typeof e&&!i(e)&&r.getBundleURL().match(/^file:\/\//i)&&(e=new URL(e,r.getBundleURL().replace(/\/[^\/]+$/,"/")),e=s(`importScripts(${JSON.stringify(e)});`)),"string"==typeof e&&i(e)&&(e=s(`importScripts(${JSON.stringify(e)});`)),super(e,t)}}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(17),o=()=>void 0,i=e=>e,s=e=>Promise.resolve().then(e);function a(e){throw e}function u(e){let t=!1;const n=[],u=[];let c,l,f=!1,p="pending";const d=new r.Observable(r=>{const o=Object.assign(Object.assign({},r),{complete(){r.complete(),(()=>{p="fulfilled";for(const e of n)s(()=>e(c))})()},error(e){r.error(e),(e=>{p="rejected",l=e;for(const t of u)s(()=>t(e))})(e)},next(e){r.next(e),(e=>{f||(c=e,f=!0)})(e)}}),i=e=>{void 0!==e&&o.next(e),o.complete()},a=o.error.bind(o);try{return t=!0,e(i,a,o)}catch(e){a(e)}});function h(e,r){const o=e||i,s=r||a;let f=!1;return new Promise((e,r)=>{const i=t=>{if(!f){f=!0;try{e(s(t))}catch(e){r(e)}}};return t||d.subscribe({error:i}),"fulfilled"===p?e(o(c)):"rejected"===p?(f=!0,e(s(l))):(n.push(t=>{try{e(o(t))}catch(e){i(e)}}),void u.push(i))})}return Object.assign(d,{[Symbol.toStringTag]:"[object ObservablePromise]",then:h,catch:e=>h(void 0,e),finally:e=>(e=e||o,h(t=>(e(),t),()=>e()))})}t.ObservablePromise=u,t.makeHot=function(e){let t=[];return e.subscribe({complete(){t.forEach(e=>e.complete())},error(e){t.forEach(t=>t.error(e))},next(e){t.forEach(t=>t.next(e))}}),u((e,n,r)=>{t.push(r);return()=>{t=t.filter(e=>e!==r)}})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(6);function o(e){throw Error(e)}t.Thread={errors:e=>e[r.$errors]||o("Error observable not found. Make sure to pass a thread instance as returned by the spawn() promise."),events:e=>e[r.$events]||o("Events observable not found. Make sure to pass a thread instance as returned by the spawn() promise."),terminate:e=>e[r.$terminate]()}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.run="run"}(t.MasterMessageType||(t.MasterMessageType={})),function(e){e.error="error",e.init="init",e.result="result",e.running="running",e.uncaughtError="uncaughtError"}(t.WorkerMessageType||(t.WorkerMessageType={}))},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){"use strict";function r(e){var t,n=e.Symbol;return"function"==typeof n?n.observable?t=n.observable:(t=n("observable"),n.observable=t):t="@@observable",t}n.d(t,"a",(function(){return r}))},function(e,t,n){!function(){"use strict";var t=self.HTMLInputElement&&"valueLow"in HTMLInputElement.prototype,n=Object.getOwnPropertyDescriptor(HTMLInputElement.prototype,"value"),r=function(e){if(!t&&!e.classList.contains("multirange")){var r=e.getAttribute("value"),o=null===r?[]:r.split(","),i=+(e.min||0),s=+(e.max||100),a=e.cloneNode();e.classList.add("multirange","original"),a.classList.add("multirange","ghost"),e.value=o[0]||i+(s-i)/2,a.value=o[1]||i+(s-i)/2,e.parentNode.insertBefore(a,e.nextSibling),Object.defineProperty(e,"originalValue",n.get?n:{get:function(){return this.value},set:function(e){this.value=e}}),Object.defineProperties(e,{valueLow:{get:function(){return Math.min(this.originalValue,a.value)},set:function(e){this.originalValue=e},enumerable:!0},valueHigh:{get:function(){return Math.max(this.originalValue,a.value)},set:function(e){a.value=e},enumerable:!0}}),n.get&&Object.defineProperty(e,"value",{get:function(){return this.valueLow+","+this.valueHigh},set:function(e){var t=e.split(",");this.valueLow=t[0],this.valueHigh=t[1],u()},enumerable:!0}),"function"==typeof e.oninput&&(a.oninput=e.oninput.bind(e)),e.addEventListener("input",u),a.addEventListener("input",u),u()}function u(){a.style.setProperty("--low",(e.valueLow-i)/(s-i)*100+1+"%"),a.style.setProperty("--high",(e.valueHigh-i)/(s-i)*100-1+"%")}};r.init=function(){[].slice.call(document.querySelectorAll("input[type=range][multiple]:not(.multirange)")).forEach(r)},e.exports=r}()},function(e,t,n){e.exports=n.p+"eb34d8c1f3aeee04efd5.worklet.js"},function(e,t){e.exports='<h1>Stereo</h1>\n\n<div id="inputs">\n  <section>\n    <h2 title="Settings for point generation.">\n      Point Generation\n    </h2>\n    <span>\n      <label\n        for="pipe"\n        title="A sequence of operations that determines how the points are initialized and change over time."\n      >\n        Pipe\n      </label>\n      <textarea id="pipe"></textarea>\n    </span>\n\n    <span>\n      <label\n        for="theta"\n        title="Intended for use in functions of an angle (e.g. sin, cos, tan, R) to avoid repeating the same expression in multiple places."\n      >\n        Theta\n      </label>\n      <input id="theta" />\n    </span>\n  </section>\n\n  <section>\n    <h2 title="Settings for point color, represented in HSV.">\n      Color\n      <a\n        class="help"\n        target="_blank"\n        href="https://en.wikipedia.org/wiki/HSL_and_HSV#/media/File:HSV_color_solid_cylinder_saturation_gray.png"\n      ></a>\n    </h2>\n\n    <span>\n      <label for="h" title="An expression to determine the HSV hue of a point.">\n        Hue\n      </label>\n      <input id="h" />\n    </span>\n\n    <span>\n      <label\n        for="v"\n        title="An expression to determine the HSV value of a point."\n      >\n        Value\n      </label>\n      <input id="v" />\n    </span>\n  </section>\n</div>\n\n<div id="media">\n  <span id="animate">\n    <i class="material-icons on">play_arrow</i>\n    <i class="material-icons off">pause</i>\n  </span>\n\n  <span id="mic">\n    <i\n      title="Enable audio analysis. The page will use the browser\'s microphone to compute the value power and chroma, which describe the volume and musical note of the audio. Each value ranges from 0 to 1."\n      class="material-icons on"\n    >\n      mic\n    </i>\n    <i title="Disable audio analysis." class="material-icons off">\n      mic_off\n    </i>\n  </span>\n\n  <span id="allowed_db_range">\n    <div\n      title="Minimum volume of analyzed sound. Values below this will be evaluated to 0."\n    >\n      <span class="min"></span>dB\n    </div>\n\n    <div id="allowed_db_range_input">\n      <input type="range" multiple min="-200" max="0" />\n    </div>\n\n    <div\n      title="Maximum volumne of analyzed sound. Values above this will be evaluated to 1."\n    >\n      <span class="max"></span>dB\n    </div>\n  </span>\n\n  <div class="spacer"></div>\n\n  <span id="save">\n    <i class="material-icons">save_alt</i>\n  </span>\n\n  <span id="fullscreen">\n    <i title="Enter fullscreen." class="material-icons on">\n      fullscreen\n    </i>\n    <i title="Exit fullscreen." class="material-icons off">\n      fullscreen_exit\n    </i>\n  </span>\n</div>\n'},function(e,t,n){"use strict";var r=n(0),o=n.n(r),i=n(9);function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class a{constructor(e){var t=this;this.fns=e,s(this,"x",void 0),s(this,"y",void 0),s(this,"sample",(function*(e,t,n){var{fns:r,d:o}=this,[i,...s]=r;if(0==r.length)return[];for(var u of i.sample(e,t,n))this.x.set(u),s.length?a.apply(s,this.x,this.y):this.y.set(u),yield this.y.subarray(0,o)})),s(this,"fn",(function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Float32Array(t.d),{fns:r,domain:i,d:s}=t;return o.a.equal(e.length,i),o.a.equal(n.length,s),t.x.set(e),a.apply(r,t.x,t.y),n.set(t.y.subarray(0,s)),n})),o()(e.length,"fns cannot be empty");var n=Math.max(this.domainMax,this.dMax);this.x=new Float32Array(n),this.y=new Float32Array(n)}get first(){return this.fns[0]}get last(){return this.fns[this.fns.length-1]}get domain(){return this.first.domain}get d(){return this.last.d}get domainMax(){return this.fns.reduce((e,t)=>Math.max(t.domain,e),0)}get dMax(){return this.fns.reduce((e,t)=>Math.max(t.d,e),0)}}s(a,"apply",(e,t,n)=>{for(var r of(o.a.equal(t.length,n.length),e)){r.fn(t.subarray(0,r.domain),n.subarray(0,r.d));for(var s=0;s<n.length;s++)isFinite(n[s])||(n[s]=Math.sign(n[s])*i.a);t.set(n)}}),s(a,"Builder",class{constructor(){s(this,"fns",[]),s(this,"add",e=>{var{fns:t,last:n}=this;if(n&&e.domain!==n.d)throw new Error("Cannot add ".concat(e," to composite, because its domain is not ").concat(n.d));return t.push(e),this}),s(this,"build",()=>new a(this.fns))}get d(){return this.last.d}get last(){return this.fns[this.fns.length-1]}});var u=n(10);function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class l{constructor(e,t){this.d=e,this.l=t,c(this,"interval",void 0),c(this,"fn",(e,t)=>this.interval.fn(e,t)),c(this,"sample",(e,t,n)=>this.interval.sample(e,t,n)),this.interval=new u.a(e,new Array(e).fill(-t/2),new Array(e).fill(t/2))}get domain(){return this.d}}function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class p{constructor(e,t,n,r){var i=this,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Math.cos,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:Math.sin;this.d=e,this.theta=t,this.d0=n,this.d1=r,this.f0=s,this.f1=a,f(this,"r0",void 0),f(this,"r1",void 0),f(this,"sample",(function*(e,t,n){var r=new l(this.domain,2);for(var o of r.sample(e,t,n))yield this.fn(o)})),f(this,"fn",(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Float32Array(i.d),{d:n,d0:r,d1:s,r0:a,r1:u}=i;o.a.equal(e.length,n),o.a.equal(t.length,n),t.set(e);var c=e[r],l=e[s];return t[r]=c*a-l*u,t[s]=c*u+l*a,t})),this.r0=s(t),this.r1=a(t)}get domain(){return this.d}}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class h{constructor(e,t){var n=this;this.d=e,d(this,"root",void 0),d(this,"sample",(function*(e,t,n){var r=new l(this.domain,2*Math.PI);for(var o of r.sample(e,t,n))yield this.fn(o)})),d(this,"fn",(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Float32Array(n.d),{d:r,root:i}=n;o.a.equal(e.length,r-1),o.a.equal(t.length,r);var s=new a(Array.from(new Array(r-1).keys()).map(t=>new p(r,e[t],0,t+1)));return s.fn(i,t),t})),this.root=new Float32Array(e),this.root[0]=t}get domain(){return this.d-1}}function v(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class b{constructor(e,t,n){var r=this;this.d=e,this.r=t,this.t=n,v(this,"sphere",void 0),v(this,"circle",void 0),v(this,"sample",(function*(e,t,n){var r=new l(this.domain,2*Math.PI);for(var o of r.sample(e,t,n))yield this.fn(o)})),v(this,"fn",(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Float32Array(r.d),{domain:n,d:i,sphere:s,circle:a}=r;o.a.equal(e.length,n),o.a.equal(t.length,i),s.fn(e,t);var u=a.fn(e.subarray(i-2));return t[0]+=u[0],t[i-1]+=u[1],t})),this.sphere=new h(e,n),this.circle=new h(2,t)}get domain(){return this.d-1}}function y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class m{constructor(e){var t=this;this.d=e,y(this,"domain",void 0),y(this,"fn",(function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Float32Array(t.d),{d:r}=t;return o.a.equal(e.length,r),o.a.equal(n.length,r),n.set(e),n})),y(this,"sample",(function*(e,t,n){throw new Error("identity function does not support sampling")})),this.domain=e}}function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class w{constructor(e,t,n){var r=this;this.d=e,this.a=t,this.k=n,g(this,"sphere",void 0),g(this,"sample",(function*(e,t,n){var r=new l(this.domain,4*Math.PI);for(var o of r.sample(e,t,n))yield this.fn(o)})),g(this,"fn",(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Float32Array(r.d),{a:n,k:i,domain:s,d:a}=r;o.a.equal(e.length,a-1),o.a.equal(t.length,a),r.sphere.fn(e,t);for(var u=0,c=0;c<s;c++)u+=i[c]*e[c];for(var l=Math.exp(u),f=0;f<a;f++)t[f]=t[f]*n[f]*l;return t})),this.sphere=new h(e,1)}get domain(){return this.d-1}}function x(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class _{constructor(e,t){var n=this;this.from=e,this.to=t,x(this,"fromTemp",void 0),x(this,"toTemp",void 0),x(this,"sample",(function*(e,t,n){var r=new l(this.domain,2);for(var o of r.sample(e,t,n))yield this.fn(o)})),x(this,"fn",(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Float32Array(n.to),{from:r,to:i,fromTemp:s,toTemp:a}=n;if(o.a.equal(e.length,r),o.a.equal(t.length,i),r===i)return t.set(e),t;for(s.set(e);r<i;)_.up(s.subarray(0,r),a.subarray(0,++r)),s.set(a);for(;r>i;)_.down(s.subarray(0,r),a.subarray(0,--r)),s.set(a);return t.set(a.subarray(0,i)),t})),this.fromTemp=new Float32Array(Math.max(e,t)),this.toTemp=new Float32Array(Math.max(e,t))}get domain(){return this.from}get d(){return this.to}}x(_,"up",(e,t)=>{o.a.equal(t.length,e.length+1);var n=E(e),r=n+1;t[0]=(n-1)/r;for(var i=1;i<=e.length;i++)t[i]=2*e[i-1]/r}),x(_,"down",(e,t)=>{o.a.equal(t.length,e.length-1);for(var n=0;n<t.length;n++)t[n]=e[n+1]/(1-e[0])});var E=e=>{for(var t=0,n=0;n<e.length;n++)t+=e[n]*e[n];return t};function O(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class S{constructor(e,t,n){var r=this;this.d=e,this.r=t,this.t=n,O(this,"cross",void 0),O(this,"sample",(function*(e,t,n){var r=new l(this.domain,2*Math.PI);for(var o of r.sample(e,t,n))yield this.fn(o)})),O(this,"fn",(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Float32Array(r.d),{cross:n,d:i,r:s}=r;o.a.equal(e.length,i-1,"torus expects an input of ".concat(i-1,"; got ").concat(e.length));var a=new p(i,e[i-2],0,i-1);return n.fn(e.subarray(0,i-2),t.subarray(0,i-1)),t[0]+=s,a.fn(t,t),t})),o()(e>2,"torus is only defined for d > 2; got ".concat(e)),this.cross=new h(e-1,n)}get domain(){return this.d-1}}var j=n(3);function k(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"a",(function(){return P}));class P{constructor(e){this.scope=e,k(this,"resolvePipe",e=>{var[t,...n]=e.steps,r=[],o=this.resolveStep(e.d0,t);r.push(o);for(var i=0;i<n.length;i++)r.push(this.resolveStep(r[i].fn.d,n[i]));var[s,a]=this.buildComposites(r);return{n:e.n,staticFn:s,dynamicFn:a}}),k(this,"buildComposites",e=>{for(var t=new a.Builder;e.length&&!e[0].isDynamic;)t.add(e.shift().fn);var n=t.build();for(t=(new a.Builder).add(new m(n.d));e.length;)t.add(e.shift().fn);return[n,t.build()]}),k(this,"resolveStep",(e,t)=>{var{type:n,args:r}=t,o=M[n](e);return{fn:T[n](o,...r.map(e=>this.resolve(e))),isDynamic:r.some(this.isNodeDynamic)}}),k(this,"resolveFn",e=>{var{name:t,args:n}=e,r=Math[t];return o()("function"==typeof r,"Expected ".concat(t," to be a Math function in ").concat(Object(j.a)({name:t,args:n}))),r(...n.map(e=>this.resolve(e)))}),k(this,"resolveAccess",e=>{var{id:t,index:n}=e,r=this.scope,i=r[t];return o()(i,"Unable to resolve ".concat(t," in scope ").concat(Object(j.a)(r,2))),i[this.resolve(n,"number")]}),k(this,"resolveId",e=>{if(e in this.scope)return this.scope[e];if(e in Math)return Math[e];var t=e.toUpperCase();if(t in Math)return Math[t];o.a.fail("unable to resolve id ".concat(e," in scope ").concat(Object(j.a)(this.scope,2)))}),k(this,"resolveArith",e=>{var{op:t,operands:n}=e,[r,o]=n.map(e=>this.resolve(e,"number"));return C[t](r,o)}),k(this,"isNodeDynamic",e=>{switch(e.kind){case"fn":return e.args.some(this.isNodeDynamic);case"id":return"number"==typeof this.resolve(e);case"arith":return e.operands.some(this.isNodeDynamic);default:return!1}})}resolve(e,t){var n;switch(e.kind){case"pipe":n=this.resolvePipe(e);break;case"number":n=e.value;break;case"fn":n=this.resolveFn(e);break;case"access":n=this.resolveAccess(e);break;case"id":n=this.resolveId(e.id);break;case"arith":n=this.resolveArith(e)}if(t){var r=typeof n;o.a.equal(r,t,"Expected identifier ".concat(e.id," to resolve to a ").concat(t,", but was ").concat(r," instead.")),"number"===t&&isNaN(n)&&o.a.fail("Expected node ".concat(Object(j.a)(e)," to resolve to a valid value, but was NaN instead."))}return n}}var C={"+":(e,t)=>e+t,"-":(e,t)=>e-t,"*":(e,t)=>e*t,"/":(e,t)=>e/t,"**":(e,t)=>e**t,"^":(e,t)=>e**t},T={cube:(e,t)=>new l(e,t),sphere:(e,t)=>new h(e,t),spiral:(e,t,n)=>new w(e,new Array(e).fill(t),new Array(e-1).fill(n)),torus:(e,t,n)=>new S(e,t,n),fucked_up_torus:(e,t,n)=>new b(e,t,n),rotate:function(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Math.cos,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:Math.sin;return o()(0<=n&&n<e,"rotate: Expected 0 <= d0 = ".concat(n," < d = ").concat(e)),o()(0<=r&&r<e,"rotate: Expected 0 <= d1 = ".concat(r," < d = ").concat(e)),new p(e,t,n,r,i,s)},stereo:(e,t)=>new _(e,t)},M={cube:e=>e,sphere:e=>e+1,spiral:e=>e+1,torus:e=>e+1,fucked_up_torus:e=>e+1,rotate:e=>e,r:e=>e,stereo:e=>e}},function(e,t,n){var r=n(13),o=n(30);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[e.i,o,""]]);var i={insert:"head",singleton:!1},s=(r(e.i,o,i),o.locals?o.locals:{});e.exports=s},function(e,t,n){(t=n(14)(!1)).push([e.i,'@supports (--css: variables) {\n\tinput[type="range"].multirange {\n\t\tpadding: 0;\n\t\tmargin: 0;\n\t\tdisplay: inline-block;\n\t\tvertical-align: top;\n\t}\n\n\tinput[type="range"].multirange.original {\n\t\tposition: absolute;\n\t}\n\n\t\tinput[type="range"].multirange.original::-webkit-slider-thumb {\n\t\t\tposition: relative;\n\t\t\tz-index: 2;\n\t\t}\n\n\t\tinput[type="range"].multirange.original::-moz-range-thumb {\n\t\t\ttransform: scale(1); /* FF doesn\'t apply position it seems */\n\t\t\tz-index: 1;\n\t\t}\n\n\t\tinput[type="range"].multirange::-moz-range-track {\n\t\t\tborder-color: transparent; /* needed to switch FF to "styleable" control */\n\t\t}\n\n\tinput[type="range"].multirange.ghost {\n\t\tposition: relative;\n\t\tbackground: var(--track-background);\n\t\t--track-background: linear-gradient(to right,\n\t\t\t\ttransparent var(--low), var(--range-color) 0,\n\t\t\t\tvar(--range-color) var(--high), transparent 0\n\t\t\t) no-repeat 0 45% / 100% 40%;\n\t\t--range-color: hsl(190, 80%, 40%);\n\t}\n\n\t\tinput[type="range"].multirange.ghost::-webkit-slider-runnable-track {\n\t\t\tbackground: var(--track-background);\n\t\t}\n\n\t\tinput[type="range"].multirange.ghost::-moz-range-track {\n\t\t\tbackground: var(--track-background);\n\t\t}\n\n}\n',""]),e.exports=t},function(e,t,n){var r=n(13),o=n(32);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[e.i,o,""]]);var i={insert:"head",singleton:!1},s=(r(e.i,o,i),o.locals?o.locals:{});e.exports=s},function(e,t,n){(t=n(14)(!1)).push([e.i,'body{color:white;cursor:wait;font-family:"FiraCode Nerd Font",FiraCode,Roboto,Helvetica;font-size:16px;margin:auto;overflow:hidden}body h1{left:0;margin:8px;position:absolute;top:0}body.data{cursor:auto}body.data.cursor-inactive{cursor:none}input,textarea{font-family:"FiraCode Nerd Font",FiraCode,Roboto,Helvetica;font-size:16px}\n',""]),e.exports=t},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=r(n(19));var i=n(35);t.Pool=i.Pool;var s=n(38);t.spawn=s.spawn;var a=n(21);t.Thread=a.Thread,t.Worker=o.default.selectWorkerImplementation()},function(e,t,n){"use strict";let r;function o(e){return(""+e).replace(/^((?:https?|file|ftp|chrome-extension|moz-extension):\/\/.+)?\/[^/]+(?:\?.*)?$/,"$1")+"/"}Object.defineProperty(t,"__esModule",{value:!0}),t.getBundleURL=function(){return r||(r=function(){try{throw new Error}catch(e){const t=(""+e.stack).match(/(https?|file|ftp|chrome-extension|moz-extension):\/\/[^)\n]+/g);if(t)return o(t[0])}return"/"}()),r},t.getBaseURL=o},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{u(r.next(e))}catch(e){i(e)}}function a(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=o(n(15)),s=n(17),a=n(20),u=o(n(19)),c=n(21);t.Thread=c.Thread;let l=1;const f=()=>"function"==typeof Symbol,p=e=>f()&&Boolean(Symbol[e]);var d;function h(e,t){const n="number"==typeof t?{size:t}:t||{},o=i.default(`threads:pool:${h=n.name||String(l++),h.replace(/\W/g," ").trim().replace(/\s+/g,"-")}`);var h;const{concurrency:v=1,size:b=u.default.defaultPoolSize}=n;let y=!1,m=1,g=[];const w=[],x=function(e,t){return function(e){const t=[];for(let n=0;n<e;n++)t.push(n);return t}(t).map(()=>({init:e(),runningTasks:[]}))}(e,b);let _;const E=a.makeHot(new s.Observable(e=>{_=e}));Promise.all(x.map(e=>e.init)).then(()=>_.next({type:d.initialized,size:x.length}),e=>{o("Error while initializing pool worker:",e),_.error(e),w.push(e)});const O=()=>{o("Attempt de-queueing a task in order to run it...");const e=function(e,t){return e.find(e=>e.runningTasks.length<t)}(x,v);if(!e)return;const t=g.shift();if(!t)return o("Task queue is empty"),void _.next({type:d.taskQueueDrained});const n=x.indexOf(e)+1,i=((t,s)=>r(this,void 0,void 0,(function*(){var a;yield(a=0,new Promise(e=>setTimeout(e,a)));try{yield function(e,t,n,o,i){return r(this,void 0,void 0,(function*(){i(`Running task #${e.id} on worker #${n}...`),o.next({type:d.taskStart,taskID:e.id,workerID:n});try{const r=yield e.run(yield t.init);i(`Task #${e.id} completed successfully`),o.next({type:d.taskCompleted,returnValue:r,taskID:e.id,workerID:n})}catch(t){i(`Task #${e.id} failed`),o.next({type:d.taskFailed,taskID:e.id,error:t,workerID:n})}}))}(s,e,n,_,o)}finally{t.runningTasks=t.runningTasks.filter(e=>e!==i),y||O()}})))(e,t);e.runningTasks.push(i)},S={completed(e=!1){return r(this,void 0,void 0,(function*(){const t=()=>(function(e,t){return e.reduce((e,n)=>[...e,...t(n)],[])})(x,e=>e.runningTasks);if(w.length>0)return Promise.reject(w[0]);if(e&&0===g.length)return Promise.all(t());const n=new Promise((e,t)=>{const n=E.subscribe(r=>{r.type===d.taskQueueDrained?(n.unsubscribe(),e()):r.type===d.taskFailed&&(n.unsubscribe(),t(r.error))})});yield Promise.race([n,E]),yield Promise.all(t())}))},events:()=>E,queue(e){if(y)throw Error("Cannot schedule pool tasks after terminate() has been called.");if(w.length>0)throw w[0];let t;const n={id:m++,run:e,cancel(){-1!==g.indexOf(n)&&(g=g.filter(e=>e!==n),_.next({type:d.taskCanceled,taskID:n.id}))},get then(){if(!t){const e=new Promise((e,t)=>{const r=S.events().subscribe(o=>{o.type===d.taskCompleted&&o.taskID===n.id?(r.unsubscribe(),e(o.returnValue)):o.type===d.taskFailed&&o.taskID===n.id?(r.unsubscribe(),t(o.error)):o.type===d.terminated&&(r.unsubscribe(),t(Error("Pool has been terminated before task was run.")))})});t=e.then.bind(e)}return t}};return o(`Queueing task #${n.id}...`),g.push(n),_.next({type:d.taskQueued,taskID:n.id}),O(),n},terminate(e){return r(this,void 0,void 0,(function*(){y=!0,e||(yield S.completed(!0)),_.next({type:d.terminated,remainingQueue:[...g]}),_.complete(),yield Promise.all(x.map(e=>r(this,void 0,void 0,(function*(){return c.Thread.terminate(yield e.init)}))))}))}};return f()&&p("toStringTag")&&(S[Symbol.toStringTag]=()=>"[object Pool]"),S}!function(e){e.initialized="initialized",e.taskCanceled="taskCanceled",e.taskCompleted="taskCompleted",e.taskFailed="taskFailed",e.taskQueued="taskQueued",e.taskQueueDrained="taskQueueDrained",e.taskStart="taskStart",e.terminated="terminated"}(d=t.PoolEventType||(t.PoolEventType={})),h.EventType=d,t.Pool=h},function(e,t,n){e.exports=function(e){function t(e){let t=0;for(let n=0;n<e.length;n++)t=(t<<5)-t+e.charCodeAt(n),t|=0;return r.colors[Math.abs(t)%r.colors.length]}function r(e){let n;function s(...e){if(!s.enabled)return;const t=s,o=Number(new Date),i=o-(n||o);t.diff=i,t.prev=n,t.curr=o,n=o,e[0]=r.coerce(e[0]),"string"!=typeof e[0]&&e.unshift("%O");let a=0;e[0]=e[0].replace(/%([a-zA-Z%])/g,(n,o)=>{if("%%"===n)return n;a++;const i=r.formatters[o];if("function"==typeof i){const r=e[a];n=i.call(t,r),e.splice(a,1),a--}return n}),r.formatArgs.call(t,e),(t.log||r.log).apply(t,e)}return s.namespace=e,s.enabled=r.enabled(e),s.useColors=r.useColors(),s.color=t(e),s.destroy=o,s.extend=i,"function"==typeof r.init&&r.init(s),r.instances.push(s),s}function o(){const e=r.instances.indexOf(this);return-1!==e&&(r.instances.splice(e,1),!0)}function i(e,t){const n=r(this.namespace+(void 0===t?":":t)+e);return n.log=this.log,n}function s(e){return e.toString().substring(2,e.toString().length-2).replace(/\.\*\?$/,"*")}return r.debug=r,r.default=r,r.coerce=function(e){if(e instanceof Error)return e.stack||e.message;return e},r.disable=function(){const e=[...r.names.map(s),...r.skips.map(s).map(e=>"-"+e)].join(",");return r.enable(""),e},r.enable=function(e){let t;r.save(e),r.names=[],r.skips=[];const n=("string"==typeof e?e:"").split(/[\s,]+/),o=n.length;for(t=0;t<o;t++)n[t]&&("-"===(e=n[t].replace(/\*/g,".*?"))[0]?r.skips.push(new RegExp("^"+e.substr(1)+"$")):r.names.push(new RegExp("^"+e+"$")));for(t=0;t<r.instances.length;t++){const e=r.instances[t];e.enabled=r.enabled(e.namespace)}},r.enabled=function(e){if("*"===e[e.length-1])return!0;let t,n;for(t=0,n=r.skips.length;t<n;t++)if(r.skips[t].test(e))return!1;for(t=0,n=r.names.length;t<n;t++)if(r.names[t].test(e))return!0;return!1},r.humanize=n(37),Object.keys(e).forEach(t=>{r[t]=e[t]}),r.instances=[],r.names=[],r.skips=[],r.formatters={},r.selectColor=t,r.enable(r.load()),r}},function(e,t){var n=1e3,r=60*n,o=60*r,i=24*o,s=7*i,a=365.25*i;function u(e,t,n,r){var o=t>=1.5*n;return Math.round(e/n)+" "+r+(o?"s":"")}e.exports=function(e,t){t=t||{};var c=typeof e;if("string"===c&&e.length>0)return function(e){if((e=String(e)).length>100)return;var t=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(!t)return;var u=parseFloat(t[1]);switch((t[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return u*a;case"weeks":case"week":case"w":return u*s;case"days":case"day":case"d":return u*i;case"hours":case"hour":case"hrs":case"hr":case"h":return u*o;case"minutes":case"minute":case"mins":case"min":case"m":return u*r;case"seconds":case"second":case"secs":case"sec":case"s":return u*n;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return u;default:return}}(e);if("number"===c&&isFinite(e))return t.long?function(e){var t=Math.abs(e);if(t>=i)return u(e,t,i,"day");if(t>=o)return u(e,t,o,"hour");if(t>=r)return u(e,t,r,"minute");if(t>=n)return u(e,t,n,"second");return e+" ms"}(e):function(e){var t=Math.abs(e);if(t>=i)return Math.round(e/i)+"d";if(t>=o)return Math.round(e/o)+"h";if(t>=r)return Math.round(e/r)+"m";if(t>=n)return Math.round(e/n)+"s";return e+"ms"}(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},function(e,t,n){"use strict";(function(e){var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{u(r.next(e))}catch(e){i(e)}}function a(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=o(n(15)),s=n(17),a=n(16),u=n(39),c=n(6),l=n(40),f=n(41),p=i.default("threads:master:messages"),d=i.default("threads:master:spawn"),h=i.default("threads:master:thread-utils"),v=e=>e&&"init"===e.type,b=e=>e&&"uncaughtError"===e.type,y=void 0!==e&&e.env.THREADS_WORKER_INIT_TIMEOUT?Number.parseInt(e.env.THREADS_WORKER_INIT_TIMEOUT,10):1e4;function m(e,t,n,r){const o=n.filter(e=>e.type===l.WorkerEventType.internalError).map(e=>e.error);return Object.assign(e,{[c.$errors]:o,[c.$events]:n,[c.$terminate]:r,[c.$worker]:t})}t.spawn=function(e){return r(this,void 0,void 0,(function*(){d("Initializing new thread");const t=(yield function(e,t,n){return r(this,void 0,void 0,(function*(){let r;const o=new Promise((e,o)=>{r=setTimeout(()=>o(Error(n)),t)}),i=yield Promise.race([e,o]);return clearTimeout(r),i}))}(function(e){return new Promise((t,n)=>{const r=o=>{p("Message from worker before finishing initialization:",o.data),v(o.data)?(e.removeEventListener("message",r),t(o.data)):b(o.data)&&(e.removeEventListener("message",r),n(a.rehydrateError(o.data.error)))};e.addEventListener("message",r)})}(e),y,`Timeout: Did not receive an init message from worker after ${y}ms. Make sure the worker calls expose().`)).exposed,{termination:n,terminate:o}=function(e){const[t,n]=u.createPromiseWithResolver();return{terminate:()=>r(this,void 0,void 0,(function*(){h("Terminating worker"),yield e.terminate(),n()})),termination:t}}(e),i=function(e,t){return new s.Observable(n=>{const r=e=>{const t={type:l.WorkerEventType.message,data:e.data};n.next(t)},o=e=>{h("Unhandled promise rejection event in thread:",e);const t={type:l.WorkerEventType.internalError,error:Error(e.reason)};n.next(t)};e.addEventListener("message",r),e.addEventListener("unhandledrejection",o),t.then(()=>{const t={type:l.WorkerEventType.termination};e.removeEventListener("message",r),e.removeEventListener("unhandledrejection",o),n.next(t),n.complete()})})}(e,n);if("function"===t.type){return m(f.createProxyFunction(e),e,i,o)}if("module"===t.type){return m(f.createProxyModule(e,t.methods),e,i,o)}{const e=t.type;throw Error(`Worker init message states unexpected type of expose(): ${e}`)}}))}}).call(this,n(5))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=()=>void 0;t.createPromiseWithResolver=function(){let e,t=!1,n=r;return[new Promise(r=>{t?r(e):n=r}),r=>{t=!0,e=r,n()}]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});n(6);!function(e){e.internalError="internalError",e.message="message",e.termination="termination"}(t.WorkerEventType||(t.WorkerEventType={}))},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=r(n(15)),i=n(16),s=n(20),a=n(7),u=n(22),c=o.default("threads:master:messages");let l=1;const f=e=>Array.from(new Set(e)),p=e=>e&&e.type===u.WorkerMessageType.error,d=e=>e&&e.type===u.WorkerMessageType.result,h=e=>e&&e.type===u.WorkerMessageType.running;function v(e,t){return(...n)=>{const r=l++,{args:o,transferables:v}=function(e){const t=[],n=[];for(const r of e)a.isTransferDescriptor(r)?(t.push(r.send),n.push(...r.transferables)):t.push(r);return{args:t,transferables:f(n)}}(n),b={type:u.MasterMessageType.run,uid:r,method:t,args:o};return c("Sending command to run function to worker:",b),e.postMessage(b,v),s.makeHot(function(e,t){let n;return s.ObservablePromise((r,o,s)=>{const a=u=>{if(c("Message from worker:",u.data),u.data&&u.data.uid===t)if(h(u.data))n=u.data.resultType;else if(d(u.data))"promise"===n?(r(u.data.payload),e.removeEventListener("message",a)):(u.data.payload&&s.next(u.data.payload),u.data.complete&&(s.complete(),e.removeEventListener("message",a)));else if(p(u.data)){const t=i.rehydrateError(u.data.error);"promise"!==n&&n?s.error(t):o(t),e.removeEventListener("message",a)}};return e.addEventListener("message",a),()=>e.removeEventListener("message",a)})}(e,r))}}t.createProxyFunction=v,t.createProxyModule=function(e,t){const n={};for(const r of t)n[r]=v(e,r);return n}},function(e,t,n){"use strict";(function(e){var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{u(r.next(e))}catch(e){i(e)}}function a(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=o(n(43)),s=n(16),a=n(7),u=n(22),c=o(n(46));var l=n(7);t.Transfer=l.Transfer;let f=!1;const p=e=>e&&e.type===u.MasterMessageType.run,d=e=>i.default(e)||function(e){return e&&"object"==typeof e&&"function"==typeof e.subscribe}(e);function h(e){return a.isTransferDescriptor(e)?{payload:e.send,transferables:e.transferables}:{payload:e,transferables:void 0}}function v(e,t){const{payload:n,transferables:r}=h(t),o={type:u.WorkerMessageType.error,uid:e,error:s.serializeError(n)};c.default.postMessageToMaster(o,r)}function b(e,t,n){const{payload:r,transferables:o}=h(n),i={type:u.WorkerMessageType.result,uid:e,complete:!!t||void 0,payload:r};c.default.postMessageToMaster(i,o)}function y(e){const t={type:u.WorkerMessageType.uncaughtError,error:s.serializeError(e)};c.default.postMessageToMaster(t)}function m(e,t,n){return r(this,void 0,void 0,(function*(){let r;try{r=t(...n)}catch(t){return v(e,t)}const o=d(r)?"observable":"promise";if(function(e,t){const n={type:u.WorkerMessageType.running,uid:e,resultType:t};c.default.postMessageToMaster(n)}(e,o),d(r))r.subscribe(t=>b(e,!1,t),t=>v(e,t),()=>b(e,!0));else try{const t=yield r;b(e,!0,t)}catch(t){v(e,t)}}))}t.expose=function(e){if(!c.default.isWorkerRuntime())throw Error("expose() called in the master thread.");if(f)throw Error("expose() called more than once. This is not possible. Pass an object to expose() if you want to expose multiple functions.");if(f=!0,"function"==typeof e)c.default.subscribeToMasterMessages(t=>{p(t)&&!t.method&&m(t.uid,e,t.args)}),function(){const e={type:u.WorkerMessageType.init,exposed:{type:"function"}};c.default.postMessageToMaster(e)}();else{if("object"!=typeof e||!e)throw Error(`Invalid argument passed to expose(). Expected a function or an object, got: ${e}`);c.default.subscribeToMasterMessages(t=>{p(t)&&t.method&&m(t.uid,e[t.method],t.args)}),function(e){const t={type:u.WorkerMessageType.init,exposed:{type:"module",methods:e}};c.default.postMessageToMaster(t)}(Object.keys(e).filter(t=>"function"==typeof e[t]))}},"undefined"!=typeof self&&"function"==typeof self.addEventListener&&c.default.isWorkerRuntime()&&(self.addEventListener("error",e=>{setTimeout(()=>y(e.error||e),250)}),self.addEventListener("unhandledrejection",e=>{const t=e.reason;t&&"string"==typeof t.message&&setTimeout(()=>y(t),250)})),void 0!==e&&"function"==typeof e.on&&c.default.isWorkerRuntime()&&(e.on("uncaughtException",e=>{setTimeout(()=>y(e),250)}),e.on("unhandledRejection",e=>{e&&"string"==typeof e.message&&setTimeout(()=>y(e),250)}))}).call(this,n(5))},function(e,t,n){"use strict";const r=n(44).default;e.exports=e=>Boolean(e&&e[r]&&e===e[r]())},function(e,t,n){"use strict";n.r(t),function(e,r){var o,i=n(24);o="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==e?e:r;var s=Object(i.a)(o);t.default=s}.call(this,n(23),n(45)(e))},function(e,t){e.exports=function(e){if(!e.webpackPolyfill){var t=Object.create(e);t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),Object.defineProperty(t,"exports",{enumerable:!0}),t.webpackPolyfill=1}return t}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={isWorkerRuntime:function(){return!("undefined"==typeof self||!self.postMessage)},postMessageToMaster:function(e,t){self.postMessage(e,t)},subscribeToMasterMessages:function(e){const t=t=>{e(t.data)};return self.addEventListener("message",t),()=>{self.removeEventListener("message",t)}}}},function(e,t,n){"use strict";
/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var r=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,i=Object.prototype.propertyIsEnumerable;function s(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(e){return!1}}()?Object.assign:function(e,t){for(var n,a,u=s(e),c=1;c<arguments.length;c++){for(var l in n=Object(arguments[c]))o.call(n,l)&&(u[l]=n[l]);if(r){a=r(n);for(var f=0;f<a.length;f++)i.call(n,a[f])&&(u[a[f]]=n[a[f]])}}return u}},function(e,t,n){(function(e){var r=Object.getOwnPropertyDescriptors||function(e){for(var t=Object.keys(e),n={},r=0;r<t.length;r++)n[t[r]]=Object.getOwnPropertyDescriptor(e,t[r]);return n},o=/%[sdj%]/g;t.format=function(e){if(!y(e)){for(var t=[],n=0;n<arguments.length;n++)t.push(a(arguments[n]));return t.join(" ")}n=1;for(var r=arguments,i=r.length,s=String(e).replace(o,(function(e){if("%%"===e)return"%";if(n>=i)return e;switch(e){case"%s":return String(r[n++]);case"%d":return Number(r[n++]);case"%j":try{return JSON.stringify(r[n++])}catch(e){return"[Circular]"}default:return e}})),u=r[n];n<i;u=r[++n])v(u)||!w(u)?s+=" "+u:s+=" "+a(u);return s},t.deprecate=function(n,r){if(void 0!==e&&!0===e.noDeprecation)return n;if(void 0===e)return function(){return t.deprecate(n,r).apply(this,arguments)};var o=!1;return function(){if(!o){if(e.throwDeprecation)throw new Error(r);e.traceDeprecation?console.trace(r):console.error(r),o=!0}return n.apply(this,arguments)}};var i,s={};function a(e,n){var r={seen:[],stylize:c};return arguments.length>=3&&(r.depth=arguments[2]),arguments.length>=4&&(r.colors=arguments[3]),h(n)?r.showHidden=n:n&&t._extend(r,n),m(r.showHidden)&&(r.showHidden=!1),m(r.depth)&&(r.depth=2),m(r.colors)&&(r.colors=!1),m(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=u),l(r,e,r.depth)}function u(e,t){var n=a.styles[t];return n?"["+a.colors[n][0]+"m"+e+"["+a.colors[n][1]+"m":e}function c(e,t){return e}function l(e,n,r){if(e.customInspect&&n&&E(n.inspect)&&n.inspect!==t.inspect&&(!n.constructor||n.constructor.prototype!==n)){var o=n.inspect(r,e);return y(o)||(o=l(e,o,r)),o}var i=function(e,t){if(m(t))return e.stylize("undefined","undefined");if(y(t)){var n="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(n,"string")}if(b(t))return e.stylize(""+t,"number");if(h(t))return e.stylize(""+t,"boolean");if(v(t))return e.stylize("null","null")}(e,n);if(i)return i;var s=Object.keys(n),a=function(e){var t={};return e.forEach((function(e,n){t[e]=!0})),t}(s);if(e.showHidden&&(s=Object.getOwnPropertyNames(n)),_(n)&&(s.indexOf("message")>=0||s.indexOf("description")>=0))return f(n);if(0===s.length){if(E(n)){var u=n.name?": "+n.name:"";return e.stylize("[Function"+u+"]","special")}if(g(n))return e.stylize(RegExp.prototype.toString.call(n),"regexp");if(x(n))return e.stylize(Date.prototype.toString.call(n),"date");if(_(n))return f(n)}var c,w="",O=!1,S=["{","}"];(d(n)&&(O=!0,S=["[","]"]),E(n))&&(w=" [Function"+(n.name?": "+n.name:"")+"]");return g(n)&&(w=" "+RegExp.prototype.toString.call(n)),x(n)&&(w=" "+Date.prototype.toUTCString.call(n)),_(n)&&(w=" "+f(n)),0!==s.length||O&&0!=n.length?r<0?g(n)?e.stylize(RegExp.prototype.toString.call(n),"regexp"):e.stylize("[Object]","special"):(e.seen.push(n),c=O?function(e,t,n,r,o){for(var i=[],s=0,a=t.length;s<a;++s)P(t,String(s))?i.push(p(e,t,n,r,String(s),!0)):i.push("");return o.forEach((function(o){o.match(/^\d+$/)||i.push(p(e,t,n,r,o,!0))})),i}(e,n,r,a,s):s.map((function(t){return p(e,n,r,a,t,O)})),e.seen.pop(),function(e,t,n){if(e.reduce((function(e,t){return t.indexOf("\n")>=0&&0,e+t.replace(/\u001b\[\d\d?m/g,"").length+1}),0)>60)return n[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+n[1];return n[0]+t+" "+e.join(", ")+" "+n[1]}(c,w,S)):S[0]+w+S[1]}function f(e){return"["+Error.prototype.toString.call(e)+"]"}function p(e,t,n,r,o,i){var s,a,u;if((u=Object.getOwnPropertyDescriptor(t,o)||{value:t[o]}).get?a=u.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):u.set&&(a=e.stylize("[Setter]","special")),P(r,o)||(s="["+o+"]"),a||(e.seen.indexOf(u.value)<0?(a=v(n)?l(e,u.value,null):l(e,u.value,n-1)).indexOf("\n")>-1&&(a=i?a.split("\n").map((function(e){return"  "+e})).join("\n").substr(2):"\n"+a.split("\n").map((function(e){return"   "+e})).join("\n")):a=e.stylize("[Circular]","special")),m(s)){if(i&&o.match(/^\d+$/))return a;(s=JSON.stringify(""+o)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(s=s.substr(1,s.length-2),s=e.stylize(s,"name")):(s=s.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),s=e.stylize(s,"string"))}return s+": "+a}function d(e){return Array.isArray(e)}function h(e){return"boolean"==typeof e}function v(e){return null===e}function b(e){return"number"==typeof e}function y(e){return"string"==typeof e}function m(e){return void 0===e}function g(e){return w(e)&&"[object RegExp]"===O(e)}function w(e){return"object"==typeof e&&null!==e}function x(e){return w(e)&&"[object Date]"===O(e)}function _(e){return w(e)&&("[object Error]"===O(e)||e instanceof Error)}function E(e){return"function"==typeof e}function O(e){return Object.prototype.toString.call(e)}function S(e){return e<10?"0"+e.toString(10):e.toString(10)}t.debuglog=function(n){if(m(i)&&(i=e.env.NODE_DEBUG||""),n=n.toUpperCase(),!s[n])if(new RegExp("\\b"+n+"\\b","i").test(i)){var r=e.pid;s[n]=function(){var e=t.format.apply(t,arguments);console.error("%s %d: %s",n,r,e)}}else s[n]=function(){};return s[n]},t.inspect=a,a.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},a.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},t.isArray=d,t.isBoolean=h,t.isNull=v,t.isNullOrUndefined=function(e){return null==e},t.isNumber=b,t.isString=y,t.isSymbol=function(e){return"symbol"==typeof e},t.isUndefined=m,t.isRegExp=g,t.isObject=w,t.isDate=x,t.isError=_,t.isFunction=E,t.isPrimitive=function(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e},t.isBuffer=n(49);var j=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function k(){var e=new Date,t=[S(e.getHours()),S(e.getMinutes()),S(e.getSeconds())].join(":");return[e.getDate(),j[e.getMonth()],t].join(" ")}function P(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.log=function(){console.log("%s - %s",k(),t.format.apply(t,arguments))},t.inherits=n(50),t._extend=function(e,t){if(!t||!w(t))return e;for(var n=Object.keys(t),r=n.length;r--;)e[n[r]]=t[n[r]];return e};var C="undefined"!=typeof Symbol?Symbol("util.promisify.custom"):void 0;function T(e,t){if(!e){var n=new Error("Promise was rejected with a falsy value");n.reason=e,e=n}return t(e)}t.promisify=function(e){if("function"!=typeof e)throw new TypeError('The "original" argument must be of type Function');if(C&&e[C]){var t;if("function"!=typeof(t=e[C]))throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(t,C,{value:t,enumerable:!1,writable:!1,configurable:!0}),t}function t(){for(var t,n,r=new Promise((function(e,r){t=e,n=r})),o=[],i=0;i<arguments.length;i++)o.push(arguments[i]);o.push((function(e,r){e?n(e):t(r)}));try{e.apply(this,o)}catch(e){n(e)}return r}return Object.setPrototypeOf(t,Object.getPrototypeOf(e)),C&&Object.defineProperty(t,C,{value:t,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(t,r(e))},t.promisify.custom=C,t.callbackify=function(t){if("function"!=typeof t)throw new TypeError('The "original" argument must be of type Function');function n(){for(var n=[],r=0;r<arguments.length;r++)n.push(arguments[r]);var o=n.pop();if("function"!=typeof o)throw new TypeError("The last argument must be of type Function");var i=this,s=function(){return o.apply(i,arguments)};t.apply(this,n).then((function(t){e.nextTick(s,null,t)}),(function(t){e.nextTick(T,t,s)}))}return Object.setPrototypeOf(n,Object.getPrototypeOf(t)),Object.defineProperties(n,r(t)),n}}).call(this,n(5))},function(e,t){e.exports=function(e){return e&&"object"==typeof e&&"function"==typeof e.copy&&"function"==typeof e.fill&&"function"==typeof e.readUInt8}},function(e,t){"function"==typeof Object.create?e.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:e.exports=function(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}},function(e,t,n){e.exports=n.p+"1.307c418748ebb7d65f63.worker.js"},function(e,t,n){e.exports=n.p+"renderer.a4f356da1541d2c1bbcc.worker.js"},function(e,t,n){var r=n(13),o=n(54);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[e.i,o,""]]);var i={insert:"head",singleton:!1},s=(r(e.i,o,i),o.locals?o.locals:{});e.exports=s},function(e,t,n){(t=n(14)(!1)).push([e.i,"@import url(https://fonts.googleapis.com/icon?family=Material+Icons);"]),t.push([e.i,"@media print{#overlay{display:none}@page{margin:0;size:landscape}}#overlay{opacity:0}#overlay [title]{cursor:help}#overlay .disabled{cursor:not-allowed}#overlay .disabled i.material-icons{color:gray;cursor:not-allowed}#overlay input:disabled,#overlay textarea:disabled{cursor:not-allowed}#inputs{align-items:flex-end;box-sizing:border-box;display:flex;flex-flow:column wrap;justify-content:flex-start;padding:0px 16px;position:absolute;right:0;top:0}#inputs span,#inputs i{padding-bottom:8px}#inputs section{align-items:flex-end;display:flex;flex-flow:column wrap;justify-content:flex-start}#inputs #pipe{resize:none}#media{bottom:0;box-sizing:border-box;display:flex;flex-flow:row wrap;padding:32px;position:absolute;width:100%}#media i.material-icons{cursor:pointer;display:'none';font-size:36px;margin:0 8px}#allowed_db_range{align-items:center;display:flex;flex-flow:row}#allowed_db_range_input{align-items:center;display:flex;flex-flow:row;margin:0 8px}.spacer{flex:1}a.help{font-size:small;vertical-align:super}a.help::before{content:'?'}a.help:link,a.help:visited,a.help:hover,a.help:active{color:white}\n",""]),e.exports=t},function(e,t,n){"use strict";n.r(t);n(29),n(31);var r=n(2),o=n(1),i=function(e,t){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};function s(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}function a(e){return"function"==typeof e}var u=!1,c={Promise:void 0,set useDeprecatedSynchronousErrorHandling(e){e&&(new Error).stack;u=e},get useDeprecatedSynchronousErrorHandling(){return u}};function l(e){setTimeout((function(){throw e}),0)}var f={closed:!0,next:function(e){},error:function(e){if(c.useDeprecatedSynchronousErrorHandling)throw e;l(e)},complete:function(){}},p=function(){return Array.isArray||function(e){return e&&"number"==typeof e.length}}();function d(e){return null!==e&&"object"==typeof e}var h=function(){function e(e){return Error.call(this),this.message=e?e.length+" errors occurred during unsubscription:\n"+e.map((function(e,t){return t+1+") "+e.toString()})).join("\n  "):"",this.name="UnsubscriptionError",this.errors=e,this}return e.prototype=Object.create(Error.prototype),e}(),v=function(){function e(e){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,e&&(this._unsubscribe=e)}return e.prototype.unsubscribe=function(){var t;if(!this.closed){var n=this._parentOrParents,r=this._unsubscribe,o=this._subscriptions;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof e)n.remove(this);else if(null!==n)for(var i=0;i<n.length;++i){n[i].remove(this)}if(a(r))try{r.call(this)}catch(e){t=e instanceof h?b(e.errors):[e]}if(p(o)){i=-1;for(var s=o.length;++i<s;){var u=o[i];if(d(u))try{u.unsubscribe()}catch(e){t=t||[],e instanceof h?t=t.concat(b(e.errors)):t.push(e)}}}if(t)throw new h(t)}},e.prototype.add=function(t){var n=t;if(!t)return e.EMPTY;switch(typeof t){case"function":n=new e(t);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof e)){var r=n;(n=new e)._subscriptions=[r]}break;default:throw new Error("unrecognized teardown "+t+" added to Subscription.")}var o=n._parentOrParents;if(null===o)n._parentOrParents=this;else if(o instanceof e){if(o===this)return n;n._parentOrParents=[o,this]}else{if(-1!==o.indexOf(this))return n;o.push(this)}var i=this._subscriptions;return null===i?this._subscriptions=[n]:i.push(n),n},e.prototype.remove=function(e){var t=this._subscriptions;if(t){var n=t.indexOf(e);-1!==n&&t.splice(n,1)}},e.EMPTY=function(e){return e.closed=!0,e}(new e),e}();function b(e){return e.reduce((function(e,t){return e.concat(t instanceof h?t.errors:t)}),[])}var y=function(){return"function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()}(),m=function(e){function t(n,r,o){var i=e.call(this)||this;switch(i.syncErrorValue=null,i.syncErrorThrown=!1,i.syncErrorThrowable=!1,i.isStopped=!1,arguments.length){case 0:i.destination=f;break;case 1:if(!n){i.destination=f;break}if("object"==typeof n){n instanceof t?(i.syncErrorThrowable=n.syncErrorThrowable,i.destination=n,n.add(i)):(i.syncErrorThrowable=!0,i.destination=new g(i,n));break}default:i.syncErrorThrowable=!0,i.destination=new g(i,n,r,o)}return i}return s(t,e),t.prototype[y]=function(){return this},t.create=function(e,n,r){var o=new t(e,n,r);return o.syncErrorThrowable=!1,o},t.prototype.next=function(e){this.isStopped||this._next(e)},t.prototype.error=function(e){this.isStopped||(this.isStopped=!0,this._error(e))},t.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},t.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,e.prototype.unsubscribe.call(this))},t.prototype._next=function(e){this.destination.next(e)},t.prototype._error=function(e){this.destination.error(e),this.unsubscribe()},t.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},t.prototype._unsubscribeAndRecycle=function(){var e=this._parentOrParents;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=e,this},t}(v),g=function(e){function t(t,n,r,o){var i,s=e.call(this)||this;s._parentSubscriber=t;var u=s;return a(n)?i=n:n&&(i=n.next,r=n.error,o=n.complete,n!==f&&(a((u=Object.create(n)).unsubscribe)&&s.add(u.unsubscribe.bind(u)),u.unsubscribe=s.unsubscribe.bind(s))),s._context=u,s._next=i,s._error=r,s._complete=o,s}return s(t,e),t.prototype.next=function(e){if(!this.isStopped&&this._next){var t=this._parentSubscriber;c.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?this.__tryOrSetError(t,this._next,e)&&this.unsubscribe():this.__tryOrUnsub(this._next,e)}},t.prototype.error=function(e){if(!this.isStopped){var t=this._parentSubscriber,n=c.useDeprecatedSynchronousErrorHandling;if(this._error)n&&t.syncErrorThrowable?(this.__tryOrSetError(t,this._error,e),this.unsubscribe()):(this.__tryOrUnsub(this._error,e),this.unsubscribe());else if(t.syncErrorThrowable)n?(t.syncErrorValue=e,t.syncErrorThrown=!0):l(e),this.unsubscribe();else{if(this.unsubscribe(),n)throw e;l(e)}}},t.prototype.complete=function(){var e=this;if(!this.isStopped){var t=this._parentSubscriber;if(this._complete){var n=function(){return e._complete.call(e._context)};c.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,n),this.unsubscribe()):(this.__tryOrUnsub(n),this.unsubscribe())}else this.unsubscribe()}},t.prototype.__tryOrUnsub=function(e,t){try{e.call(this._context,t)}catch(e){if(this.unsubscribe(),c.useDeprecatedSynchronousErrorHandling)throw e;l(e)}},t.prototype.__tryOrSetError=function(e,t,n){if(!c.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{t.call(this._context,n)}catch(t){return c.useDeprecatedSynchronousErrorHandling?(e.syncErrorValue=t,e.syncErrorThrown=!0,!0):(l(t),!0)}return!1},t.prototype._unsubscribe=function(){var e=this._parentSubscriber;this._context=null,this._parentSubscriber=null,e.unsubscribe()},t}(m);var w=function(){return"function"==typeof Symbol&&Symbol.observable||"@@observable"}();function x(){}function _(e){return e?1===e.length?e[0]:function(t){return e.reduce((function(e,t){return t(e)}),t)}:x}var E=function(){function e(e){this._isScalar=!1,e&&(this._subscribe=e)}return e.prototype.lift=function(t){var n=new e;return n.source=this,n.operator=t,n},e.prototype.subscribe=function(e,t,n){var r=this.operator,o=function(e,t,n){if(e){if(e instanceof m)return e;if(e[y])return e[y]()}return e||t||n?new m(e,t,n):new m(f)}(e,t,n);if(r?o.add(r.call(o,this.source)):o.add(this.source||c.useDeprecatedSynchronousErrorHandling&&!o.syncErrorThrowable?this._subscribe(o):this._trySubscribe(o)),c.useDeprecatedSynchronousErrorHandling&&o.syncErrorThrowable&&(o.syncErrorThrowable=!1,o.syncErrorThrown))throw o.syncErrorValue;return o},e.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(t){c.useDeprecatedSynchronousErrorHandling&&(e.syncErrorThrown=!0,e.syncErrorValue=t),!function(e){for(;e;){var t=e,n=t.closed,r=t.destination,o=t.isStopped;if(n||o)return!1;e=r&&r instanceof m?r:null}return!0}(e)?console.warn(t):e.error(t)}},e.prototype.forEach=function(e,t){var n=this;return new(t=O(t))((function(t,r){var o;o=n.subscribe((function(t){try{e(t)}catch(e){r(e),o&&o.unsubscribe()}}),r,t)}))},e.prototype._subscribe=function(e){var t=this.source;return t&&t.subscribe(e)},e.prototype[w]=function(){return this},e.prototype.pipe=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return 0===e.length?this:_(e)(this)},e.prototype.toPromise=function(e){var t=this;return new(e=O(e))((function(e,n){var r;t.subscribe((function(e){return r=e}),(function(e){return n(e)}),(function(){return e(r)}))}))},e.create=function(t){return new e(t)},e}();function O(e){if(e||(e=c.Promise||Promise),!e)throw new Error("no Promise impl found");return e}var S=function(){function e(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return e.prototype=Object.create(Error.prototype),e}(),j=function(e){function t(t,n){var r=e.call(this)||this;return r.subject=t,r.subscriber=n,r.closed=!1,r}return s(t,e),t.prototype.unsubscribe=function(){if(!this.closed){this.closed=!0;var e=this.subject,t=e.observers;if(this.subject=null,t&&0!==t.length&&!e.isStopped&&!e.closed){var n=t.indexOf(this.subscriber);-1!==n&&t.splice(n,1)}}},t}(v),k=function(e){function t(t){var n=e.call(this,t)||this;return n.destination=t,n}return s(t,e),t}(m),P=function(e){function t(){var t=e.call(this)||this;return t.observers=[],t.closed=!1,t.isStopped=!1,t.hasError=!1,t.thrownError=null,t}return s(t,e),t.prototype[y]=function(){return new k(this)},t.prototype.lift=function(e){var t=new C(this,this);return t.operator=e,t},t.prototype.next=function(e){if(this.closed)throw new S;if(!this.isStopped)for(var t=this.observers,n=t.length,r=t.slice(),o=0;o<n;o++)r[o].next(e)},t.prototype.error=function(e){if(this.closed)throw new S;this.hasError=!0,this.thrownError=e,this.isStopped=!0;for(var t=this.observers,n=t.length,r=t.slice(),o=0;o<n;o++)r[o].error(e);this.observers.length=0},t.prototype.complete=function(){if(this.closed)throw new S;this.isStopped=!0;for(var e=this.observers,t=e.length,n=e.slice(),r=0;r<t;r++)n[r].complete();this.observers.length=0},t.prototype.unsubscribe=function(){this.isStopped=!0,this.closed=!0,this.observers=null},t.prototype._trySubscribe=function(t){if(this.closed)throw new S;return e.prototype._trySubscribe.call(this,t)},t.prototype._subscribe=function(e){if(this.closed)throw new S;return this.hasError?(e.error(this.thrownError),v.EMPTY):this.isStopped?(e.complete(),v.EMPTY):(this.observers.push(e),new j(this,e))},t.prototype.asObservable=function(){var e=new E;return e.source=this,e},t.create=function(e,t){return new C(e,t)},t}(E),C=function(e){function t(t,n){var r=e.call(this)||this;return r.destination=t,r.source=n,r}return s(t,e),t.prototype.next=function(e){var t=this.destination;t&&t.next&&t.next(e)},t.prototype.error=function(e){var t=this.destination;t&&t.error&&this.destination.error(e)},t.prototype.complete=function(){var e=this.destination;e&&e.complete&&this.destination.complete()},t.prototype._subscribe=function(e){return this.source?this.source.subscribe(e):v.EMPTY},t}(P),T=n(8),M=n(4),A=n(3);function F(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function L(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var D=(e,t)=>{window._debug=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?F(Object(n),!0).forEach((function(t){L(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):F(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},window._debug,{[e]:t})},q=e=>{e instanceof Error?o.error(e):o.error(Object(A.a)(e))};var I=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return s(t,e),t.prototype.notifyNext=function(e,t,n,r,o){this.destination.next(t)},t.prototype.notifyError=function(e,t){this.destination.error(e)},t.prototype.notifyComplete=function(e){this.destination.complete()},t}(m),R=function(e){function t(t,n,r){var o=e.call(this)||this;return o.parent=t,o.outerValue=n,o.outerIndex=r,o.index=0,o}return s(t,e),t.prototype._next=function(e){this.parent.notifyNext(this.outerValue,e,this.outerIndex,this.index++,this)},t.prototype._error=function(e){this.parent.notifyError(e,this),this.unsubscribe()},t.prototype._complete=function(){this.parent.notifyComplete(this),this.unsubscribe()},t}(m),z=function(e){return function(t){for(var n=0,r=e.length;n<r&&!t.closed;n++)t.next(e[n]);t.complete()}};function N(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}var H=N();var U=function(e){if(e&&"function"==typeof e[w])return o=e,function(e){var t=o[w]();if("function"!=typeof t.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return t.subscribe(e)};if((r=e)&&"number"==typeof r.length&&"function"!=typeof r)return z(e);if(function(e){return!!e&&"function"!=typeof e.subscribe&&"function"==typeof e.then}(e))return n=e,function(e){return n.then((function(t){e.closed||(e.next(t),e.complete())}),(function(t){return e.error(t)})).then(null,l),e};if(e&&"function"==typeof e[H])return t=e,function(e){for(var n=t[H]();;){var r=n.next();if(r.done){e.complete();break}if(e.next(r.value),e.closed)break}return"function"==typeof n.return&&e.add((function(){n.return&&n.return()})),e};var t,n,r,o,i=d(e)?"an invalid object":"'"+e+"'";throw new TypeError("You provided "+i+" where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.")};function $(e,t,n,r,o){if(void 0===o&&(o=new R(e,n,r)),!o.closed)return t instanceof E?t.subscribe(o):U(t)(o)}function W(e,t){return t?function(e,t){return new E((function(n){var r=new v,o=0;return r.add(t.schedule((function(){o!==e.length?(n.next(e[o++]),n.closed||r.add(this.schedule())):n.complete()}))),r}))}(e,t):new E(z(e))}var B={};var V=function(){function e(e){this.resultSelector=e}return e.prototype.call=function(e,t){return t.subscribe(new J(e,this.resultSelector))},e}(),J=function(e){function t(t,n){var r=e.call(this,t)||this;return r.resultSelector=n,r.active=0,r.values=[],r.observables=[],r}return s(t,e),t.prototype._next=function(e){this.values.push(B),this.observables.push(e)},t.prototype._complete=function(){var e=this.observables,t=e.length;if(0===t)this.destination.complete();else{this.active=t,this.toRespond=t;for(var n=0;n<t;n++){var r=e[n];this.add($(this,r,r,n))}}},t.prototype.notifyComplete=function(e){0==(this.active-=1)&&this.destination.complete()},t.prototype.notifyNext=function(e,t,n,r,o){var i=this.values,s=i[n],a=this.toRespond?s===B?--this.toRespond:this.toRespond:0;i[n]=t,0===a&&(this.resultSelector?this._tryResultSelector(i):this.destination.next(i.slice()))},t.prototype._tryResultSelector=function(e){var t;try{t=this.resultSelector.apply(this,e)}catch(e){return void this.destination.error(e)}this.destination.next(t)},t}(I),Q=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r.scheduler=t,r.work=n,r.pending=!1,r}return s(t,e),t.prototype.schedule=function(e,t){if(void 0===t&&(t=0),this.closed)return this;this.state=e;var n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,t)),this.pending=!0,this.delay=t,this.id=this.id||this.requestAsyncId(r,this.id,t),this},t.prototype.requestAsyncId=function(e,t,n){return void 0===n&&(n=0),setInterval(e.flush.bind(e,this),n)},t.prototype.recycleAsyncId=function(e,t,n){if(void 0===n&&(n=0),null!==n&&this.delay===n&&!1===this.pending)return t;clearInterval(t)},t.prototype.execute=function(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var n=this._execute(e,t);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},t.prototype._execute=function(e,t){var n=!1,r=void 0;try{this.work(e)}catch(e){n=!0,r=!!e&&e||new Error(e)}if(n)return this.unsubscribe(),r},t.prototype._unsubscribe=function(){var e=this.id,t=this.scheduler,n=t.actions,r=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null},t}(function(e){function t(t,n){return e.call(this)||this}return s(t,e),t.prototype.schedule=function(e,t){return void 0===t&&(t=0),this},t}(v)),Y=function(){function e(t,n){void 0===n&&(n=e.now),this.SchedulerAction=t,this.now=n}return e.prototype.schedule=function(e,t,n){return void 0===t&&(t=0),new this.SchedulerAction(this,e).schedule(n,t)},e.now=function(){return Date.now()},e}(),Z=new(function(e){function t(n,r){void 0===r&&(r=Y.now);var o=e.call(this,n,(function(){return t.delegate&&t.delegate!==o?t.delegate.now():r()}))||this;return o.actions=[],o.active=!1,o.scheduled=void 0,o}return s(t,e),t.prototype.schedule=function(n,r,o){return void 0===r&&(r=0),t.delegate&&t.delegate!==this?t.delegate.schedule(n,r,o):e.prototype.schedule.call(this,n,r,o)},t.prototype.flush=function(e){var t=this.actions;if(this.active)t.push(e);else{var n;this.active=!0;do{if(n=e.execute(e.state,e.delay))break}while(e=t.shift());if(this.active=!1,n){for(;e=t.shift();)e.unsubscribe();throw n}}},t}(Y))(Q);function G(e,t){var n;return void 0===e&&(e=0),void 0===t&&(t=Z),(p(n=e)||!(n-parseFloat(n)+1>=0)||e<0)&&(e=0),t&&"function"==typeof t.schedule||(t=Z),new E((function(n){return n.add(t.schedule(K,e,{subscriber:n,counter:0,period:e})),n}))}function K(e){var t=e.subscriber,n=e.counter,r=e.period;t.next(n),this.schedule({subscriber:t,counter:n+1,period:r},r)}var X=n(9);function ee(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class te{constructor(e){this.substitutions=e,ee(this,"simplify",e=>{var{n:t,d0:n,steps:r}=e;return{kind:e.kind,n:t,d0:n,steps:r.map(this.simplifyStepNode)}}),ee(this,"simplifyScalar",e=>{switch(e.kind){case"number":return e;case"fn":return this.simplifyFnNode(e);case"access":return this.simplifyAccessNode(e);case"id":return this.simplifyIdNode(e);case"arith":return this.simplifyArithNode(e)}}),ee(this,"simplifyStepNode",e=>{var{kind:t,type:n,args:r}=e;return{kind:t,type:n,args:r.map(this.simplifyScalar)}}),ee(this,"simplifyArithNode",e=>{var{kind:t,op:n,operands:r}=e,[o,i]=r.map(this.simplifyScalar);return{kind:t,op:n,operands:[o,i]}}),ee(this,"simplifyFnNode",e=>{var{kind:t,name:n,args:r}=e;return{kind:t,name:n,args:r.map(this.simplifyIdNode)}}),ee(this,"simplifyAccessNode",e=>{var{kind:t,id:n,index:r}=e;return{kind:t,id:n,index:this.simplifyScalar(r)}}),ee(this,"simplifyIdNode",e=>{var{id:t}=e;return t in this.substitutions?this.simplifyScalar(this.substitutions[t]):e})}}var ne=function(e){function t(t){var n=e.call(this)||this;return n._value=t,n}return s(t,e),Object.defineProperty(t.prototype,"value",{get:function(){return this.getValue()},enumerable:!0,configurable:!0}),t.prototype._subscribe=function(t){var n=e.prototype._subscribe.call(this,t);return n&&!n.closed&&t.next(this._value),n},t.prototype.getValue=function(){if(this.hasError)throw this.thrownError;if(this.closed)throw new S;return this._value},t.prototype.next=function(t){e.prototype.next.call(this,this._value=t)},t}(P);function re(e){switch(e.kind){case"pipe":return function(e){return[e.n,e.d0,...e.steps.map(re)].join("\n  =>")}(e);case"step":return function(e){return"".concat(e.type,"(").concat(e.args.map(re).join(", "),")")}(e);case"arith":return function(e){var[t,n]=e.operands;return"".concat(re(t)," ").concat(e.op," ").concat(re(n))}(e);case"number":return function(e){return e.value.toString()}(e);case"fn":return function(e){return"".concat(e.name,"(").concat(e.args.map(re).join(", "),")")}(e);case"access":return function(e){return"".concat(e.id,"[").concat(re(e.index),"]")}(e);case"id":return function(e){return e.id}(e)}}var oe=n(10),ie=n(18);function se(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class ae{}function ue(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}se(ae,"parsePipe",e=>Object(ie.parse)(e)),se(ae,"parseScalar",e=>Object(ie.parse)(e,{startRule:"scalar"}));var ce,le=n(11),fe="0"!=new URLSearchParams(window.location.search).get("p"),pe=(ce=window.location.hash.substr(1),new URLSearchParams(ce?atob(ce):""));function de(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class he{constructor(e,t){var{persistent:n=!1,disabled:r=!1,parse:o=(()=>{throw new Error("parse unsupported")}),stringify:i=(()=>{throw new Error("stringify unsupported")})}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.id=e,de(this,"disabled",void 0),de(this,"parse",void 0),de(this,"stringify",void 0),de(this,"el",void 0),de(this,"subject",void 0),de(this,"persistent",void 0),de(this,"_value",void 0),de(this,"newSubject",()=>new ne({newValue:this._value})),de(this,"setup",e=>{this.el=e,this.disabled&&this.el.classList.add("disabled"),this._setup()}),de(this,"updateHash",()=>{var e=this.stringify(this.value);pe.set(this.id,e),document.location.hash=btoa(pe.toString())}),this.persistent=n,this.disabled=r,this.parse=o,this.stringify=i,fe||(this.persistent=!1);var s=t;this.persistent&&pe.has(this.id)&&(s=pe.get(this.id)),this._value=this.parse(s),this.subject=this.newSubject()}get stream(){return this.subject.asObservable()}get value(){return this._value}set value(e){var t=this.value;this._value=e,this.subject.next({newValue:e,oldValue:t,event:window.event}),this.persistent&&this.updateHash()}}var ve=n(25),be=n.n(ve);class ye extends he{constructor(e,t){var n,r,o,{parse:i,persistent:s=!0,disabled:a=!1,stringify:u=(e=>e.toString())}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};super(e,t,{persistent:s,disabled:a,parse:i,stringify:u}),this.id=e,o=()=>{this.el.disabled=this.disabled,this.el.onchange=()=>{var e=this.parse(this.el.value);this.el.value=this.stringify(e),this.value=e},this.el.oninput=()=>this.setSize(),this.stream.subscribe(e=>{var{newValue:t}=e;this.el.value=this.stringify(t),this.setSize()})},(r="_setup")in(n=this)?Object.defineProperty(n,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):n[r]=o}setSize(){if(this.el instanceof HTMLInputElement)this.el.size=this.el.value.length;else{var e=this.el.value.split("\n");this.el.rows=Math.min(10,e.length),this.el.cols=Math.min(50,e.reduce((e,t)=>Math.max(e,t.length),0))}}}class me extends he{constructor(e,t){var n,r,o,{disabled:i=!1,persistent:s=!1}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};super(e,t,{persistent:s,disabled:i,parse:e=>{switch(e.trim()){default:case"0":case"false":return!1;case"1":case"true":return!0}},stringify:e=>e?"1":"0"}),this.id=e,o=()=>{var e=this.el.querySelector(".on");this.disabled||(e.onclick=()=>this.value=!0);var t=this.el.querySelector(".off");this.disabled||(t.onclick=()=>this.value=!1),this.stream.subscribe(n=>{var{newValue:r}=n;r?(e.style.display="none",t.style.display="inline"):(e.style.display="inline",t.style.display="none")})},(r="_setup")in(n=this)?Object.defineProperty(n,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):n[r]=o}parse(e){if(/1|true/i.test(e))return!0;if(/0|false/i.test(e))return!1;throw new Error("invalid boolean value for input ".concat(this.id,": ").concat(e))}}function ge(e,t,n,r,o,i,s){try{var a=e[i](s),u=a.value}catch(e){return void n(e)}a.done?t(u):Promise.resolve(u).then(r,o)}function we(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function s(e){ge(i,r,o,s,a,"next",e)}function a(e){ge(i,r,o,s,a,"throw",e)}s(void 0)}))}}var xe=2e3*M.a,_e=new class{constructor(){ue(this,"compilePipe",e=>{var t=ae.parsePipe(e);return t.n=oe.a.nPerLevel(t.d0,t.n)**t.d0,t}),ue(this,"compileScalar",e=>ae.parseScalar(e))}compile(e,t){switch(t){default:return this.compilePipe(e);case"scalar":return this.compileScalar(e)}}},Ee={pipe:new ye("pipe","".concat(xe,"\n      =>3\n      =>torus(1, 1)\n      =>R(theta, 0, 1, cos, tan)\n      =>R(theta, 0, 2)\n      =>R(theta, 0, 3)\n      =>stereo(3)"),{persistent:!0,parse:e=>_e.compile(e),stringify:re}),theta:new ye("theta","pi * power + pi * t / 20",{parse:e=>_e.compile(e,"scalar"),stringify:re}),h:new ye("h","chroma * abs(p[0])",{parse:e=>_e.compile(e,"scalar"),stringify:re}),v:new ye("v","(power + onset) / 2",{parse:e=>_e.compile(e,"scalar"),stringify:re}),animate:new me("animate","1"),mic:new me("mic","0",{disabled:!(new AudioContext).audioWorklet}),fullscreen:new me("fullscreen","0",{disabled:!document.fullscreenEnabled}),allowedDbs:new class extends he{constructor(e,t){var n,r,o,{disabled:i=!1,persistent:s=!0}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};super(e,t,{disabled:i,persistent:s,parse:e=>{var[t,n]=e.split(/\s*,\s*/);return[parseInt(t),parseInt(n)]},stringify:e=>{var[t,n]=e;return"".concat(t,",").concat(n)}}),this.id=e,o=()=>{var e=this.el.querySelector("input");e.disabled=this.disabled,be()(e);var t=this.el.querySelector(".min"),n=this.el.querySelector(".max");e.onchange=()=>{this.value=[+e.valueLow,+e.valueHigh]},this.el.querySelector("input.ghost").oninput=e.oninput=()=>{t.innerText=e.valueLow.toString(),n.innerText=e.valueHigh.toString()},this.stream.subscribe(r=>{var{newValue:o}=r;e.value=this.stringify(o),t.innerText=e.valueLow.toString(),n.innerText=e.valueHigh.toString()})},(r="_setup")in(n=this)?Object.defineProperty(n,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):n[r]=o}}("allowed_db_range","-130, -30",{disabled:!(new AudioContext).audioWorklet}),save:new class extends he{constructor(e,t){var n,r,o;super(e,"",{parse:()=>{}}),this.action=t,o=()=>{this.disabled||(this.el.onclick=e=>this.action(e))},(r="_setup")in(n=this)?Object.defineProperty(n,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):n[r]=o}}("save",we((function*(){var e=document.querySelector("canvas"),t=yield le.a;yield t.render();var n=yield new Promise(t=>e.toBlob(t)),r=URL.createObjectURL(n);try{var o=document.createElement("a");o.download="stereo".concat(document.location.hash),o.href=r,o.click()}finally{URL.revokeObjectURL(r)}})))};D("inputs",Ee);var Oe={power:1,chroma:0,tempo:.5,onset:1},Se=96,je=n(26),ke=n.n(je);function Pe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class Ce{constructor(e,t){this.dbMin=e,this.dbMax=t}}function Te(e,t,n,r,o,i,s){try{var a=e[i](s),u=a.value}catch(e){return void n(e)}a.done?t(u):Promise.resolve(u).then(r,o)}function Me(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Pe(Ce,"octave",e=>Math.floor(e/12)),Pe(Ce,"chroma",e=>e%12),Pe(Ce,"f",e=>{var t=Ce.octave(e),n=Ce.chroma(e);return 16.35*2**t*Math.pow(2,1/12)**n});class Ae{constructor(e,t,n){this.ctx=e,Me(this,"close",()=>this.ctx.close());var r=new AudioWorkletNode(e,"power",{numberOfInputs:Se,channelCountMode:"explicit",channelCount:1});r.port.onmessage=e=>{Ee.mic.value?n.next(e.data):n.next(Oe)},r.onprocessorerror=e=>{q(e),Ee.mic.value=!1},r.connect(e.destination),Ee.allowedDbs.stream.subscribe(t=>{var{newValue:[n,o]}=t;r.parameters.get("dbMin").setValueAtTime(n,e.currentTime),r.parameters.get("dbMax").setValueAtTime(o,e.currentTime)});for(var o=0;o<Se;o++){var i=Ce.f(o),s=new BiquadFilterNode(e,{type:"bandpass",frequency:i,Q:i/2});t.connect(s).connect(r,0,o)}}}function Fe(e,t,n,r,o,i,s){try{var a=e[i](s),u=a.value}catch(e){return void n(e)}a.done?t(u):Promise.resolve(u).then(r,o)}Me(Ae,"create",function(){var e,t=(e=function*(e,t){var n=new AudioContext;yield n.audioWorklet.addModule(ke.a);var r=new MediaStreamAudioSourceNode(n,{mediaStream:e});return new Ae(n,r,t)},function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function s(e){Te(i,r,o,s,a,"next",e)}function a(e){Te(i,r,o,s,a,"throw",e)}s(void 0)}))});return function(e,n){return t.apply(this,arguments)}}());var Le,De=Object(o.getLogger)("Audio"),qe=new ne(Oe),Ie=qe.asObservable();Ee.mic.stream.subscribe(function(){var e,t=(e=function*(e){var{newValue:t,event:n}=e;if(t){De.info("getting user media");var r=yield navigator.mediaDevices.getUserMedia({audio:!0});De.info("starting new audio graph"),Le=yield Ae.create(r,qe)}else De.info("closing audio graph"),Le&&(yield Le.close()),qe.next(Oe)},function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function s(e){Fe(i,r,o,s,a,"next",e)}function a(e){Fe(i,r,o,s,a,"throw",e)}s(void 0)}))});return function(e){return t.apply(this,arguments)}}());Math.floor(512);function Re(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ze(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ne(e,t,n,r,o,i,s){try{var a=e[i](s),u=a.value}catch(e){return void n(e)}a.done?t(u):Promise.resolve(u).then(r,o)}function He(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function s(e){Ne(i,r,o,s,a,"next",e)}function a(e){Ne(i,r,o,s,a,"throw",e)}s(void 0)}))}}var Ue=new P,$e=Ue.asObservable();function We(e,t,n,r,o,i,s){try{var a=e[i](s),u=a.value}catch(e){return void n(e)}a.done?t(u):Promise.resolve(u).then(r,o)}function Be(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function s(e){We(i,r,o,s,a,"next",e)}function a(e){We(i,r,o,s,a,"throw",e)}s(void 0)}))}}He((function*(){var e=e=>{var t=new te({theta:e.theta}).simplify(e.pipe);return{pipe:t,scope:function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Re(Object(n),!0).forEach((function(t){ze(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Re(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({t:e.t,inf:X.a,n:t.n},e.audio),hv:{h:e.h,v:e.v}}},t=0,n=function(){var n=He((function*(n){try{Ue.next(e({pipe:Ee.pipe.value,theta:Ee.theta.value,audio:n,h:Ee.h.value,v:Ee.v.value,t:t++/60}))}catch(e){q(e)}}));return function(e){return n.apply(this,arguments)}}();yield n(Oe);var r=function(){var e=He((function*(e){Ee.animate.value&&(yield n(e))}));return function(t){return e.apply(this,arguments)}}();(function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n,r=null,o=null;return(n=e[e.length-1])&&"function"==typeof n.schedule&&(o=e.pop()),"function"==typeof e[e.length-1]&&(r=e.pop()),1===e.length&&p(e[0])&&(e=e[0]),W(e,o).lift(new V(r))})(Ie,G(1e3/60)).subscribe(e=>{var[t]=e;return r(t)},q)}))();var Ve=Object(o.getLogger)("Data");Ve.setDefaultLevel("info");var Je=new P,Qe=Je.asObservable(),Ye=function(){var e=Be((function*(){console.info("starting web worker data source"),yield Object(M.c)();return{getData:e=>Object(M.b)(e).then(T.a.fromBuffer)}}));return function(){return e.apply(this,arguments)}}();Be((function*(){var e,{getData:t}=yield Ye(),n=0;$e.subscribe(function(){var r=Be((function*(r){if(!e){D("params",r),Ve.debug("requesting data with params",r),Date.now()-n>=1e3&&(Ve.debug("sending request for data with params ".concat(Object(A.a)(r))),n=Date.now()),e=t(r);try{Je.next(yield e)}catch(e){q(e)}finally{e=null}}}));return function(e){return r.apply(this,arguments)}}(),e=>q(e))}))();n(53);var Ze=n(0),Ge=n.n(Ze),Ke=n(27),Xe=n.n(Ke);function et(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var tt=new class{constructor(){et(this,"domElement",document.createElement("div")),et(this,"hasHover",!1),et(this,"hasAttention",()=>this.hasHover||this.contains(document.activeElement)),et(this,"show",()=>this.domElement.style.opacity="1"),et(this,"hide",()=>this.domElement.style.opacity="0"),et(this,"contains",e=>this.domElement.contains(e)),et(this,"setupInputs",()=>{for(var e of Object.values(Ee)){var t=this.querySelector("#".concat(e.id));Ge()(t,"Did not find element for input #".concat(e.id)),e.setup(t)}Ee.fullscreen.disabled||Ee.fullscreen.stream.subscribe(e=>{var{newValue:t}=e;t?document.body.requestFullscreen():document.fullscreenElement&&document.exitFullscreen()})}),et(this,"querySelector",e=>this.domElement.querySelector(e)),et(this,"setupKeyboardShortcuts",()=>{document.onkeydown=e=>{if(!e.repeat&&!this.domElement.contains(e.target))switch(e.key){case" ":Ee.animate.value=!Ee.animate.value;break;case"m":case"M":Ee.mic.value=!Ee.mic.value;break;case"Enter":Ee.fullscreen.value=!Ee.fullscreen.value}}}),this.domElement.id="overlay",this.domElement.innerHTML=Xe.a,this.setupInputs(),this.setupKeyboardShortcuts(),this.domElement.querySelectorAll("input, textarea, label, i, h2, h1, #allowed_db_range").forEach(e=>{e.onmouseover=()=>this.hasHover=!0,e.onmouseout=()=>this.hasHover=!1})}};function nt(e,t,n,r,o,i,s){try{var a=e[i](s),u=a.value}catch(e){return void n(e)}a.done?t(u):Promise.resolve(u).then(r,o)}function rt(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function s(e){nt(i,r,o,s,a,"next",e)}function a(e){nt(i,r,o,s,a,"throw",e)}s(void 0)}))}}var ot=0,it=e=>{Date.now()<ot+1e3||tt.hasAttention()||(document.body.classList.add("cursor-inactive"),tt.hide())};document.body.onmousemove=e=>{tt.show(),document.body.classList.contains("cursor-inactive")&&document.body.classList.remove("cursor-inactive"),ot=Date.now(),setTimeout(()=>it(),1e3)},document.onreadystatechange=rt((function*(){if("complete"===document.readyState){var e=yield le.a;document.body.appendChild(tt.domElement);var t=document.querySelector("canvas").transferControlToOffscreen();yield e.init(Object(r.Transfer)(t),window.innerWidth,window.innerHeight),window.onresize=()=>{e.resize(window.innerWidth,window.innerHeight)},Qe.subscribe(function(){var t=rt((function*(t){yield e.update(t),D("data",t),document.body.classList.add("data"),it()}));return function(e){return t.apply(this,arguments)}}(),e=>alert("".concat(e.message,"\n").concat(e.stack)))}}))}]);
//# sourceMappingURL=index.04c019ffd5b65b825d53.js.map