{"version":3,"sources":["webpack:///./node_modules/loglevel/lib/loglevel.js","webpack:///./node_modules/tslib/tslib.es6.js","webpack:///./node_modules/rxjs/_esm5/internal/Subscriber.js","webpack:///./node_modules/rxjs/_esm5/internal/util/noop.js","webpack:///./node_modules/rxjs/_esm5/internal/util/pipe.js","webpack:///./node_modules/rxjs/_esm5/internal/Observable.js","webpack:///./node_modules/rxjs/_esm5/internal/util/toSubscriber.js","webpack:///./node_modules/rxjs/_esm5/internal/util/canReportError.js","webpack:///./node_modules/rxjs/_esm5/internal/util/UnsubscriptionError.js","webpack:///./node_modules/rxjs/_esm5/internal/Subscription.js","webpack:///./node_modules/threads/dist/symbols.js","webpack:///./node_modules/threads/dist/transferable.js","webpack:///./node_modules/threads/node_modules/debug/src/browser.js","webpack:///./node_modules/threads/dist/common.js","webpack:///./node_modules/rxjs/_esm5/internal/config.js","webpack:///./node_modules/rxjs/_esm5/internal/util/hostReportError.js","webpack:///./node_modules/rxjs/_esm5/internal/symbol/rxSubscriber.js","webpack:///./node_modules/rxjs/_esm5/internal/util/isArray.js","webpack:///./node_modules/rxjs/_esm5/internal/symbol/observable.js","webpack:///./node_modules/observable-fns/dist.esm/_scheduler.js","webpack:///./node_modules/observable-fns/dist.esm/_symbols.js","webpack:///./node_modules/observable-fns/dist.esm/observable.js","webpack:///./node_modules/observable-fns/dist.esm/unsubscribe.js","webpack:///./node_modules/observable-fns/dist.esm/filter.js","webpack:///./node_modules/observable-fns/dist.esm/flatMap.js","webpack:///./node_modules/observable-fns/dist.esm/_util.js","webpack:///./node_modules/observable-fns/dist.esm/interval.js","webpack:///./node_modules/observable-fns/dist.esm/map.js","webpack:///./node_modules/observable-fns/dist.esm/merge.js","webpack:///./node_modules/observable-fns/dist.esm/subject.js","webpack:///./node_modules/observable-fns/dist.esm/multicast.js","webpack:///./node_modules/observable-fns/dist.esm/scan.js","webpack:///./node_modules/observable-fns/dist.esm/index.js","webpack:///./node_modules/threads/dist/master/implementation.browser.js","webpack:///./node_modules/threads/dist/observable-promise.js","webpack:///./node_modules/threads/dist/master/thread.js","webpack:///./node_modules/threads/dist/types/messages.js","webpack:///./node_modules/rxjs/_esm5/internal/util/ObjectUnsubscribedError.js","webpack:///./node_modules/rxjs/_esm5/internal/Observer.js","webpack:///./node_modules/rxjs/_esm5/internal/util/isFunction.js","webpack:///./node_modules/rxjs/_esm5/internal/util/isObject.js","webpack:///./node_modules/threads/dist/index.js","webpack:///./node_modules/threads/dist/master/index.js","webpack:///./node_modules/threads/dist/master/get-bundle-url.browser.js","webpack:///./node_modules/threads/dist/master/pool.js","webpack:///./node_modules/threads/node_modules/debug/src/common.js","webpack:///./node_modules/threads/node_modules/ms/index.js","webpack:///./node_modules/threads/dist/master/spawn.js","webpack:///./node_modules/threads/dist/promise.js","webpack:///./node_modules/threads/dist/types/master.js","webpack:///./node_modules/threads/dist/master/invocation-proxy.js","webpack:///./node_modules/threads/dist/worker/index.js","webpack:///./node_modules/is-observable/index.js","webpack:///./node_modules/symbol-observable/es/index.js","webpack:///(webpack)/buildin/harmony-module.js","webpack:///./node_modules/symbol-observable/es/ponyfill.js","webpack:///./node_modules/threads/dist/worker/implementation.browser.js","webpack:///./node_modules/multirange/multirange.js","webpack:///./node_modules/rxjs/_esm5/internal/SubjectSubscription.js","webpack:///./node_modules/rxjs/_esm5/internal/Subject.js","webpack:///./node_modules/rxjs/_esm5/internal/BehaviorSubject.js"],"names":["root","definition","noop","undefinedType","isIE","window","test","navigator","userAgent","logMethods","bindMethod","obj","methodName","method","bind","Function","prototype","call","e","apply","arguments","traceForIE","console","log","trace","replaceLoggingMethods","level","loggerName","i","length","this","methodFactory","debug","enableLoggingWhenConsoleArrives","defaultMethodFactory","undefined","realMethod","Logger","name","defaultLevel","factory","currentLevel","self","storageKey","getPersistedLevel","storedLevel","localStorage","ignore","cookie","document","location","indexOf","encodeURIComponent","exec","slice","levels","getLevel","setLevel","persist","toUpperCase","SILENT","levelNum","levelName","persistLevelIfPossible","setDefaultLevel","enableAll","TRACE","disableAll","initialLevel","defaultLogger","_loggersByName","getLogger","TypeError","logger","_log","noConflict","getLoggers","extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","hasOwnProperty","__extends","__","constructor","create","Subscriber","_super","destinationOrNext","error","complete","_this","syncErrorValue","syncErrorThrown","syncErrorThrowable","isStopped","destination","add","SafeSubscriber","next","subscriber","value","_next","err","_error","_complete","unsubscribe","closed","_unsubscribeAndRecycle","_parentOrParents","_parentSubscriber","observerOrNext","context","_context","useDeprecatedSynchronousErrorHandling","__tryOrSetError","__tryOrUnsub","wrappedComplete","fn","parent","Error","_unsubscribe","pipeFromArray","fns","input","reduce","prev","Observable","subscribe","_isScalar","_subscribe","lift","operator","observable","source","sink","nextOrObserver","rxSubscriber","toSubscriber","config","_trySubscribe","observer","_a","closed_1","canReportError","warn","forEach","promiseCtor","getPromiseCtor","resolve","reject","subscription","pipe","operations","_i","toPromise","x","Promise","UnsubscriptionError","UnsubscriptionErrorImpl","errors","message","map","toString","join","Subscription","_subscriptions","empty","remove","index","isFunction","flattenUnsubscriptionErrors","isArray","len","sub","isObject","concat","push","teardown","EMPTY","tmp","subscriptions","subscriptionIndex","splice","errs","defineProperty","exports","$errors","Symbol","$events","$terminate","$transferable","$worker","symbols_1","isTransferDescriptor","thing","Transfer","payload","transferables","send","args","formatArgs","useColors","namespace","module","humanize","diff","c","color","lastC","replace","match","save","namespaces","storage","setItem","removeItem","load","r","getItem","process","env","DEBUG","type","__nwjs","toLowerCase","documentElement","style","WebkitAppearance","firebug","exception","table","parseInt","RegExp","$1","localstorage","colors","formatters","j","v","JSON","stringify","rehydrateError","assign","stack","serializeError","_enable_super_gross_mode_that_will_cause_bad_things","hostReportError","setTimeout","Math","random","__awaiter","thisArg","_arguments","P","generator","fulfilled","step","rejected","result","done","then","AsyncSerialScheduler","_baseObserver","_pendingPromises","Set","all","catch","task","prevPromisesCompletion","values","promise","delete","hasSymbols","hasSymbol","Boolean","getSymbol","asyncIterator","for","SymbolIterator","SymbolObservable","SymbolSpecies","getMethod","key","getSpecies","ctor","enqueue","cleanupSubscription","cleanup","_cleanup","closeSubscription","_observer","_queue","_state","notifySubscription","m","onNotify","queue","item","flushSubscription","subscriptionObserver","SubscriptionObserver","_subscription","_subscriber","onError","onComplete","first","mappers","intermediate","mapper","tapObserver","start","propagatedValue","seed","C","hasSeed","hasValue","acc","sources","startNext","from","outer","normalizedValue","inner","innerValue","completeIfDone","s","observableMethod","isObservable","iteratorMethod","items","symbol","configurable","scheduler","schedule","__asyncValues","o","__values","iterator","verb","n","settle","e_1","mapped","isAsyncIterator","mapped_1_1","mapped_1","element","e_1_1","return","output","interval","period","counter","handle","setInterval","clearInterval","observables","completed","unsubscribeAll","super","_observers","coldObservable","subject","sourceSubscription","subscriberCount","accumulator","accumulated","prevAcc","get_bundle_url_browser_1","defaultPoolSize","hardwareConcurrency","isAbsoluteURL","createSourceBlobURL","code","blob","Blob","URL","createObjectURL","default","selectWorkerImplementation","Worker","url","options","_baseURL","getBundleURL","observable_fns_1","doNothing","returnInput","runDeferred","fail","ObservablePromise","init","initHasRun","fulfillmentCallbacks","rejectionCallbacks","firstValue","rejection","firstValueSet","state","originalObserver","onFulfilled","onCompletion","onRejected","onNext","onFulfilledRaw","onRejectedRaw","onRejectedCalled","rejectionCallback","anotherError","toStringTag","finally","onCompleted","makeHot","async","observers","filter","someObserver","Thread","thread","events","terminate","MasterMessageType","WorkerMessageType","ObjectUnsubscribedError","ObjectUnsubscribedErrorImpl","__export","index_1","expose","transferable_1","__importDefault","mod","__esModule","implementation_1","pool_1","Pool","spawn_1","spawn","thread_1","bundleURL","getBaseURL","matches","debug_1","observable_promise_1","nextPoolID","PoolEventType","PoolConstructor","spawnWorker","optionsOrSize","size","text","String","trim","concurrency","isClosing","nextTaskID","taskQueue","initErrors","workers","count","array","createArray","runningTasks","spawnWorkers","eventSubject","eventObservable","worker","initialized","scheduleWork","availableWorker","maxConcurrency","find","findIdlingWorker","nextTask","shift","taskQueueDrained","workerID","runPromise","ms","id","taskStart","taskID","returnValue","run","taskCompleted","taskFailed","runPoolTask","someRunPromise","pool","allowResolvingImmediately","getCurrentlyRunningTasks","flattened","flatMap","poolEventPromise","event","race","taskFunction","resultPromiseThen","someTask","taskCanceled","resultPromise","eventSubscription","terminated","taskQueued","force","remainingQueue","EventType","selectColor","hash","charCodeAt","createDebug","abs","prevTime","enabled","curr","Number","Date","coerce","unshift","format","formatter","val","destroy","extend","instances","delimiter","newDebug","toNamespace","regexp","substring","disable","names","skips","enable","split","substr","instance","keys","h","w","y","plural","msAbs","isPlural","round","str","parseFloat","parse","isFinite","long","fmtLong","fmtShort","common_1","promise_1","master_1","invocation_proxy_1","debugMessages","debugSpawn","debugThreadUtils","isInitMessage","data","isUncaughtErrorMessage","initMessageTimeout","THREADS_WORKER_INIT_TIMEOUT","setPrivateThreadProps","raw","workerEvents","workerErrors","WorkerEventType","internalError","errorEvent","exposed","timeoutInMs","errorMessage","timeoutHandle","timeout","clearTimeout","withTimeout","messageHandler","removeEventListener","addEventListener","receiveInitMessage","termination","resolver","createPromiseWithResolver","createTerminator","workerTermination","messageEvent","workerEvent","rejectionHandler","reason","terminationEvent","createEventObservable","createProxyFunction","createProxyModule","methods","resolvedTo","alreadyResolved","messages_1","nextJobUID","dedupe","isJobErrorMessage","isJobResultMessage","isJobStartMessage","running","rawArgs","uid","arg","prepareArguments","runMessage","postMessage","jobUID","asyncType","resultType","createObservablePromiseForJob","methodNames","proxy","is_observable_1","transferable_2","exposeCalled","isMasterJobRunMessage","isZenObservable","deconstructTransfer","postJobErrorMessage","rawError","postMessageToMaster","postJobResultMessage","resultValue","resultMessage","postUncaughtErrorMessage","uncaughtError","runFunction","syncResult","startMessage","postJobStartMessage","isWorkerRuntime","subscribeToMasterMessages","messageData","initMessage","postFunctionInitMessage","postModuleInitMessage","on","symbolObservable","global","originalModule","webpackPolyfill","children","enumerable","get","l","symbolObservablePonyfill","transferList","onMessage","supportsMultiple","HTMLInputElement","descriptor","getOwnPropertyDescriptor","multirange","classList","contains","getAttribute","min","max","ghost","cloneNode","parentNode","insertBefore","nextSibling","set","defineProperties","valueLow","originalValue","valueHigh","update","oninput","setProperty","querySelectorAll","SubjectSubscription","subscriberIndex","SubjectSubscriber","Subject","hasError","thrownError","copy","asObservable","AnonymousSubject","BehaviorSubject","_value","getValue"],"mappings":"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","file":"1.b8780a12987b89a631ec.js","sourcesContent":["/*\n* loglevel - https://github.com/pimterry/loglevel\n*\n* Copyright (c) 2013 Tim Perry\n* Licensed under the MIT license.\n*/\n(function (root, definition) {\n    \"use strict\";\n    if (typeof define === 'function' && define.amd) {\n        define(definition);\n    } else if (typeof module === 'object' && module.exports) {\n        module.exports = definition();\n    } else {\n        root.log = definition();\n    }\n}(this, function () {\n    \"use strict\";\n\n    // Slightly dubious tricks to cut down minimized file size\n    var noop = function() {};\n    var undefinedType = \"undefined\";\n    var isIE = (typeof window !== undefinedType) && (\n        /Trident\\/|MSIE /.test(window.navigator.userAgent)\n    );\n\n    var logMethods = [\n        \"trace\",\n        \"debug\",\n        \"info\",\n        \"warn\",\n        \"error\"\n    ];\n\n    // Cross-browser bind equivalent that works at least back to IE6\n    function bindMethod(obj, methodName) {\n        var method = obj[methodName];\n        if (typeof method.bind === 'function') {\n            return method.bind(obj);\n        } else {\n            try {\n                return Function.prototype.bind.call(method, obj);\n            } catch (e) {\n                // Missing bind shim or IE8 + Modernizr, fallback to wrapping\n                return function() {\n                    return Function.prototype.apply.apply(method, [obj, arguments]);\n                };\n            }\n        }\n    }\n\n    // Trace() doesn't print the message in IE, so for that case we need to wrap it\n    function traceForIE() {\n        if (console.log) {\n            if (console.log.apply) {\n                console.log.apply(console, arguments);\n            } else {\n                // In old IE, native console methods themselves don't have apply().\n                Function.prototype.apply.apply(console.log, [console, arguments]);\n            }\n        }\n        if (console.trace) console.trace();\n    }\n\n    // Build the best logging method possible for this env\n    // Wherever possible we want to bind, not wrap, to preserve stack traces\n    function realMethod(methodName) {\n        if (methodName === 'debug') {\n            methodName = 'log';\n        }\n\n        if (typeof console === undefinedType) {\n            return false; // No method possible, for now - fixed later by enableLoggingWhenConsoleArrives\n        } else if (methodName === 'trace' && isIE) {\n            return traceForIE;\n        } else if (console[methodName] !== undefined) {\n            return bindMethod(console, methodName);\n        } else if (console.log !== undefined) {\n            return bindMethod(console, 'log');\n        } else {\n            return noop;\n        }\n    }\n\n    // These private functions always need `this` to be set properly\n\n    function replaceLoggingMethods(level, loggerName) {\n        /*jshint validthis:true */\n        for (var i = 0; i < logMethods.length; i++) {\n            var methodName = logMethods[i];\n            this[methodName] = (i < level) ?\n                noop :\n                this.methodFactory(methodName, level, loggerName);\n        }\n\n        // Define log.log as an alias for log.debug\n        this.log = this.debug;\n    }\n\n    // In old IE versions, the console isn't present until you first open it.\n    // We build realMethod() replacements here that regenerate logging methods\n    function enableLoggingWhenConsoleArrives(methodName, level, loggerName) {\n        return function () {\n            if (typeof console !== undefinedType) {\n                replaceLoggingMethods.call(this, level, loggerName);\n                this[methodName].apply(this, arguments);\n            }\n        };\n    }\n\n    // By default, we use closely bound real methods wherever possible, and\n    // otherwise we wait for a console to appear, and then try again.\n    function defaultMethodFactory(methodName, level, loggerName) {\n        /*jshint validthis:true */\n        return realMethod(methodName) ||\n               enableLoggingWhenConsoleArrives.apply(this, arguments);\n    }\n\n    function Logger(name, defaultLevel, factory) {\n      var self = this;\n      var currentLevel;\n      var storageKey = \"loglevel\";\n      if (name) {\n        storageKey += \":\" + name;\n      }\n\n      function persistLevelIfPossible(levelNum) {\n          var levelName = (logMethods[levelNum] || 'silent').toUpperCase();\n\n          if (typeof window === undefinedType) return;\n\n          // Use localStorage if available\n          try {\n              window.localStorage[storageKey] = levelName;\n              return;\n          } catch (ignore) {}\n\n          // Use session cookie as fallback\n          try {\n              window.document.cookie =\n                encodeURIComponent(storageKey) + \"=\" + levelName + \";\";\n          } catch (ignore) {}\n      }\n\n      function getPersistedLevel() {\n          var storedLevel;\n\n          if (typeof window === undefinedType) return;\n\n          try {\n              storedLevel = window.localStorage[storageKey];\n          } catch (ignore) {}\n\n          // Fallback to cookies if local storage gives us nothing\n          if (typeof storedLevel === undefinedType) {\n              try {\n                  var cookie = window.document.cookie;\n                  var location = cookie.indexOf(\n                      encodeURIComponent(storageKey) + \"=\");\n                  if (location !== -1) {\n                      storedLevel = /^([^;]+)/.exec(cookie.slice(location))[1];\n                  }\n              } catch (ignore) {}\n          }\n\n          // If the stored level is not valid, treat it as if nothing was stored.\n          if (self.levels[storedLevel] === undefined) {\n              storedLevel = undefined;\n          }\n\n          return storedLevel;\n      }\n\n      /*\n       *\n       * Public logger API - see https://github.com/pimterry/loglevel for details\n       *\n       */\n\n      self.name = name;\n\n      self.levels = { \"TRACE\": 0, \"DEBUG\": 1, \"INFO\": 2, \"WARN\": 3,\n          \"ERROR\": 4, \"SILENT\": 5};\n\n      self.methodFactory = factory || defaultMethodFactory;\n\n      self.getLevel = function () {\n          return currentLevel;\n      };\n\n      self.setLevel = function (level, persist) {\n          if (typeof level === \"string\" && self.levels[level.toUpperCase()] !== undefined) {\n              level = self.levels[level.toUpperCase()];\n          }\n          if (typeof level === \"number\" && level >= 0 && level <= self.levels.SILENT) {\n              currentLevel = level;\n              if (persist !== false) {  // defaults to true\n                  persistLevelIfPossible(level);\n              }\n              replaceLoggingMethods.call(self, level, name);\n              if (typeof console === undefinedType && level < self.levels.SILENT) {\n                  return \"No console available for logging\";\n              }\n          } else {\n              throw \"log.setLevel() called with invalid level: \" + level;\n          }\n      };\n\n      self.setDefaultLevel = function (level) {\n          if (!getPersistedLevel()) {\n              self.setLevel(level, false);\n          }\n      };\n\n      self.enableAll = function(persist) {\n          self.setLevel(self.levels.TRACE, persist);\n      };\n\n      self.disableAll = function(persist) {\n          self.setLevel(self.levels.SILENT, persist);\n      };\n\n      // Initialize with the right level\n      var initialLevel = getPersistedLevel();\n      if (initialLevel == null) {\n          initialLevel = defaultLevel == null ? \"WARN\" : defaultLevel;\n      }\n      self.setLevel(initialLevel, false);\n    }\n\n    /*\n     *\n     * Top-level API\n     *\n     */\n\n    var defaultLogger = new Logger();\n\n    var _loggersByName = {};\n    defaultLogger.getLogger = function getLogger(name) {\n        if (typeof name !== \"string\" || name === \"\") {\n          throw new TypeError(\"You must supply a name when creating a logger.\");\n        }\n\n        var logger = _loggersByName[name];\n        if (!logger) {\n          logger = _loggersByName[name] = new Logger(\n            name, defaultLogger.getLevel(), defaultLogger.methodFactory);\n        }\n        return logger;\n    };\n\n    // Grab the current global log variable in case of overwrite\n    var _log = (typeof window !== undefinedType) ? window.log : undefined;\n    defaultLogger.noConflict = function() {\n        if (typeof window !== undefinedType &&\n               window.log === defaultLogger) {\n            window.log = _log;\n        }\n\n        return defaultLogger;\n    };\n\n    defaultLogger.getLoggers = function getLoggers() {\n        return _loggersByName;\n    };\n\n    return defaultLogger;\n}));\n","/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation. All rights reserved.\r\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\nthis file except in compliance with the License. You may obtain a copy of the\r\nLicense at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\nMERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\nSee the Apache Version 2.0 License for specific language governing permissions\r\nand limitations under the License.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport function __exportStar(m, exports) {\r\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\n\r\nexport function __values(o) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator], i = 0;\r\n    if (m) return m.call(o);\r\n    return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n};\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\r\n    result.default = mod;\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n","/** PURE_IMPORTS_START tslib,_util_isFunction,_Observer,_Subscription,_internal_symbol_rxSubscriber,_config,_util_hostReportError PURE_IMPORTS_END */\nimport * as tslib_1 from \"tslib\";\nimport { isFunction } from './util/isFunction';\nimport { empty as emptyObserver } from './Observer';\nimport { Subscription } from './Subscription';\nimport { rxSubscriber as rxSubscriberSymbol } from '../internal/symbol/rxSubscriber';\nimport { config } from './config';\nimport { hostReportError } from './util/hostReportError';\nvar Subscriber = /*@__PURE__*/ (function (_super) {\n    tslib_1.__extends(Subscriber, _super);\n    function Subscriber(destinationOrNext, error, complete) {\n        var _this = _super.call(this) || this;\n        _this.syncErrorValue = null;\n        _this.syncErrorThrown = false;\n        _this.syncErrorThrowable = false;\n        _this.isStopped = false;\n        switch (arguments.length) {\n            case 0:\n                _this.destination = emptyObserver;\n                break;\n            case 1:\n                if (!destinationOrNext) {\n                    _this.destination = emptyObserver;\n                    break;\n                }\n                if (typeof destinationOrNext === 'object') {\n                    if (destinationOrNext instanceof Subscriber) {\n                        _this.syncErrorThrowable = destinationOrNext.syncErrorThrowable;\n                        _this.destination = destinationOrNext;\n                        destinationOrNext.add(_this);\n                    }\n                    else {\n                        _this.syncErrorThrowable = true;\n                        _this.destination = new SafeSubscriber(_this, destinationOrNext);\n                    }\n                    break;\n                }\n            default:\n                _this.syncErrorThrowable = true;\n                _this.destination = new SafeSubscriber(_this, destinationOrNext, error, complete);\n                break;\n        }\n        return _this;\n    }\n    Subscriber.prototype[rxSubscriberSymbol] = function () { return this; };\n    Subscriber.create = function (next, error, complete) {\n        var subscriber = new Subscriber(next, error, complete);\n        subscriber.syncErrorThrowable = false;\n        return subscriber;\n    };\n    Subscriber.prototype.next = function (value) {\n        if (!this.isStopped) {\n            this._next(value);\n        }\n    };\n    Subscriber.prototype.error = function (err) {\n        if (!this.isStopped) {\n            this.isStopped = true;\n            this._error(err);\n        }\n    };\n    Subscriber.prototype.complete = function () {\n        if (!this.isStopped) {\n            this.isStopped = true;\n            this._complete();\n        }\n    };\n    Subscriber.prototype.unsubscribe = function () {\n        if (this.closed) {\n            return;\n        }\n        this.isStopped = true;\n        _super.prototype.unsubscribe.call(this);\n    };\n    Subscriber.prototype._next = function (value) {\n        this.destination.next(value);\n    };\n    Subscriber.prototype._error = function (err) {\n        this.destination.error(err);\n        this.unsubscribe();\n    };\n    Subscriber.prototype._complete = function () {\n        this.destination.complete();\n        this.unsubscribe();\n    };\n    Subscriber.prototype._unsubscribeAndRecycle = function () {\n        var _parentOrParents = this._parentOrParents;\n        this._parentOrParents = null;\n        this.unsubscribe();\n        this.closed = false;\n        this.isStopped = false;\n        this._parentOrParents = _parentOrParents;\n        return this;\n    };\n    return Subscriber;\n}(Subscription));\nexport { Subscriber };\nvar SafeSubscriber = /*@__PURE__*/ (function (_super) {\n    tslib_1.__extends(SafeSubscriber, _super);\n    function SafeSubscriber(_parentSubscriber, observerOrNext, error, complete) {\n        var _this = _super.call(this) || this;\n        _this._parentSubscriber = _parentSubscriber;\n        var next;\n        var context = _this;\n        if (isFunction(observerOrNext)) {\n            next = observerOrNext;\n        }\n        else if (observerOrNext) {\n            next = observerOrNext.next;\n            error = observerOrNext.error;\n            complete = observerOrNext.complete;\n            if (observerOrNext !== emptyObserver) {\n                context = Object.create(observerOrNext);\n                if (isFunction(context.unsubscribe)) {\n                    _this.add(context.unsubscribe.bind(context));\n                }\n                context.unsubscribe = _this.unsubscribe.bind(_this);\n            }\n        }\n        _this._context = context;\n        _this._next = next;\n        _this._error = error;\n        _this._complete = complete;\n        return _this;\n    }\n    SafeSubscriber.prototype.next = function (value) {\n        if (!this.isStopped && this._next) {\n            var _parentSubscriber = this._parentSubscriber;\n            if (!config.useDeprecatedSynchronousErrorHandling || !_parentSubscriber.syncErrorThrowable) {\n                this.__tryOrUnsub(this._next, value);\n            }\n            else if (this.__tryOrSetError(_parentSubscriber, this._next, value)) {\n                this.unsubscribe();\n            }\n        }\n    };\n    SafeSubscriber.prototype.error = function (err) {\n        if (!this.isStopped) {\n            var _parentSubscriber = this._parentSubscriber;\n            var useDeprecatedSynchronousErrorHandling = config.useDeprecatedSynchronousErrorHandling;\n            if (this._error) {\n                if (!useDeprecatedSynchronousErrorHandling || !_parentSubscriber.syncErrorThrowable) {\n                    this.__tryOrUnsub(this._error, err);\n                    this.unsubscribe();\n                }\n                else {\n                    this.__tryOrSetError(_parentSubscriber, this._error, err);\n                    this.unsubscribe();\n                }\n            }\n            else if (!_parentSubscriber.syncErrorThrowable) {\n                this.unsubscribe();\n                if (useDeprecatedSynchronousErrorHandling) {\n                    throw err;\n                }\n                hostReportError(err);\n            }\n            else {\n                if (useDeprecatedSynchronousErrorHandling) {\n                    _parentSubscriber.syncErrorValue = err;\n                    _parentSubscriber.syncErrorThrown = true;\n                }\n                else {\n                    hostReportError(err);\n                }\n                this.unsubscribe();\n            }\n        }\n    };\n    SafeSubscriber.prototype.complete = function () {\n        var _this = this;\n        if (!this.isStopped) {\n            var _parentSubscriber = this._parentSubscriber;\n            if (this._complete) {\n                var wrappedComplete = function () { return _this._complete.call(_this._context); };\n                if (!config.useDeprecatedSynchronousErrorHandling || !_parentSubscriber.syncErrorThrowable) {\n                    this.__tryOrUnsub(wrappedComplete);\n                    this.unsubscribe();\n                }\n                else {\n                    this.__tryOrSetError(_parentSubscriber, wrappedComplete);\n                    this.unsubscribe();\n                }\n            }\n            else {\n                this.unsubscribe();\n            }\n        }\n    };\n    SafeSubscriber.prototype.__tryOrUnsub = function (fn, value) {\n        try {\n            fn.call(this._context, value);\n        }\n        catch (err) {\n            this.unsubscribe();\n            if (config.useDeprecatedSynchronousErrorHandling) {\n                throw err;\n            }\n            else {\n                hostReportError(err);\n            }\n        }\n    };\n    SafeSubscriber.prototype.__tryOrSetError = function (parent, fn, value) {\n        if (!config.useDeprecatedSynchronousErrorHandling) {\n            throw new Error('bad call');\n        }\n        try {\n            fn.call(this._context, value);\n        }\n        catch (err) {\n            if (config.useDeprecatedSynchronousErrorHandling) {\n                parent.syncErrorValue = err;\n                parent.syncErrorThrown = true;\n                return true;\n            }\n            else {\n                hostReportError(err);\n                return true;\n            }\n        }\n        return false;\n    };\n    SafeSubscriber.prototype._unsubscribe = function () {\n        var _parentSubscriber = this._parentSubscriber;\n        this._context = null;\n        this._parentSubscriber = null;\n        _parentSubscriber.unsubscribe();\n    };\n    return SafeSubscriber;\n}(Subscriber));\nexport { SafeSubscriber };\n//# sourceMappingURL=Subscriber.js.map\n","/** PURE_IMPORTS_START  PURE_IMPORTS_END */\nexport function noop() { }\n//# sourceMappingURL=noop.js.map\n","/** PURE_IMPORTS_START _noop PURE_IMPORTS_END */\nimport { noop } from './noop';\nexport function pipe() {\n    var fns = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        fns[_i] = arguments[_i];\n    }\n    return pipeFromArray(fns);\n}\nexport function pipeFromArray(fns) {\n    if (!fns) {\n        return noop;\n    }\n    if (fns.length === 1) {\n        return fns[0];\n    }\n    return function piped(input) {\n        return fns.reduce(function (prev, fn) { return fn(prev); }, input);\n    };\n}\n//# sourceMappingURL=pipe.js.map\n","/** PURE_IMPORTS_START _util_canReportError,_util_toSubscriber,_symbol_observable,_util_pipe,_config PURE_IMPORTS_END */\nimport { canReportError } from './util/canReportError';\nimport { toSubscriber } from './util/toSubscriber';\nimport { observable as Symbol_observable } from './symbol/observable';\nimport { pipeFromArray } from './util/pipe';\nimport { config } from './config';\nvar Observable = /*@__PURE__*/ (function () {\n    function Observable(subscribe) {\n        this._isScalar = false;\n        if (subscribe) {\n            this._subscribe = subscribe;\n        }\n    }\n    Observable.prototype.lift = function (operator) {\n        var observable = new Observable();\n        observable.source = this;\n        observable.operator = operator;\n        return observable;\n    };\n    Observable.prototype.subscribe = function (observerOrNext, error, complete) {\n        var operator = this.operator;\n        var sink = toSubscriber(observerOrNext, error, complete);\n        if (operator) {\n            sink.add(operator.call(sink, this.source));\n        }\n        else {\n            sink.add(this.source || (config.useDeprecatedSynchronousErrorHandling && !sink.syncErrorThrowable) ?\n                this._subscribe(sink) :\n                this._trySubscribe(sink));\n        }\n        if (config.useDeprecatedSynchronousErrorHandling) {\n            if (sink.syncErrorThrowable) {\n                sink.syncErrorThrowable = false;\n                if (sink.syncErrorThrown) {\n                    throw sink.syncErrorValue;\n                }\n            }\n        }\n        return sink;\n    };\n    Observable.prototype._trySubscribe = function (sink) {\n        try {\n            return this._subscribe(sink);\n        }\n        catch (err) {\n            if (config.useDeprecatedSynchronousErrorHandling) {\n                sink.syncErrorThrown = true;\n                sink.syncErrorValue = err;\n            }\n            if (canReportError(sink)) {\n                sink.error(err);\n            }\n            else {\n                console.warn(err);\n            }\n        }\n    };\n    Observable.prototype.forEach = function (next, promiseCtor) {\n        var _this = this;\n        promiseCtor = getPromiseCtor(promiseCtor);\n        return new promiseCtor(function (resolve, reject) {\n            var subscription;\n            subscription = _this.subscribe(function (value) {\n                try {\n                    next(value);\n                }\n                catch (err) {\n                    reject(err);\n                    if (subscription) {\n                        subscription.unsubscribe();\n                    }\n                }\n            }, reject, resolve);\n        });\n    };\n    Observable.prototype._subscribe = function (subscriber) {\n        var source = this.source;\n        return source && source.subscribe(subscriber);\n    };\n    Observable.prototype[Symbol_observable] = function () {\n        return this;\n    };\n    Observable.prototype.pipe = function () {\n        var operations = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            operations[_i] = arguments[_i];\n        }\n        if (operations.length === 0) {\n            return this;\n        }\n        return pipeFromArray(operations)(this);\n    };\n    Observable.prototype.toPromise = function (promiseCtor) {\n        var _this = this;\n        promiseCtor = getPromiseCtor(promiseCtor);\n        return new promiseCtor(function (resolve, reject) {\n            var value;\n            _this.subscribe(function (x) { return value = x; }, function (err) { return reject(err); }, function () { return resolve(value); });\n        });\n    };\n    Observable.create = function (subscribe) {\n        return new Observable(subscribe);\n    };\n    return Observable;\n}());\nexport { Observable };\nfunction getPromiseCtor(promiseCtor) {\n    if (!promiseCtor) {\n        promiseCtor = config.Promise || Promise;\n    }\n    if (!promiseCtor) {\n        throw new Error('no Promise impl found');\n    }\n    return promiseCtor;\n}\n//# sourceMappingURL=Observable.js.map\n","/** PURE_IMPORTS_START _Subscriber,_symbol_rxSubscriber,_Observer PURE_IMPORTS_END */\nimport { Subscriber } from '../Subscriber';\nimport { rxSubscriber as rxSubscriberSymbol } from '../symbol/rxSubscriber';\nimport { empty as emptyObserver } from '../Observer';\nexport function toSubscriber(nextOrObserver, error, complete) {\n    if (nextOrObserver) {\n        if (nextOrObserver instanceof Subscriber) {\n            return nextOrObserver;\n        }\n        if (nextOrObserver[rxSubscriberSymbol]) {\n            return nextOrObserver[rxSubscriberSymbol]();\n        }\n    }\n    if (!nextOrObserver && !error && !complete) {\n        return new Subscriber(emptyObserver);\n    }\n    return new Subscriber(nextOrObserver, error, complete);\n}\n//# sourceMappingURL=toSubscriber.js.map\n","/** PURE_IMPORTS_START _Subscriber PURE_IMPORTS_END */\nimport { Subscriber } from '../Subscriber';\nexport function canReportError(observer) {\n    while (observer) {\n        var _a = observer, closed_1 = _a.closed, destination = _a.destination, isStopped = _a.isStopped;\n        if (closed_1 || isStopped) {\n            return false;\n        }\n        else if (destination && destination instanceof Subscriber) {\n            observer = destination;\n        }\n        else {\n            observer = null;\n        }\n    }\n    return true;\n}\n//# sourceMappingURL=canReportError.js.map\n","/** PURE_IMPORTS_START  PURE_IMPORTS_END */\nvar UnsubscriptionErrorImpl = /*@__PURE__*/ (function () {\n    function UnsubscriptionErrorImpl(errors) {\n        Error.call(this);\n        this.message = errors ?\n            errors.length + \" errors occurred during unsubscription:\\n\" + errors.map(function (err, i) { return i + 1 + \") \" + err.toString(); }).join('\\n  ') : '';\n        this.name = 'UnsubscriptionError';\n        this.errors = errors;\n        return this;\n    }\n    UnsubscriptionErrorImpl.prototype = /*@__PURE__*/ Object.create(Error.prototype);\n    return UnsubscriptionErrorImpl;\n})();\nexport var UnsubscriptionError = UnsubscriptionErrorImpl;\n//# sourceMappingURL=UnsubscriptionError.js.map\n","/** PURE_IMPORTS_START _util_isArray,_util_isObject,_util_isFunction,_util_UnsubscriptionError PURE_IMPORTS_END */\nimport { isArray } from './util/isArray';\nimport { isObject } from './util/isObject';\nimport { isFunction } from './util/isFunction';\nimport { UnsubscriptionError } from './util/UnsubscriptionError';\nvar Subscription = /*@__PURE__*/ (function () {\n    function Subscription(unsubscribe) {\n        this.closed = false;\n        this._parentOrParents = null;\n        this._subscriptions = null;\n        if (unsubscribe) {\n            this._unsubscribe = unsubscribe;\n        }\n    }\n    Subscription.prototype.unsubscribe = function () {\n        var errors;\n        if (this.closed) {\n            return;\n        }\n        var _a = this, _parentOrParents = _a._parentOrParents, _unsubscribe = _a._unsubscribe, _subscriptions = _a._subscriptions;\n        this.closed = true;\n        this._parentOrParents = null;\n        this._subscriptions = null;\n        if (_parentOrParents instanceof Subscription) {\n            _parentOrParents.remove(this);\n        }\n        else if (_parentOrParents !== null) {\n            for (var index = 0; index < _parentOrParents.length; ++index) {\n                var parent_1 = _parentOrParents[index];\n                parent_1.remove(this);\n            }\n        }\n        if (isFunction(_unsubscribe)) {\n            try {\n                _unsubscribe.call(this);\n            }\n            catch (e) {\n                errors = e instanceof UnsubscriptionError ? flattenUnsubscriptionErrors(e.errors) : [e];\n            }\n        }\n        if (isArray(_subscriptions)) {\n            var index = -1;\n            var len = _subscriptions.length;\n            while (++index < len) {\n                var sub = _subscriptions[index];\n                if (isObject(sub)) {\n                    try {\n                        sub.unsubscribe();\n                    }\n                    catch (e) {\n                        errors = errors || [];\n                        if (e instanceof UnsubscriptionError) {\n                            errors = errors.concat(flattenUnsubscriptionErrors(e.errors));\n                        }\n                        else {\n                            errors.push(e);\n                        }\n                    }\n                }\n            }\n        }\n        if (errors) {\n            throw new UnsubscriptionError(errors);\n        }\n    };\n    Subscription.prototype.add = function (teardown) {\n        var subscription = teardown;\n        if (!teardown) {\n            return Subscription.EMPTY;\n        }\n        switch (typeof teardown) {\n            case 'function':\n                subscription = new Subscription(teardown);\n            case 'object':\n                if (subscription === this || subscription.closed || typeof subscription.unsubscribe !== 'function') {\n                    return subscription;\n                }\n                else if (this.closed) {\n                    subscription.unsubscribe();\n                    return subscription;\n                }\n                else if (!(subscription instanceof Subscription)) {\n                    var tmp = subscription;\n                    subscription = new Subscription();\n                    subscription._subscriptions = [tmp];\n                }\n                break;\n            default: {\n                throw new Error('unrecognized teardown ' + teardown + ' added to Subscription.');\n            }\n        }\n        var _parentOrParents = subscription._parentOrParents;\n        if (_parentOrParents === null) {\n            subscription._parentOrParents = this;\n        }\n        else if (_parentOrParents instanceof Subscription) {\n            if (_parentOrParents === this) {\n                return subscription;\n            }\n            subscription._parentOrParents = [_parentOrParents, this];\n        }\n        else if (_parentOrParents.indexOf(this) === -1) {\n            _parentOrParents.push(this);\n        }\n        else {\n            return subscription;\n        }\n        var subscriptions = this._subscriptions;\n        if (subscriptions === null) {\n            this._subscriptions = [subscription];\n        }\n        else {\n            subscriptions.push(subscription);\n        }\n        return subscription;\n    };\n    Subscription.prototype.remove = function (subscription) {\n        var subscriptions = this._subscriptions;\n        if (subscriptions) {\n            var subscriptionIndex = subscriptions.indexOf(subscription);\n            if (subscriptionIndex !== -1) {\n                subscriptions.splice(subscriptionIndex, 1);\n            }\n        }\n    };\n    Subscription.EMPTY = (function (empty) {\n        empty.closed = true;\n        return empty;\n    }(new Subscription()));\n    return Subscription;\n}());\nexport { Subscription };\nfunction flattenUnsubscriptionErrors(errors) {\n    return errors.reduce(function (errs, err) { return errs.concat((err instanceof UnsubscriptionError) ? err.errors : err); }, []);\n}\n//# sourceMappingURL=Subscription.js.map\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.$errors = Symbol(\"thread.errors\");\nexports.$events = Symbol(\"thread.events\");\nexports.$terminate = Symbol(\"thread.terminate\");\nexports.$transferable = Symbol(\"thread.transferable\");\nexports.$worker = Symbol(\"thread.worker\");\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst symbols_1 = require(\"./symbols\");\nfunction isTransferable(thing) {\n    if (!thing || typeof thing !== \"object\")\n        return false;\n    // Don't check too thoroughly, since the list of transferable things in JS might grow over time\n    return true;\n}\nfunction isTransferDescriptor(thing) {\n    return thing && typeof thing === \"object\" && thing[symbols_1.$transferable];\n}\nexports.isTransferDescriptor = isTransferDescriptor;\n/**\n * Mark transferable objects within an arbitrary object or array as\n * being a transferable object. They will then not be serialized\n * and deserialized on messaging with the main thread, but ownership\n * of them will be tranferred to the receiving thread.\n *\n * Only array buffers, message ports and few more special types of\n * objects can be transferred, but it's much faster than serializing and\n * deserializing them.\n *\n * Note:\n * The transferable object cannot be accessed by this thread again\n * unless the receiving thread transfers it back again!\n *\n * @param transferable Array buffer, message port or similar.\n * @see <https://developers.google.com/web/updates/2011/12/Transferable-Objects-Lightning-Fast>\n */\nfunction Transfer(payload, transferables) {\n    if (!transferables) {\n        if (!isTransferable(payload))\n            throw Error();\n        transferables = [payload];\n    }\n    return {\n        [symbols_1.$transferable]: true,\n        send: payload,\n        transferables\n    };\n}\nexports.Transfer = Transfer;\n","/* eslint-env browser */\n\n/**\n * This is the web browser implementation of `debug()`.\n */\n\nexports.log = log;\nexports.formatArgs = formatArgs;\nexports.save = save;\nexports.load = load;\nexports.useColors = useColors;\nexports.storage = localstorage();\n\n/**\n * Colors.\n */\n\nexports.colors = [\n\t'#0000CC',\n\t'#0000FF',\n\t'#0033CC',\n\t'#0033FF',\n\t'#0066CC',\n\t'#0066FF',\n\t'#0099CC',\n\t'#0099FF',\n\t'#00CC00',\n\t'#00CC33',\n\t'#00CC66',\n\t'#00CC99',\n\t'#00CCCC',\n\t'#00CCFF',\n\t'#3300CC',\n\t'#3300FF',\n\t'#3333CC',\n\t'#3333FF',\n\t'#3366CC',\n\t'#3366FF',\n\t'#3399CC',\n\t'#3399FF',\n\t'#33CC00',\n\t'#33CC33',\n\t'#33CC66',\n\t'#33CC99',\n\t'#33CCCC',\n\t'#33CCFF',\n\t'#6600CC',\n\t'#6600FF',\n\t'#6633CC',\n\t'#6633FF',\n\t'#66CC00',\n\t'#66CC33',\n\t'#9900CC',\n\t'#9900FF',\n\t'#9933CC',\n\t'#9933FF',\n\t'#99CC00',\n\t'#99CC33',\n\t'#CC0000',\n\t'#CC0033',\n\t'#CC0066',\n\t'#CC0099',\n\t'#CC00CC',\n\t'#CC00FF',\n\t'#CC3300',\n\t'#CC3333',\n\t'#CC3366',\n\t'#CC3399',\n\t'#CC33CC',\n\t'#CC33FF',\n\t'#CC6600',\n\t'#CC6633',\n\t'#CC9900',\n\t'#CC9933',\n\t'#CCCC00',\n\t'#CCCC33',\n\t'#FF0000',\n\t'#FF0033',\n\t'#FF0066',\n\t'#FF0099',\n\t'#FF00CC',\n\t'#FF00FF',\n\t'#FF3300',\n\t'#FF3333',\n\t'#FF3366',\n\t'#FF3399',\n\t'#FF33CC',\n\t'#FF33FF',\n\t'#FF6600',\n\t'#FF6633',\n\t'#FF9900',\n\t'#FF9933',\n\t'#FFCC00',\n\t'#FFCC33'\n];\n\n/**\n * Currently only WebKit-based Web Inspectors, Firefox >= v31,\n * and the Firebug extension (any Firefox version) are known\n * to support \"%c\" CSS customizations.\n *\n * TODO: add a `localStorage` variable to explicitly enable/disable colors\n */\n\n// eslint-disable-next-line complexity\nfunction useColors() {\n\t// NB: In an Electron preload script, document will be defined but not fully\n\t// initialized. Since we know we're in Chrome, we'll just detect this case\n\t// explicitly\n\tif (typeof window !== 'undefined' && window.process && (window.process.type === 'renderer' || window.process.__nwjs)) {\n\t\treturn true;\n\t}\n\n\t// Internet Explorer and Edge do not support colors.\n\tif (typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/(edge|trident)\\/(\\d+)/)) {\n\t\treturn false;\n\t}\n\n\t// Is webkit? http://stackoverflow.com/a/16459606/376773\n\t// document is undefined in react-native: https://github.com/facebook/react-native/pull/1632\n\treturn (typeof document !== 'undefined' && document.documentElement && document.documentElement.style && document.documentElement.style.WebkitAppearance) ||\n\t\t// Is firebug? http://stackoverflow.com/a/398120/376773\n\t\t(typeof window !== 'undefined' && window.console && (window.console.firebug || (window.console.exception && window.console.table))) ||\n\t\t// Is firefox >= v31?\n\t\t// https://developer.mozilla.org/en-US/docs/Tools/Web_Console#Styling_messages\n\t\t(typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/firefox\\/(\\d+)/) && parseInt(RegExp.$1, 10) >= 31) ||\n\t\t// Double check webkit in userAgent just in case we are in a worker\n\t\t(typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/applewebkit\\/(\\d+)/));\n}\n\n/**\n * Colorize log arguments if enabled.\n *\n * @api public\n */\n\nfunction formatArgs(args) {\n\targs[0] = (this.useColors ? '%c' : '') +\n\t\tthis.namespace +\n\t\t(this.useColors ? ' %c' : ' ') +\n\t\targs[0] +\n\t\t(this.useColors ? '%c ' : ' ') +\n\t\t'+' + module.exports.humanize(this.diff);\n\n\tif (!this.useColors) {\n\t\treturn;\n\t}\n\n\tconst c = 'color: ' + this.color;\n\targs.splice(1, 0, c, 'color: inherit');\n\n\t// The final \"%c\" is somewhat tricky, because there could be other\n\t// arguments passed either before or after the %c, so we need to\n\t// figure out the correct index to insert the CSS into\n\tlet index = 0;\n\tlet lastC = 0;\n\targs[0].replace(/%[a-zA-Z%]/g, match => {\n\t\tif (match === '%%') {\n\t\t\treturn;\n\t\t}\n\t\tindex++;\n\t\tif (match === '%c') {\n\t\t\t// We only are interested in the *last* %c\n\t\t\t// (the user may have provided their own)\n\t\t\tlastC = index;\n\t\t}\n\t});\n\n\targs.splice(lastC, 0, c);\n}\n\n/**\n * Invokes `console.log()` when available.\n * No-op when `console.log` is not a \"function\".\n *\n * @api public\n */\nfunction log(...args) {\n\t// This hackery is required for IE8/9, where\n\t// the `console.log` function doesn't have 'apply'\n\treturn typeof console === 'object' &&\n\t\tconsole.log &&\n\t\tconsole.log(...args);\n}\n\n/**\n * Save `namespaces`.\n *\n * @param {String} namespaces\n * @api private\n */\nfunction save(namespaces) {\n\ttry {\n\t\tif (namespaces) {\n\t\t\texports.storage.setItem('debug', namespaces);\n\t\t} else {\n\t\t\texports.storage.removeItem('debug');\n\t\t}\n\t} catch (error) {\n\t\t// Swallow\n\t\t// XXX (@Qix-) should we be logging these?\n\t}\n}\n\n/**\n * Load `namespaces`.\n *\n * @return {String} returns the previously persisted debug modes\n * @api private\n */\nfunction load() {\n\tlet r;\n\ttry {\n\t\tr = exports.storage.getItem('debug');\n\t} catch (error) {\n\t\t// Swallow\n\t\t// XXX (@Qix-) should we be logging these?\n\t}\n\n\t// If debug isn't set in LS, and we're in Electron, try to load $DEBUG\n\tif (!r && typeof process !== 'undefined' && 'env' in process) {\n\t\tr = process.env.DEBUG;\n\t}\n\n\treturn r;\n}\n\n/**\n * Localstorage attempts to return the localstorage.\n *\n * This is necessary because safari throws\n * when a user disables cookies/localstorage\n * and you attempt to access it.\n *\n * @return {LocalStorage}\n * @api private\n */\n\nfunction localstorage() {\n\ttry {\n\t\t// TVMLKit (Apple TV JS Runtime) does not have a window object, just localStorage in the global context\n\t\t// The Browser also has localStorage in the global context.\n\t\treturn localStorage;\n\t} catch (error) {\n\t\t// Swallow\n\t\t// XXX (@Qix-) should we be logging these?\n\t}\n}\n\nmodule.exports = require('./common')(exports);\n\nconst {formatters} = module.exports;\n\n/**\n * Map %j to `JSON.stringify()`, since no Web Inspectors do that by default.\n */\n\nformatters.j = function (v) {\n\ttry {\n\t\treturn JSON.stringify(v);\n\t} catch (error) {\n\t\treturn '[UnexpectedJSONParseError]: ' + error.message;\n\t}\n};\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nfunction rehydrateError(error) {\n    return Object.assign(Error(error.message), {\n        name: error.name,\n        stack: error.stack\n    });\n}\nexports.rehydrateError = rehydrateError;\nfunction serializeError(error) {\n    return {\n        message: error.message,\n        name: error.name,\n        stack: error.stack\n    };\n}\nexports.serializeError = serializeError;\n","/** PURE_IMPORTS_START  PURE_IMPORTS_END */\nvar _enable_super_gross_mode_that_will_cause_bad_things = false;\nexport var config = {\n    Promise: undefined,\n    set useDeprecatedSynchronousErrorHandling(value) {\n        if (value) {\n            var error = /*@__PURE__*/ new Error();\n            /*@__PURE__*/ console.warn('DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \\n' + error.stack);\n        }\n        else if (_enable_super_gross_mode_that_will_cause_bad_things) {\n            /*@__PURE__*/ console.log('RxJS: Back to a better error behavior. Thank you. <3');\n        }\n        _enable_super_gross_mode_that_will_cause_bad_things = value;\n    },\n    get useDeprecatedSynchronousErrorHandling() {\n        return _enable_super_gross_mode_that_will_cause_bad_things;\n    },\n};\n//# sourceMappingURL=config.js.map\n","/** PURE_IMPORTS_START  PURE_IMPORTS_END */\nexport function hostReportError(err) {\n    setTimeout(function () { throw err; }, 0);\n}\n//# sourceMappingURL=hostReportError.js.map\n","/** PURE_IMPORTS_START  PURE_IMPORTS_END */\nexport var rxSubscriber = /*@__PURE__*/ (function () {\n    return typeof Symbol === 'function'\n        ? /*@__PURE__*/ Symbol('rxSubscriber')\n        : '@@rxSubscriber_' + /*@__PURE__*/ Math.random();\n})();\nexport var $$rxSubscriber = rxSubscriber;\n//# sourceMappingURL=rxSubscriber.js.map\n","/** PURE_IMPORTS_START  PURE_IMPORTS_END */\nexport var isArray = /*@__PURE__*/ (function () { return Array.isArray || (function (x) { return x && typeof x.length === 'number'; }); })();\n//# sourceMappingURL=isArray.js.map\n","/** PURE_IMPORTS_START  PURE_IMPORTS_END */\nexport var observable = /*@__PURE__*/ (function () { return typeof Symbol === 'function' && Symbol.observable || '@@observable'; })();\n//# sourceMappingURL=observable.js.map\n","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nexport class AsyncSerialScheduler {\n    constructor(observer) {\n        this._baseObserver = observer;\n        this._pendingPromises = new Set();\n    }\n    complete() {\n        Promise.all(this._pendingPromises)\n            .then(() => this._baseObserver.complete())\n            .catch(error => this._baseObserver.error(error));\n    }\n    error(error) {\n        this._baseObserver.error(error);\n    }\n    schedule(task) {\n        const prevPromisesCompletion = Promise.all(this._pendingPromises);\n        const values = [];\n        const next = (value) => values.push(value);\n        const promise = Promise.resolve()\n            .then(() => __awaiter(this, void 0, void 0, function* () {\n            yield prevPromisesCompletion;\n            yield task(next);\n            this._pendingPromises.delete(promise);\n            for (const value of values) {\n                this._baseObserver.next(value);\n            }\n        }))\n            .catch(error => {\n            this._pendingPromises.delete(promise);\n            this._baseObserver.error(error);\n        });\n        this._pendingPromises.add(promise);\n    }\n}\n","export const hasSymbols = () => typeof Symbol === \"function\";\nexport const hasSymbol = (name) => hasSymbols() && Boolean(Symbol[name]);\nexport const getSymbol = (name) => hasSymbol(name) ? Symbol[name] : \"@@\" + name;\nexport function registerObservableSymbol() {\n    if (hasSymbols() && !hasSymbol(\"observable\")) {\n        Symbol.observable = Symbol(\"observable\");\n    }\n}\nif (!hasSymbol(\"asyncIterator\")) {\n    Symbol.asyncIterator = Symbol.asyncIterator || Symbol.for(\"Symbol.asyncIterator\");\n}\n","/**\n * Based on <https://raw.githubusercontent.com/zenparsing/zen-observable/master/src/Observable.js>\n * At commit: f63849a8c60af5d514efc8e9d6138d8273c49ad6\n */\nimport { getSymbol, hasSymbol, hasSymbols } from \"./_symbols\";\nconst SymbolIterator = getSymbol(\"iterator\");\nconst SymbolObservable = getSymbol(\"observable\");\nconst SymbolSpecies = getSymbol(\"species\");\n// === Abstract Operations ===\nfunction getMethod(obj, key) {\n    const value = obj[key];\n    if (value == null) {\n        return undefined;\n    }\n    if (typeof value !== \"function\") {\n        throw new TypeError(value + \" is not a function\");\n    }\n    return value;\n}\nfunction getSpecies(obj) {\n    let ctor = obj.constructor;\n    if (ctor !== undefined) {\n        ctor = ctor[SymbolSpecies];\n        if (ctor === null) {\n            ctor = undefined;\n        }\n    }\n    return ctor !== undefined ? ctor : Observable;\n}\nfunction isObservable(x) {\n    return x instanceof Observable; // SPEC: Brand check\n}\nfunction hostReportError(error) {\n    if (hostReportError.log) {\n        hostReportError.log(error);\n    }\n    else {\n        setTimeout(() => { throw error; }, 0);\n    }\n}\nfunction enqueue(fn) {\n    Promise.resolve().then(() => {\n        try {\n            fn();\n        }\n        catch (e) {\n            hostReportError(e);\n        }\n    });\n}\nfunction cleanupSubscription(subscription) {\n    const cleanup = subscription._cleanup;\n    if (cleanup === undefined) {\n        return;\n    }\n    subscription._cleanup = undefined;\n    if (!cleanup) {\n        return;\n    }\n    try {\n        if (typeof cleanup === \"function\") {\n            cleanup();\n        }\n        else {\n            const unsubscribe = getMethod(cleanup, \"unsubscribe\");\n            if (unsubscribe) {\n                unsubscribe.call(cleanup);\n            }\n        }\n    }\n    catch (e) {\n        hostReportError(e);\n    }\n}\nfunction closeSubscription(subscription) {\n    subscription._observer = undefined;\n    subscription._queue = undefined;\n    subscription._state = \"closed\";\n}\nfunction flushSubscription(subscription) {\n    const queue = subscription._queue;\n    if (!queue) {\n        return;\n    }\n    subscription._queue = undefined;\n    subscription._state = \"ready\";\n    for (const item of queue) {\n        notifySubscription(subscription, item.type, item.value);\n        if (subscription._state === \"closed\") {\n            break;\n        }\n    }\n}\nfunction notifySubscription(subscription, type, value) {\n    subscription._state = \"running\";\n    const observer = subscription._observer;\n    try {\n        const m = observer ? getMethod(observer, type) : undefined;\n        switch (type) {\n            case \"next\":\n                if (m)\n                    m.call(observer, value);\n                break;\n            case \"error\":\n                closeSubscription(subscription);\n                if (m)\n                    m.call(observer, value);\n                else\n                    throw value;\n                break;\n            case \"complete\":\n                closeSubscription(subscription);\n                if (m)\n                    m.call(observer);\n                break;\n        }\n    }\n    catch (e) {\n        hostReportError(e);\n    }\n    if (subscription._state === \"closed\") {\n        cleanupSubscription(subscription);\n    }\n    else if (subscription._state === \"running\") {\n        subscription._state = \"ready\";\n    }\n}\nfunction onNotify(subscription, type, value) {\n    if (subscription._state === \"closed\") {\n        return;\n    }\n    if (subscription._state === \"buffering\") {\n        subscription._queue = subscription._queue || [];\n        subscription._queue.push({ type, value });\n        return;\n    }\n    if (subscription._state !== \"ready\") {\n        subscription._state = \"buffering\";\n        subscription._queue = [{ type, value }];\n        enqueue(() => flushSubscription(subscription));\n        return;\n    }\n    notifySubscription(subscription, type, value);\n}\nexport class Subscription {\n    constructor(observer, subscriber) {\n        // ASSERT: observer is an object\n        // ASSERT: subscriber is callable\n        this._cleanup = undefined;\n        this._observer = observer;\n        this._queue = undefined;\n        this._state = \"initializing\";\n        const subscriptionObserver = new SubscriptionObserver(this);\n        try {\n            this._cleanup = subscriber.call(undefined, subscriptionObserver);\n        }\n        catch (e) {\n            subscriptionObserver.error(e);\n        }\n        if (this._state === \"initializing\") {\n            this._state = \"ready\";\n        }\n    }\n    get closed() {\n        return this._state === \"closed\";\n    }\n    unsubscribe() {\n        if (this._state !== \"closed\") {\n            closeSubscription(this);\n            cleanupSubscription(this);\n        }\n    }\n}\nexport class SubscriptionObserver {\n    constructor(subscription) { this._subscription = subscription; }\n    get closed() { return this._subscription._state === \"closed\"; }\n    next(value) { onNotify(this._subscription, \"next\", value); }\n    error(value) { onNotify(this._subscription, \"error\", value); }\n    complete() { onNotify(this._subscription, \"complete\"); }\n}\n/**\n * The basic Observable class. This primitive is used to wrap asynchronous\n * data streams in a common standardized data type that is interoperable\n * between libraries and can be composed to represent more complex processes.\n */\nexport class Observable {\n    constructor(subscriber) {\n        if (!(this instanceof Observable)) {\n            throw new TypeError(\"Observable cannot be called as a function\");\n        }\n        if (typeof subscriber !== \"function\") {\n            throw new TypeError(\"Observable initializer must be a function\");\n        }\n        this._subscriber = subscriber;\n    }\n    subscribe(nextOrObserver, onError, onComplete) {\n        if (typeof nextOrObserver !== \"object\" || nextOrObserver === null) {\n            nextOrObserver = {\n                next: nextOrObserver,\n                error: onError,\n                complete: onComplete\n            };\n        }\n        return new Subscription(nextOrObserver, this._subscriber);\n    }\n    pipe(first, ...mappers) {\n        // tslint:disable-next-line no-this-assignment\n        let intermediate = this;\n        for (const mapper of [first, ...mappers]) {\n            intermediate = mapper(intermediate);\n        }\n        return intermediate;\n    }\n    tap(nextOrObserver, onError, onComplete) {\n        const tapObserver = typeof nextOrObserver !== \"object\" || nextOrObserver === null\n            ? {\n                next: nextOrObserver,\n                error: onError,\n                complete: onComplete\n            }\n            : nextOrObserver;\n        return new Observable(observer => {\n            return this.subscribe({\n                next(value) {\n                    tapObserver.next && tapObserver.next(value);\n                    observer.next(value);\n                },\n                error(error) {\n                    tapObserver.error && tapObserver.error(error);\n                    observer.error(error);\n                },\n                complete() {\n                    tapObserver.complete && tapObserver.complete();\n                    observer.complete();\n                },\n                start(subscription) {\n                    tapObserver.start && tapObserver.start(subscription);\n                }\n            });\n        });\n    }\n    forEach(fn) {\n        return new Promise((resolve, reject) => {\n            if (typeof fn !== \"function\") {\n                reject(new TypeError(fn + \" is not a function\"));\n                return;\n            }\n            function done() {\n                subscription.unsubscribe();\n                resolve();\n            }\n            const subscription = this.subscribe({\n                next(value) {\n                    try {\n                        fn(value, done);\n                    }\n                    catch (e) {\n                        reject(e);\n                        subscription.unsubscribe();\n                    }\n                },\n                error: reject,\n                complete: resolve,\n            });\n        });\n    }\n    map(fn) {\n        if (typeof fn !== \"function\") {\n            throw new TypeError(fn + \" is not a function\");\n        }\n        const C = getSpecies(this);\n        return new C(observer => this.subscribe({\n            next(value) {\n                let propagatedValue = value;\n                try {\n                    propagatedValue = fn(value);\n                }\n                catch (e) {\n                    return observer.error(e);\n                }\n                observer.next(propagatedValue);\n            },\n            error(e) { observer.error(e); },\n            complete() { observer.complete(); },\n        }));\n    }\n    filter(fn) {\n        if (typeof fn !== \"function\") {\n            throw new TypeError(fn + \" is not a function\");\n        }\n        const C = getSpecies(this);\n        return new C(observer => this.subscribe({\n            next(value) {\n                try {\n                    if (!fn(value))\n                        return;\n                }\n                catch (e) {\n                    return observer.error(e);\n                }\n                observer.next(value);\n            },\n            error(e) { observer.error(e); },\n            complete() { observer.complete(); },\n        }));\n    }\n    reduce(fn, seed) {\n        if (typeof fn !== \"function\") {\n            throw new TypeError(fn + \" is not a function\");\n        }\n        const C = getSpecies(this);\n        const hasSeed = arguments.length > 1;\n        let hasValue = false;\n        let acc = seed;\n        return new C(observer => this.subscribe({\n            next(value) {\n                const first = !hasValue;\n                hasValue = true;\n                if (!first || hasSeed) {\n                    try {\n                        acc = fn(acc, value);\n                    }\n                    catch (e) {\n                        return observer.error(e);\n                    }\n                }\n                else {\n                    acc = value;\n                }\n            },\n            error(e) { observer.error(e); },\n            complete() {\n                if (!hasValue && !hasSeed) {\n                    return observer.error(new TypeError(\"Cannot reduce an empty sequence\"));\n                }\n                observer.next(acc);\n                observer.complete();\n            },\n        }));\n    }\n    concat(...sources) {\n        const C = getSpecies(this);\n        return new C(observer => {\n            let subscription;\n            let index = 0;\n            function startNext(next) {\n                subscription = next.subscribe({\n                    next(v) { observer.next(v); },\n                    error(e) { observer.error(e); },\n                    complete() {\n                        if (index === sources.length) {\n                            subscription = undefined;\n                            observer.complete();\n                        }\n                        else {\n                            startNext(C.from(sources[index++]));\n                        }\n                    },\n                });\n            }\n            startNext(this);\n            return () => {\n                if (subscription) {\n                    subscription.unsubscribe();\n                    subscription = undefined;\n                }\n            };\n        });\n    }\n    flatMap(fn) {\n        if (typeof fn !== \"function\") {\n            throw new TypeError(fn + \" is not a function\");\n        }\n        const C = getSpecies(this);\n        return new C(observer => {\n            const subscriptions = [];\n            const outer = this.subscribe({\n                next(value) {\n                    let normalizedValue;\n                    if (fn) {\n                        try {\n                            normalizedValue = fn(value);\n                        }\n                        catch (e) {\n                            return observer.error(e);\n                        }\n                    }\n                    else {\n                        normalizedValue = value;\n                    }\n                    const inner = C.from(normalizedValue).subscribe({\n                        next(innerValue) { observer.next(innerValue); },\n                        error(e) { observer.error(e); },\n                        complete() {\n                            const i = subscriptions.indexOf(inner);\n                            if (i >= 0)\n                                subscriptions.splice(i, 1);\n                            completeIfDone();\n                        },\n                    });\n                    subscriptions.push(inner);\n                },\n                error(e) { observer.error(e); },\n                complete() { completeIfDone(); },\n            });\n            function completeIfDone() {\n                if (outer.closed && subscriptions.length === 0) {\n                    observer.complete();\n                }\n            }\n            return () => {\n                subscriptions.forEach(s => s.unsubscribe());\n                outer.unsubscribe();\n            };\n        });\n    }\n    [SymbolObservable]() { return this; }\n    static from(x) {\n        const C = (typeof this === \"function\" ? this : Observable);\n        if (x == null) {\n            throw new TypeError(x + \" is not an object\");\n        }\n        const observableMethod = getMethod(x, SymbolObservable);\n        if (observableMethod) {\n            const observable = observableMethod.call(x);\n            if (Object(observable) !== observable) {\n                throw new TypeError(observable + \" is not an object\");\n            }\n            if (isObservable(observable) && observable.constructor === C) {\n                return observable;\n            }\n            return new C(observer => observable.subscribe(observer));\n        }\n        if (hasSymbol(\"iterator\")) {\n            const iteratorMethod = getMethod(x, SymbolIterator);\n            if (iteratorMethod) {\n                return new C(observer => {\n                    enqueue(() => {\n                        if (observer.closed)\n                            return;\n                        for (const item of iteratorMethod.call(x)) {\n                            observer.next(item);\n                            if (observer.closed)\n                                return;\n                        }\n                        observer.complete();\n                    });\n                });\n            }\n        }\n        if (Array.isArray(x)) {\n            return new C(observer => {\n                enqueue(() => {\n                    if (observer.closed)\n                        return;\n                    for (const item of x) {\n                        observer.next(item);\n                        if (observer.closed)\n                            return;\n                    }\n                    observer.complete();\n                });\n            });\n        }\n        throw new TypeError(x + \" is not observable\");\n    }\n    static of(...items) {\n        const C = (typeof this === \"function\" ? this : Observable);\n        return new C(observer => {\n            enqueue(() => {\n                if (observer.closed)\n                    return;\n                for (const item of items) {\n                    observer.next(item);\n                    if (observer.closed)\n                        return;\n                }\n                observer.complete();\n            });\n        });\n    }\n    static get [SymbolSpecies]() { return this; }\n}\nif (hasSymbols()) {\n    Object.defineProperty(Observable, Symbol(\"extensions\"), {\n        value: {\n            symbol: SymbolObservable,\n            hostReportError,\n        },\n        configurable: true,\n    });\n}\nexport default Observable;\n","/**\n * Unsubscribe from a subscription returned by something that looks like an observable,\n * but is not necessarily our observable implementation.\n */\nfunction unsubscribe(subscription) {\n    if (typeof subscription === \"function\") {\n        subscription();\n    }\n    else if (subscription && typeof subscription.unsubscribe === \"function\") {\n        subscription.unsubscribe();\n    }\n}\nexport default unsubscribe;\n","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nimport { AsyncSerialScheduler } from \"./_scheduler\";\nimport Observable from \"./observable\";\nimport unsubscribe from \"./unsubscribe\";\n/**\n * Filters the values emitted by another observable.\n * To be applied to an input observable using `pipe()`.\n */\nfunction filter(test) {\n    return (observable) => {\n        return new Observable(observer => {\n            const scheduler = new AsyncSerialScheduler(observer);\n            const subscription = observable.subscribe({\n                complete() {\n                    scheduler.complete();\n                },\n                error(error) {\n                    scheduler.error(error);\n                },\n                next(input) {\n                    scheduler.schedule((next) => __awaiter(this, void 0, void 0, function* () {\n                        if (yield test(input)) {\n                            next(input);\n                        }\n                    }));\n                }\n            });\n            return () => unsubscribe(subscription);\n        });\n    };\n}\nexport default filter;\n","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __asyncValues = (this && this.__asyncValues) || function (o) {\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\n    var m = o[Symbol.asyncIterator], i;\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\n};\nimport { AsyncSerialScheduler } from \"./_scheduler\";\nimport { isAsyncIterator, isIterator } from \"./_util\";\nimport Observable from \"./observable\";\nimport unsubscribe from \"./unsubscribe\";\n/**\n * Maps the values emitted by another observable. In contrast to `map()`\n * the `mapper` function returns an array of values that will be emitted\n * separately.\n * Use `flatMap()` to map input values to zero, one or multiple output\n * values. To be applied to an input observable using `pipe()`.\n */\nfunction flatMap(mapper) {\n    return (observable) => {\n        return new Observable(observer => {\n            const scheduler = new AsyncSerialScheduler(observer);\n            const subscription = observable.subscribe({\n                complete() {\n                    scheduler.complete();\n                },\n                error(error) {\n                    scheduler.error(error);\n                },\n                next(input) {\n                    scheduler.schedule((next) => __awaiter(this, void 0, void 0, function* () {\n                        var e_1, _a;\n                        const mapped = yield mapper(input);\n                        if (isIterator(mapped) || isAsyncIterator(mapped)) {\n                            try {\n                                for (var mapped_1 = __asyncValues(mapped), mapped_1_1; mapped_1_1 = yield mapped_1.next(), !mapped_1_1.done;) {\n                                    const element = mapped_1_1.value;\n                                    next(element);\n                                }\n                            }\n                            catch (e_1_1) { e_1 = { error: e_1_1 }; }\n                            finally {\n                                try {\n                                    if (mapped_1_1 && !mapped_1_1.done && (_a = mapped_1.return)) yield _a.call(mapped_1);\n                                }\n                                finally { if (e_1) throw e_1.error; }\n                            }\n                        }\n                        else {\n                            mapped.map(output => next(output));\n                        }\n                    }));\n                }\n            });\n            return () => unsubscribe(subscription);\n        });\n    };\n}\nexport default flatMap;\n","/// <reference lib=\"es2018\" />\nimport { hasSymbol } from \"./_symbols\";\nexport function isAsyncIterator(thing) {\n    return thing && hasSymbol(\"asyncIterator\") && thing[Symbol.asyncIterator];\n}\nexport function isIterator(thing) {\n    return thing && hasSymbol(\"iterator\") && thing[Symbol.iterator];\n}\n","import { Observable } from \"./observable\";\n/**\n * Creates an observable that yields a new value every `period` milliseconds.\n * The first value emitted is 0, then 1, 2, etc. The first value is not emitted\n * immediately, but after the first interval.\n */\nexport default function interval(period) {\n    return new Observable(observer => {\n        let counter = 0;\n        const handle = setInterval(() => {\n            observer.next(counter++);\n        }, period);\n        return () => clearInterval(handle);\n    });\n}\n","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nimport { AsyncSerialScheduler } from \"./_scheduler\";\nimport Observable from \"./observable\";\nimport unsubscribe from \"./unsubscribe\";\n/**\n * Maps the values emitted by another observable to different values.\n * To be applied to an input observable using `pipe()`.\n */\nfunction map(mapper) {\n    return (observable) => {\n        return new Observable(observer => {\n            const scheduler = new AsyncSerialScheduler(observer);\n            const subscription = observable.subscribe({\n                complete() {\n                    scheduler.complete();\n                },\n                error(error) {\n                    scheduler.error(error);\n                },\n                next(input) {\n                    scheduler.schedule((next) => __awaiter(this, void 0, void 0, function* () {\n                        const mapped = yield mapper(input);\n                        next(mapped);\n                    }));\n                }\n            });\n            return () => unsubscribe(subscription);\n        });\n    };\n}\nexport default map;\n","import { Observable } from \"./observable\";\nimport unsubscribe from \"./unsubscribe\";\nfunction merge(...observables) {\n    if (observables.length === 0) {\n        return Observable.from([]);\n    }\n    return new Observable(observer => {\n        let completed = 0;\n        const subscriptions = observables.map(input => {\n            return input.subscribe({\n                error(error) {\n                    observer.error(error);\n                    unsubscribeAll();\n                },\n                next(value) {\n                    observer.next(value);\n                },\n                complete() {\n                    if (++completed === observables.length) {\n                        observer.complete();\n                        unsubscribeAll();\n                    }\n                }\n            });\n        });\n        const unsubscribeAll = () => {\n            subscriptions.forEach(subscription => unsubscribe(subscription));\n        };\n        return unsubscribeAll;\n    });\n}\nexport default merge;\n","import Observable from \"./observable\";\n// TODO: This observer iteration approach looks inelegant and expensive\n// Idea: Come up with super class for Subscription that contains the\n//       notify*, ... methods and use it here\n/**\n * A subject is a \"hot\" observable (see `multicast`) that has its observer\n * methods (`.next(value)`, `.error(error)`, `.complete()`) exposed.\n *\n * Be careful, though! With great power comes great responsibility. Only use\n * the `Subject` when you really need to trigger updates \"from the outside\" and\n * try to keep the code that can access it to a minimum. Return\n * `Observable.from(mySubject)` to not allow other code to mutate.\n */\nclass MulticastSubject extends Observable {\n    constructor() {\n        super(observer => {\n            this._observers.add(observer);\n            return () => this._observers.delete(observer);\n        });\n        this._observers = new Set();\n    }\n    next(value) {\n        for (const observer of this._observers) {\n            observer.next(value);\n        }\n    }\n    error(error) {\n        for (const observer of this._observers) {\n            observer.error(error);\n        }\n    }\n    complete() {\n        for (const observer of this._observers) {\n            observer.complete();\n        }\n    }\n}\nexport default MulticastSubject;\n","import Observable from \"./observable\";\nimport Subject from \"./subject\";\nimport unsubscribe from \"./unsubscribe\";\n// TODO: Subject already creates additional observables \"under the hood\",\n//       now we introduce even more. A true native MulticastObservable\n//       would be preferable.\n/**\n * Takes a \"cold\" observable and returns a wrapping \"hot\" observable that\n * proxies the input observable's values and errors.\n *\n * An observable is called \"cold\" when its initialization function is run\n * for each new subscriber. This is how observable-fns's `Observable`\n * implementation works.\n *\n * A hot observable is an observable where new subscribers subscribe to\n * the upcoming values of an already-initialiazed observable.\n *\n * The multicast observable will lazily subscribe to the source observable\n * once it has its first own subscriber and will unsubscribe from the\n * source observable when its last own subscriber unsubscribed.\n */\nfunction multicast(coldObservable) {\n    const subject = new Subject();\n    let sourceSubscription;\n    let subscriberCount = 0;\n    return new Observable(observer => {\n        // Init source subscription lazily\n        if (!sourceSubscription) {\n            sourceSubscription = coldObservable.subscribe(subject);\n        }\n        // Pipe all events from `subject` into this observable\n        const subscription = subject.subscribe(observer);\n        subscriberCount++;\n        return () => {\n            subscriberCount--;\n            subscription.unsubscribe();\n            // Close source subscription once last subscriber has unsubscribed\n            if (subscriberCount === 0) {\n                unsubscribe(sourceSubscription);\n                sourceSubscription = undefined;\n            }\n        };\n    });\n}\nexport default multicast;\n","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nimport { AsyncSerialScheduler } from \"./_scheduler\";\nimport Observable from \"./observable\";\nimport unsubscribe from \"./unsubscribe\";\nfunction scan(accumulator, seed) {\n    return (observable) => {\n        return new Observable(observer => {\n            let accumulated;\n            let index = 0;\n            const scheduler = new AsyncSerialScheduler(observer);\n            const subscription = observable.subscribe({\n                complete() {\n                    scheduler.complete();\n                },\n                error(error) {\n                    scheduler.error(error);\n                },\n                next(value) {\n                    scheduler.schedule((next) => __awaiter(this, void 0, void 0, function* () {\n                        const prevAcc = index === 0\n                            ? (typeof seed === \"undefined\" ? value : seed)\n                            : accumulated;\n                        accumulated = yield accumulator(prevAcc, value, index++);\n                        next(accumulated);\n                    }));\n                }\n            });\n            return () => unsubscribe(subscription);\n        });\n    };\n}\nexport default scan;\n","export { default as filter } from \"./filter\";\nexport { default as flatMap } from \"./flatMap\";\nexport { default as interval } from \"./interval\";\nexport { default as map } from \"./map\";\nexport { default as merge } from \"./merge\";\nexport { default as multicast } from \"./multicast\";\nexport { default as Observable } from \"./observable\";\nexport { default as scan } from \"./scan\";\nexport { default as Subject } from \"./subject\";\nexport { default as unsubscribe } from \"./unsubscribe\";\n","\"use strict\";\n// tslint:disable max-classes-per-file\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst get_bundle_url_browser_1 = require(\"./get-bundle-url.browser\");\nconst defaultPoolSize = navigator.hardwareConcurrency || 4;\nconst isAbsoluteURL = (value) => /^(file|https?:)?\\/\\//i.test(value);\nfunction createSourceBlobURL(code) {\n    const blob = new Blob([code], { type: \"application/javascript\" });\n    return URL.createObjectURL(blob);\n}\nfunction selectWorkerImplementation() {\n    if (typeof Worker === \"undefined\") {\n        // Might happen on Safari, for instance\n        // The idea is to only fail if the constructor is actually used\n        return class NoWebWorker {\n            constructor() {\n                throw Error(\"No web worker implementation available. You might have tried to spawn a worker within a worker in a browser that doesn't support workers in workers.\");\n            }\n        };\n    }\n    return class WebWorker extends Worker {\n        constructor(url, options) {\n            if (typeof url === \"string\" && options && options._baseURL) {\n                url = new URL(url, options._baseURL);\n            }\n            else if (typeof url === \"string\" && !isAbsoluteURL(url) && get_bundle_url_browser_1.getBundleURL().match(/^file:\\/\\//i)) {\n                url = new URL(url, get_bundle_url_browser_1.getBundleURL().replace(/\\/[^\\/]+$/, \"/\"));\n                url = createSourceBlobURL(`importScripts(${JSON.stringify(url)});`);\n            }\n            if (typeof url === \"string\" && isAbsoluteURL(url)) {\n                // Create source code blob loading JS file via `importScripts()`\n                // to circumvent worker CORS restrictions\n                url = createSourceBlobURL(`importScripts(${JSON.stringify(url)});`);\n            }\n            super(url, options);\n        }\n    };\n}\nexports.default = {\n    defaultPoolSize,\n    selectWorkerImplementation\n};\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst observable_fns_1 = require(\"observable-fns\");\nconst doNothing = () => undefined;\nconst returnInput = (input) => input;\nconst runDeferred = (fn) => Promise.resolve().then(fn);\nfunction fail(error) {\n    throw error;\n}\n/**\n * Creates a hybrid, combining the APIs of an Observable and a Promise.\n *\n * It is used to proxy async process states when we are initially not sure\n * if that async process will yield values once (-> Promise) or multiple\n * times (-> Observable).\n *\n * Note that the observable promise inherits some of zen-observable's characteristics:\n * The `init` function will be called *once for every time anyone subscribes to it*.\n *\n * If this is undesired, derive a hot observable from it using `makeHot()` and\n * subscribe to that.\n */\nfunction ObservablePromise(init) {\n    let initHasRun = false;\n    const fulfillmentCallbacks = [];\n    const rejectionCallbacks = [];\n    let firstValue;\n    let firstValueSet = false;\n    let rejection;\n    let state = \"pending\";\n    const onNext = (value) => {\n        if (!firstValueSet) {\n            firstValue = value;\n            firstValueSet = true;\n        }\n    };\n    const onError = (error) => {\n        state = \"rejected\";\n        rejection = error;\n        for (const onRejected of rejectionCallbacks) {\n            // Promisifying the call to turn errors into unhandled promise rejections\n            // instead of them failing sync and cancelling the iteration\n            runDeferred(() => onRejected(error));\n        }\n    };\n    const onCompletion = () => {\n        state = \"fulfilled\";\n        for (const onFulfilled of fulfillmentCallbacks) {\n            // Promisifying the call to turn errors into unhandled promise rejections\n            // instead of them failing sync and cancelling the iteration\n            runDeferred(() => onFulfilled(firstValue));\n        }\n    };\n    const observable = new observable_fns_1.Observable(originalObserver => {\n        const observer = Object.assign(Object.assign({}, originalObserver), { complete() {\n                originalObserver.complete();\n                onCompletion();\n            },\n            error(error) {\n                originalObserver.error(error);\n                onError(error);\n            },\n            next(value) {\n                originalObserver.next(value);\n                onNext(value);\n            } });\n        const resolve = (value) => {\n            if (value !== undefined) {\n                observer.next(value);\n            }\n            observer.complete();\n        };\n        const reject = observer.error.bind(observer);\n        try {\n            initHasRun = true;\n            return init(resolve, reject, observer);\n        }\n        catch (error) {\n            reject(error);\n        }\n    });\n    function then(onFulfilledRaw, onRejectedRaw) {\n        const onFulfilled = onFulfilledRaw || returnInput;\n        const onRejected = onRejectedRaw || fail;\n        let onRejectedCalled = false;\n        return new Promise((resolve, reject) => {\n            const rejectionCallback = (error) => {\n                if (onRejectedCalled)\n                    return;\n                onRejectedCalled = true;\n                try {\n                    resolve(onRejected(error));\n                }\n                catch (anotherError) {\n                    reject(anotherError);\n                }\n            };\n            const fulfillmentCallback = (value) => {\n                try {\n                    resolve(onFulfilled(value));\n                }\n                catch (error) {\n                    rejectionCallback(error);\n                }\n            };\n            if (!initHasRun) {\n                observable.subscribe({ error: rejectionCallback });\n            }\n            if (state === \"fulfilled\") {\n                return resolve(onFulfilled(firstValue));\n            }\n            if (state === \"rejected\") {\n                onRejectedCalled = true;\n                return resolve(onRejected(rejection));\n            }\n            fulfillmentCallbacks.push(fulfillmentCallback);\n            rejectionCallbacks.push(rejectionCallback);\n        });\n    }\n    const catchFn = (onRejected) => {\n        return then(undefined, onRejected);\n    };\n    const finallyFn = (onCompleted) => {\n        onCompleted = onCompleted || doNothing;\n        return then((value) => {\n            onCompleted();\n            return value;\n        }, () => onCompleted());\n    };\n    // tslint:disable-next-line prefer-object-spread\n    return Object.assign(observable, {\n        [Symbol.toStringTag]: \"[object ObservablePromise]\",\n        then: then,\n        catch: catchFn,\n        finally: finallyFn\n    });\n}\nexports.ObservablePromise = ObservablePromise;\n/**\n * Turns a cold observable into a hot observable.\n *\n * Returns a new observable promise that does exactly the same, but acts as a subscription aggregator,\n * so that N subscriptions to it only result in one subscription to the input observable promise.\n *\n * That one subscription on the input observable promise is setup immediately.\n */\nfunction makeHot(async) {\n    let observers = [];\n    async.subscribe({\n        complete() {\n            observers.forEach(observer => observer.complete());\n        },\n        error(error) {\n            observers.forEach(observer => observer.error(error));\n        },\n        next(value) {\n            observers.forEach(observer => observer.next(value));\n        }\n    });\n    const aggregator = ObservablePromise((resolve, reject, observer) => {\n        observers.push(observer);\n        const unsubscribe = () => {\n            observers = observers.filter(someObserver => someObserver !== observer);\n        };\n        return unsubscribe;\n    });\n    return aggregator;\n}\nexports.makeHot = makeHot;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst symbols_1 = require(\"../symbols\");\nfunction fail(message) {\n    throw Error(message);\n}\n/** Thread utility functions. Use them to manage or inspect a `spawn()`-ed thread. */\nexports.Thread = {\n    /** Return an observable that can be used to subscribe to all errors happening in the thread. */\n    errors(thread) {\n        return thread[symbols_1.$errors] || fail(\"Error observable not found. Make sure to pass a thread instance as returned by the spawn() promise.\");\n    },\n    /** Return an observable that can be used to subscribe to internal events happening in the thread. Useful for debugging. */\n    events(thread) {\n        return thread[symbols_1.$events] || fail(\"Events observable not found. Make sure to pass a thread instance as returned by the spawn() promise.\");\n    },\n    /** Terminate a thread. Remember to terminate every thread when you are done using it. */\n    terminate(thread) {\n        return thread[symbols_1.$terminate]();\n    }\n};\n","\"use strict\";\n/////////////////////////////\n// Messages sent by master:\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar MasterMessageType;\n(function (MasterMessageType) {\n    MasterMessageType[\"run\"] = \"run\";\n})(MasterMessageType = exports.MasterMessageType || (exports.MasterMessageType = {}));\n////////////////////////////\n// Messages sent by worker:\nvar WorkerMessageType;\n(function (WorkerMessageType) {\n    WorkerMessageType[\"error\"] = \"error\";\n    WorkerMessageType[\"init\"] = \"init\";\n    WorkerMessageType[\"result\"] = \"result\";\n    WorkerMessageType[\"running\"] = \"running\";\n    WorkerMessageType[\"uncaughtError\"] = \"uncaughtError\";\n})(WorkerMessageType = exports.WorkerMessageType || (exports.WorkerMessageType = {}));\n","/** PURE_IMPORTS_START  PURE_IMPORTS_END */\nvar ObjectUnsubscribedErrorImpl = /*@__PURE__*/ (function () {\n    function ObjectUnsubscribedErrorImpl() {\n        Error.call(this);\n        this.message = 'object unsubscribed';\n        this.name = 'ObjectUnsubscribedError';\n        return this;\n    }\n    ObjectUnsubscribedErrorImpl.prototype = /*@__PURE__*/ Object.create(Error.prototype);\n    return ObjectUnsubscribedErrorImpl;\n})();\nexport var ObjectUnsubscribedError = ObjectUnsubscribedErrorImpl;\n//# sourceMappingURL=ObjectUnsubscribedError.js.map\n","/** PURE_IMPORTS_START _config,_util_hostReportError PURE_IMPORTS_END */\nimport { config } from './config';\nimport { hostReportError } from './util/hostReportError';\nexport var empty = {\n    closed: true,\n    next: function (value) { },\n    error: function (err) {\n        if (config.useDeprecatedSynchronousErrorHandling) {\n            throw err;\n        }\n        else {\n            hostReportError(err);\n        }\n    },\n    complete: function () { }\n};\n//# sourceMappingURL=Observer.js.map\n","/** PURE_IMPORTS_START  PURE_IMPORTS_END */\nexport function isFunction(x) {\n    return typeof x === 'function';\n}\n//# sourceMappingURL=isFunction.js.map\n","/** PURE_IMPORTS_START  PURE_IMPORTS_END */\nexport function isObject(x) {\n    return x !== null && typeof x === 'object';\n}\n//# sourceMappingURL=isObject.js.map\n","\"use strict\";\nfunction __export(m) {\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\n}\nObject.defineProperty(exports, \"__esModule\", { value: true });\n__export(require(\"./master/index\"));\nvar index_1 = require(\"./worker/index\");\nexports.expose = index_1.expose;\nvar transferable_1 = require(\"./transferable\");\nexports.Transfer = transferable_1.Transfer;\n","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst implementation_1 = __importDefault(require(\"./implementation\"));\nvar pool_1 = require(\"./pool\");\nexports.Pool = pool_1.Pool;\nvar spawn_1 = require(\"./spawn\");\nexports.spawn = spawn_1.spawn;\nvar thread_1 = require(\"./thread\");\nexports.Thread = thread_1.Thread;\n/** Worker implementation. Either web worker or a node.js Worker class. */\nexports.Worker = implementation_1.default.selectWorkerImplementation();\n","\"use strict\";\n// Source: <https://github.com/parcel-bundler/parcel/blob/master/packages/core/parcel-bundler/src/builtins/bundle-url.js>\nObject.defineProperty(exports, \"__esModule\", { value: true });\nlet bundleURL;\nfunction getBundleURLCached() {\n    if (!bundleURL) {\n        bundleURL = getBundleURL();\n    }\n    return bundleURL;\n}\nexports.getBundleURL = getBundleURLCached;\nfunction getBundleURL() {\n    // Attempt to find the URL of the current script and use that as the base URL\n    try {\n        throw new Error;\n    }\n    catch (err) {\n        const matches = (\"\" + err.stack).match(/(https?|file|ftp|chrome-extension|moz-extension):\\/\\/[^)\\n]+/g);\n        if (matches) {\n            return getBaseURL(matches[0]);\n        }\n    }\n    return \"/\";\n}\nfunction getBaseURL(url) {\n    return (\"\" + url).replace(/^((?:https?|file|ftp|chrome-extension|moz-extension):\\/\\/.+)?\\/[^/]+(?:\\?.*)?$/, '$1') + '/';\n}\nexports.getBaseURL = getBaseURL;\n","\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst debug_1 = __importDefault(require(\"debug\"));\nconst observable_fns_1 = require(\"observable-fns\");\nconst observable_promise_1 = require(\"../observable-promise\");\nconst implementation_1 = __importDefault(require(\"./implementation\"));\nconst thread_1 = require(\"./thread\");\nexports.Thread = thread_1.Thread;\nlet nextPoolID = 1;\nconst hasSymbols = () => typeof Symbol === 'function';\nconst hasSymbol = (name) => hasSymbols() && Boolean(Symbol[name]);\nfunction flatMap(array, mapper) {\n    return array.reduce((flattened, element) => [...flattened, ...mapper(element)], []);\n}\nfunction sleep(ms) {\n    return new Promise(resolve => setTimeout(resolve, ms));\n}\nfunction slugify(text) {\n    return text.replace(/\\W/g, \" \").trim().replace(/\\s+/g, \"-\");\n}\n/** Pool event type. Specifies the type of each `PoolEvent`. */\nvar PoolEventType;\n(function (PoolEventType) {\n    PoolEventType[\"initialized\"] = \"initialized\";\n    PoolEventType[\"taskCanceled\"] = \"taskCanceled\";\n    PoolEventType[\"taskCompleted\"] = \"taskCompleted\";\n    PoolEventType[\"taskFailed\"] = \"taskFailed\";\n    PoolEventType[\"taskQueued\"] = \"taskQueued\";\n    PoolEventType[\"taskQueueDrained\"] = \"taskQueueDrained\";\n    PoolEventType[\"taskStart\"] = \"taskStart\";\n    PoolEventType[\"terminated\"] = \"terminated\";\n})(PoolEventType = exports.PoolEventType || (exports.PoolEventType = {}));\nfunction createArray(size) {\n    const array = [];\n    for (let index = 0; index < size; index++) {\n        array.push(index);\n    }\n    return array;\n}\nfunction findIdlingWorker(workers, maxConcurrency) {\n    return workers.find(worker => worker.runningTasks.length < maxConcurrency);\n}\nfunction runPoolTask(task, availableWorker, workerID, eventSubject, debug) {\n    return __awaiter(this, void 0, void 0, function* () {\n        debug(`Running task #${task.id} on worker #${workerID}...`);\n        eventSubject.next({\n            type: PoolEventType.taskStart,\n            taskID: task.id,\n            workerID\n        });\n        try {\n            const returnValue = yield task.run(yield availableWorker.init);\n            debug(`Task #${task.id} completed successfully`);\n            eventSubject.next({\n                type: PoolEventType.taskCompleted,\n                returnValue,\n                taskID: task.id,\n                workerID\n            });\n        }\n        catch (error) {\n            debug(`Task #${task.id} failed`);\n            eventSubject.next({\n                type: PoolEventType.taskFailed,\n                taskID: task.id,\n                error,\n                workerID\n            });\n        }\n    });\n}\nfunction spawnWorkers(spawnWorker, count) {\n    return createArray(count).map(() => ({\n        init: spawnWorker(),\n        runningTasks: []\n    }));\n}\nfunction PoolConstructor(spawnWorker, optionsOrSize) {\n    const options = typeof optionsOrSize === \"number\"\n        ? { size: optionsOrSize }\n        : optionsOrSize || {};\n    const debug = debug_1.default(`threads:pool:${slugify(options.name || String(nextPoolID++))}`);\n    const { concurrency = 1, size = implementation_1.default.defaultPoolSize } = options;\n    let isClosing = false;\n    let nextTaskID = 1;\n    let taskQueue = [];\n    const initErrors = [];\n    const workers = spawnWorkers(spawnWorker, size);\n    let eventSubject;\n    const eventObservable = observable_promise_1.makeHot(new observable_fns_1.Observable(subscriber => {\n        eventSubject = subscriber;\n    }));\n    Promise.all(workers.map(worker => worker.init)).then(() => eventSubject.next({\n        type: PoolEventType.initialized,\n        size: workers.length\n    }), error => {\n        debug(\"Error while initializing pool worker:\", error);\n        eventSubject.error(error);\n        initErrors.push(error);\n    });\n    const scheduleWork = () => {\n        debug(`Attempt de-queueing a task in order to run it...`);\n        const availableWorker = findIdlingWorker(workers, concurrency);\n        if (!availableWorker)\n            return;\n        const nextTask = taskQueue.shift();\n        if (!nextTask) {\n            debug(`Task queue is empty`);\n            eventSubject.next({ type: PoolEventType.taskQueueDrained });\n            return;\n        }\n        const workerID = workers.indexOf(availableWorker) + 1;\n        const run = (worker, task) => __awaiter(this, void 0, void 0, function* () {\n            const removeTaskFromWorkersRunningTasks = () => {\n                worker.runningTasks = worker.runningTasks.filter(someRunPromise => someRunPromise !== runPromise);\n            };\n            // Defer task execution by one tick to give handlers time to subscribe\n            yield sleep(0);\n            try {\n                yield runPoolTask(task, availableWorker, workerID, eventSubject, debug);\n            }\n            finally {\n                removeTaskFromWorkersRunningTasks();\n                if (!isClosing) {\n                    scheduleWork();\n                }\n            }\n        });\n        const runPromise = run(availableWorker, nextTask);\n        availableWorker.runningTasks.push(runPromise);\n    };\n    const pool = {\n        completed(allowResolvingImmediately = false) {\n            return __awaiter(this, void 0, void 0, function* () {\n                const getCurrentlyRunningTasks = () => flatMap(workers, worker => worker.runningTasks);\n                if (initErrors.length > 0) {\n                    return Promise.reject(initErrors[0]);\n                }\n                if (allowResolvingImmediately && taskQueue.length === 0) {\n                    return Promise.all(getCurrentlyRunningTasks());\n                }\n                const poolEventPromise = new Promise((resolve, reject) => {\n                    const subscription = eventObservable.subscribe(event => {\n                        if (event.type === PoolEventType.taskQueueDrained) {\n                            subscription.unsubscribe();\n                            resolve();\n                        }\n                        else if (event.type === PoolEventType.taskFailed) {\n                            subscription.unsubscribe();\n                            reject(event.error);\n                        }\n                    });\n                });\n                yield Promise.race([\n                    poolEventPromise,\n                    eventObservable // make a pool-wide error reject the completed() result promise\n                ]);\n                yield Promise.all(getCurrentlyRunningTasks());\n            });\n        },\n        events() {\n            return eventObservable;\n        },\n        queue(taskFunction) {\n            if (isClosing) {\n                throw Error(`Cannot schedule pool tasks after terminate() has been called.`);\n            }\n            if (initErrors.length > 0) {\n                throw initErrors[0];\n            }\n            let resultPromiseThen;\n            const createResultPromise = () => new Promise((resolve, reject) => {\n                const eventSubscription = pool.events().subscribe(event => {\n                    if (event.type === PoolEventType.taskCompleted && event.taskID === task.id) {\n                        eventSubscription.unsubscribe();\n                        resolve(event.returnValue);\n                    }\n                    else if (event.type === PoolEventType.taskFailed && event.taskID === task.id) {\n                        eventSubscription.unsubscribe();\n                        reject(event.error);\n                    }\n                    else if (event.type === PoolEventType.terminated) {\n                        eventSubscription.unsubscribe();\n                        reject(Error(\"Pool has been terminated before task was run.\"));\n                    }\n                });\n            });\n            const task = {\n                id: nextTaskID++,\n                run: taskFunction,\n                cancel() {\n                    if (taskQueue.indexOf(task) === -1)\n                        return;\n                    taskQueue = taskQueue.filter(someTask => someTask !== task);\n                    eventSubject.next({\n                        type: PoolEventType.taskCanceled,\n                        taskID: task.id\n                    });\n                },\n                get then() {\n                    if (!resultPromiseThen) {\n                        const resultPromise = createResultPromise();\n                        resultPromiseThen = resultPromise.then.bind(resultPromise);\n                    }\n                    return resultPromiseThen;\n                }\n            };\n            debug(`Queueing task #${task.id}...`);\n            taskQueue.push(task);\n            eventSubject.next({\n                type: PoolEventType.taskQueued,\n                taskID: task.id\n            });\n            scheduleWork();\n            return task;\n        },\n        terminate(force) {\n            return __awaiter(this, void 0, void 0, function* () {\n                isClosing = true;\n                if (!force) {\n                    yield pool.completed(true);\n                }\n                eventSubject.next({\n                    type: PoolEventType.terminated,\n                    remainingQueue: [...taskQueue]\n                });\n                eventSubject.complete();\n                yield Promise.all(workers.map((worker) => __awaiter(this, void 0, void 0, function* () { return thread_1.Thread.terminate(yield worker.init); })));\n            });\n        }\n    };\n    if (hasSymbols() && hasSymbol(\"toStringTag\")) {\n        pool[Symbol.toStringTag] = () => `[object Pool]`;\n    }\n    return pool;\n}\nPoolConstructor.EventType = PoolEventType;\n/**\n * Thread pool constructor. Creates a new pool and spawns its worker threads.\n */\nexports.Pool = PoolConstructor;\n","\n/**\n * This is the common logic for both the Node.js and web browser\n * implementations of `debug()`.\n */\n\nfunction setup(env) {\n\tcreateDebug.debug = createDebug;\n\tcreateDebug.default = createDebug;\n\tcreateDebug.coerce = coerce;\n\tcreateDebug.disable = disable;\n\tcreateDebug.enable = enable;\n\tcreateDebug.enabled = enabled;\n\tcreateDebug.humanize = require('ms');\n\n\tObject.keys(env).forEach(key => {\n\t\tcreateDebug[key] = env[key];\n\t});\n\n\t/**\n\t* Active `debug` instances.\n\t*/\n\tcreateDebug.instances = [];\n\n\t/**\n\t* The currently active debug mode names, and names to skip.\n\t*/\n\n\tcreateDebug.names = [];\n\tcreateDebug.skips = [];\n\n\t/**\n\t* Map of special \"%n\" handling functions, for the debug \"format\" argument.\n\t*\n\t* Valid key names are a single, lower or upper-case letter, i.e. \"n\" and \"N\".\n\t*/\n\tcreateDebug.formatters = {};\n\n\t/**\n\t* Selects a color for a debug namespace\n\t* @param {String} namespace The namespace string for the for the debug instance to be colored\n\t* @return {Number|String} An ANSI color code for the given namespace\n\t* @api private\n\t*/\n\tfunction selectColor(namespace) {\n\t\tlet hash = 0;\n\n\t\tfor (let i = 0; i < namespace.length; i++) {\n\t\t\thash = ((hash << 5) - hash) + namespace.charCodeAt(i);\n\t\t\thash |= 0; // Convert to 32bit integer\n\t\t}\n\n\t\treturn createDebug.colors[Math.abs(hash) % createDebug.colors.length];\n\t}\n\tcreateDebug.selectColor = selectColor;\n\n\t/**\n\t* Create a debugger with the given `namespace`.\n\t*\n\t* @param {String} namespace\n\t* @return {Function}\n\t* @api public\n\t*/\n\tfunction createDebug(namespace) {\n\t\tlet prevTime;\n\n\t\tfunction debug(...args) {\n\t\t\t// Disabled?\n\t\t\tif (!debug.enabled) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst self = debug;\n\n\t\t\t// Set `diff` timestamp\n\t\t\tconst curr = Number(new Date());\n\t\t\tconst ms = curr - (prevTime || curr);\n\t\t\tself.diff = ms;\n\t\t\tself.prev = prevTime;\n\t\t\tself.curr = curr;\n\t\t\tprevTime = curr;\n\n\t\t\targs[0] = createDebug.coerce(args[0]);\n\n\t\t\tif (typeof args[0] !== 'string') {\n\t\t\t\t// Anything else let's inspect with %O\n\t\t\t\targs.unshift('%O');\n\t\t\t}\n\n\t\t\t// Apply any `formatters` transformations\n\t\t\tlet index = 0;\n\t\t\targs[0] = args[0].replace(/%([a-zA-Z%])/g, (match, format) => {\n\t\t\t\t// If we encounter an escaped % then don't increase the array index\n\t\t\t\tif (match === '%%') {\n\t\t\t\t\treturn match;\n\t\t\t\t}\n\t\t\t\tindex++;\n\t\t\t\tconst formatter = createDebug.formatters[format];\n\t\t\t\tif (typeof formatter === 'function') {\n\t\t\t\t\tconst val = args[index];\n\t\t\t\t\tmatch = formatter.call(self, val);\n\n\t\t\t\t\t// Now we need to remove `args[index]` since it's inlined in the `format`\n\t\t\t\t\targs.splice(index, 1);\n\t\t\t\t\tindex--;\n\t\t\t\t}\n\t\t\t\treturn match;\n\t\t\t});\n\n\t\t\t// Apply env-specific formatting (colors, etc.)\n\t\t\tcreateDebug.formatArgs.call(self, args);\n\n\t\t\tconst logFn = self.log || createDebug.log;\n\t\t\tlogFn.apply(self, args);\n\t\t}\n\n\t\tdebug.namespace = namespace;\n\t\tdebug.enabled = createDebug.enabled(namespace);\n\t\tdebug.useColors = createDebug.useColors();\n\t\tdebug.color = selectColor(namespace);\n\t\tdebug.destroy = destroy;\n\t\tdebug.extend = extend;\n\t\t// Debug.formatArgs = formatArgs;\n\t\t// debug.rawLog = rawLog;\n\n\t\t// env-specific initialization logic for debug instances\n\t\tif (typeof createDebug.init === 'function') {\n\t\t\tcreateDebug.init(debug);\n\t\t}\n\n\t\tcreateDebug.instances.push(debug);\n\n\t\treturn debug;\n\t}\n\n\tfunction destroy() {\n\t\tconst index = createDebug.instances.indexOf(this);\n\t\tif (index !== -1) {\n\t\t\tcreateDebug.instances.splice(index, 1);\n\t\t\treturn true;\n\t\t}\n\t\treturn false;\n\t}\n\n\tfunction extend(namespace, delimiter) {\n\t\tconst newDebug = createDebug(this.namespace + (typeof delimiter === 'undefined' ? ':' : delimiter) + namespace);\n\t\tnewDebug.log = this.log;\n\t\treturn newDebug;\n\t}\n\n\t/**\n\t* Enables a debug mode by namespaces. This can include modes\n\t* separated by a colon and wildcards.\n\t*\n\t* @param {String} namespaces\n\t* @api public\n\t*/\n\tfunction enable(namespaces) {\n\t\tcreateDebug.save(namespaces);\n\n\t\tcreateDebug.names = [];\n\t\tcreateDebug.skips = [];\n\n\t\tlet i;\n\t\tconst split = (typeof namespaces === 'string' ? namespaces : '').split(/[\\s,]+/);\n\t\tconst len = split.length;\n\n\t\tfor (i = 0; i < len; i++) {\n\t\t\tif (!split[i]) {\n\t\t\t\t// ignore empty strings\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tnamespaces = split[i].replace(/\\*/g, '.*?');\n\n\t\t\tif (namespaces[0] === '-') {\n\t\t\t\tcreateDebug.skips.push(new RegExp('^' + namespaces.substr(1) + '$'));\n\t\t\t} else {\n\t\t\t\tcreateDebug.names.push(new RegExp('^' + namespaces + '$'));\n\t\t\t}\n\t\t}\n\n\t\tfor (i = 0; i < createDebug.instances.length; i++) {\n\t\t\tconst instance = createDebug.instances[i];\n\t\t\tinstance.enabled = createDebug.enabled(instance.namespace);\n\t\t}\n\t}\n\n\t/**\n\t* Disable debug output.\n\t*\n\t* @return {String} namespaces\n\t* @api public\n\t*/\n\tfunction disable() {\n\t\tconst namespaces = [\n\t\t\t...createDebug.names.map(toNamespace),\n\t\t\t...createDebug.skips.map(toNamespace).map(namespace => '-' + namespace)\n\t\t].join(',');\n\t\tcreateDebug.enable('');\n\t\treturn namespaces;\n\t}\n\n\t/**\n\t* Returns true if the given mode name is enabled, false otherwise.\n\t*\n\t* @param {String} name\n\t* @return {Boolean}\n\t* @api public\n\t*/\n\tfunction enabled(name) {\n\t\tif (name[name.length - 1] === '*') {\n\t\t\treturn true;\n\t\t}\n\n\t\tlet i;\n\t\tlet len;\n\n\t\tfor (i = 0, len = createDebug.skips.length; i < len; i++) {\n\t\t\tif (createDebug.skips[i].test(name)) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\n\t\tfor (i = 0, len = createDebug.names.length; i < len; i++) {\n\t\t\tif (createDebug.names[i].test(name)) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\n\t\treturn false;\n\t}\n\n\t/**\n\t* Convert regexp to namespace\n\t*\n\t* @param {RegExp} regxep\n\t* @return {String} namespace\n\t* @api private\n\t*/\n\tfunction toNamespace(regexp) {\n\t\treturn regexp.toString()\n\t\t\t.substring(2, regexp.toString().length - 2)\n\t\t\t.replace(/\\.\\*\\?$/, '*');\n\t}\n\n\t/**\n\t* Coerce `val`.\n\t*\n\t* @param {Mixed} val\n\t* @return {Mixed}\n\t* @api private\n\t*/\n\tfunction coerce(val) {\n\t\tif (val instanceof Error) {\n\t\t\treturn val.stack || val.message;\n\t\t}\n\t\treturn val;\n\t}\n\n\tcreateDebug.enable(createDebug.load());\n\n\treturn createDebug;\n}\n\nmodule.exports = setup;\n","/**\n * Helpers.\n */\n\nvar s = 1000;\nvar m = s * 60;\nvar h = m * 60;\nvar d = h * 24;\nvar w = d * 7;\nvar y = d * 365.25;\n\n/**\n * Parse or format the given `val`.\n *\n * Options:\n *\n *  - `long` verbose formatting [false]\n *\n * @param {String|Number} val\n * @param {Object} [options]\n * @throws {Error} throw an error if val is not a non-empty string or a number\n * @return {String|Number}\n * @api public\n */\n\nmodule.exports = function(val, options) {\n  options = options || {};\n  var type = typeof val;\n  if (type === 'string' && val.length > 0) {\n    return parse(val);\n  } else if (type === 'number' && isFinite(val)) {\n    return options.long ? fmtLong(val) : fmtShort(val);\n  }\n  throw new Error(\n    'val is not a non-empty string or a valid number. val=' +\n      JSON.stringify(val)\n  );\n};\n\n/**\n * Parse the given `str` and return milliseconds.\n *\n * @param {String} str\n * @return {Number}\n * @api private\n */\n\nfunction parse(str) {\n  str = String(str);\n  if (str.length > 100) {\n    return;\n  }\n  var match = /^(-?(?:\\d+)?\\.?\\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(\n    str\n  );\n  if (!match) {\n    return;\n  }\n  var n = parseFloat(match[1]);\n  var type = (match[2] || 'ms').toLowerCase();\n  switch (type) {\n    case 'years':\n    case 'year':\n    case 'yrs':\n    case 'yr':\n    case 'y':\n      return n * y;\n    case 'weeks':\n    case 'week':\n    case 'w':\n      return n * w;\n    case 'days':\n    case 'day':\n    case 'd':\n      return n * d;\n    case 'hours':\n    case 'hour':\n    case 'hrs':\n    case 'hr':\n    case 'h':\n      return n * h;\n    case 'minutes':\n    case 'minute':\n    case 'mins':\n    case 'min':\n    case 'm':\n      return n * m;\n    case 'seconds':\n    case 'second':\n    case 'secs':\n    case 'sec':\n    case 's':\n      return n * s;\n    case 'milliseconds':\n    case 'millisecond':\n    case 'msecs':\n    case 'msec':\n    case 'ms':\n      return n;\n    default:\n      return undefined;\n  }\n}\n\n/**\n * Short format for `ms`.\n *\n * @param {Number} ms\n * @return {String}\n * @api private\n */\n\nfunction fmtShort(ms) {\n  var msAbs = Math.abs(ms);\n  if (msAbs >= d) {\n    return Math.round(ms / d) + 'd';\n  }\n  if (msAbs >= h) {\n    return Math.round(ms / h) + 'h';\n  }\n  if (msAbs >= m) {\n    return Math.round(ms / m) + 'm';\n  }\n  if (msAbs >= s) {\n    return Math.round(ms / s) + 's';\n  }\n  return ms + 'ms';\n}\n\n/**\n * Long format for `ms`.\n *\n * @param {Number} ms\n * @return {String}\n * @api private\n */\n\nfunction fmtLong(ms) {\n  var msAbs = Math.abs(ms);\n  if (msAbs >= d) {\n    return plural(ms, msAbs, d, 'day');\n  }\n  if (msAbs >= h) {\n    return plural(ms, msAbs, h, 'hour');\n  }\n  if (msAbs >= m) {\n    return plural(ms, msAbs, m, 'minute');\n  }\n  if (msAbs >= s) {\n    return plural(ms, msAbs, s, 'second');\n  }\n  return ms + ' ms';\n}\n\n/**\n * Pluralization helper.\n */\n\nfunction plural(ms, msAbs, n, name) {\n  var isPlural = msAbs >= n * 1.5;\n  return Math.round(ms / n) + ' ' + name + (isPlural ? 's' : '');\n}\n","\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst debug_1 = __importDefault(require(\"debug\"));\nconst observable_fns_1 = require(\"observable-fns\");\nconst common_1 = require(\"../common\");\nconst promise_1 = require(\"../promise\");\nconst symbols_1 = require(\"../symbols\");\nconst master_1 = require(\"../types/master\");\nconst invocation_proxy_1 = require(\"./invocation-proxy\");\nconst debugMessages = debug_1.default(\"threads:master:messages\");\nconst debugSpawn = debug_1.default(\"threads:master:spawn\");\nconst debugThreadUtils = debug_1.default(\"threads:master:thread-utils\");\nconst isInitMessage = (data) => data && data.type === \"init\";\nconst isUncaughtErrorMessage = (data) => data && data.type === \"uncaughtError\";\nconst initMessageTimeout = typeof process !== \"undefined\" && process.env.THREADS_WORKER_INIT_TIMEOUT\n    ? Number.parseInt(process.env.THREADS_WORKER_INIT_TIMEOUT, 10)\n    : 10000;\nfunction withTimeout(promise, timeoutInMs, errorMessage) {\n    return __awaiter(this, void 0, void 0, function* () {\n        let timeoutHandle;\n        const timeout = new Promise((resolve, reject) => {\n            timeoutHandle = setTimeout(() => reject(Error(errorMessage)), timeoutInMs);\n        });\n        const result = yield Promise.race([\n            promise,\n            timeout\n        ]);\n        clearTimeout(timeoutHandle);\n        return result;\n    });\n}\nfunction receiveInitMessage(worker) {\n    return new Promise((resolve, reject) => {\n        const messageHandler = ((event) => {\n            debugMessages(\"Message from worker before finishing initialization:\", event.data);\n            if (isInitMessage(event.data)) {\n                worker.removeEventListener(\"message\", messageHandler);\n                resolve(event.data);\n            }\n            else if (isUncaughtErrorMessage(event.data)) {\n                worker.removeEventListener(\"message\", messageHandler);\n                reject(common_1.rehydrateError(event.data.error));\n            }\n        });\n        worker.addEventListener(\"message\", messageHandler);\n    });\n}\nfunction createEventObservable(worker, workerTermination) {\n    return new observable_fns_1.Observable(observer => {\n        const messageHandler = ((messageEvent) => {\n            const workerEvent = {\n                type: master_1.WorkerEventType.message,\n                data: messageEvent.data\n            };\n            observer.next(workerEvent);\n        });\n        const rejectionHandler = ((errorEvent) => {\n            debugThreadUtils(\"Unhandled promise rejection event in thread:\", errorEvent);\n            const workerEvent = {\n                type: master_1.WorkerEventType.internalError,\n                error: Error(errorEvent.reason)\n            };\n            observer.next(workerEvent);\n        });\n        worker.addEventListener(\"message\", messageHandler);\n        worker.addEventListener(\"unhandledrejection\", rejectionHandler);\n        workerTermination.then(() => {\n            const terminationEvent = {\n                type: master_1.WorkerEventType.termination\n            };\n            worker.removeEventListener(\"message\", messageHandler);\n            worker.removeEventListener(\"unhandledrejection\", rejectionHandler);\n            observer.next(terminationEvent);\n            observer.complete();\n        });\n    });\n}\nfunction createTerminator(worker) {\n    const [termination, resolver] = promise_1.createPromiseWithResolver();\n    const terminate = () => __awaiter(this, void 0, void 0, function* () {\n        debugThreadUtils(\"Terminating worker\");\n        // Newer versions of worker_threads workers return a promise\n        yield worker.terminate();\n        resolver();\n    });\n    return { terminate, termination };\n}\nfunction setPrivateThreadProps(raw, worker, workerEvents, terminate) {\n    const workerErrors = workerEvents\n        .filter(event => event.type === master_1.WorkerEventType.internalError)\n        .map(errorEvent => errorEvent.error);\n    // tslint:disable-next-line prefer-object-spread\n    return Object.assign(raw, {\n        [symbols_1.$errors]: workerErrors,\n        [symbols_1.$events]: workerEvents,\n        [symbols_1.$terminate]: terminate,\n        [symbols_1.$worker]: worker\n    });\n}\n/**\n * Spawn a new thread. Takes a fresh worker instance, wraps it in a thin\n * abstraction layer to provide the transparent API and verifies that\n * the worker has initialized successfully.\n *\n * @param worker Instance of `Worker`. Either a web worker, `worker_threads` worker or `tiny-worker` worker.\n */\nfunction spawn(worker) {\n    return __awaiter(this, void 0, void 0, function* () {\n        debugSpawn(\"Initializing new thread\");\n        const initMessage = yield withTimeout(receiveInitMessage(worker), initMessageTimeout, `Timeout: Did not receive an init message from worker after ${initMessageTimeout}ms. Make sure the worker calls expose().`);\n        const exposed = initMessage.exposed;\n        const { termination, terminate } = createTerminator(worker);\n        const events = createEventObservable(worker, termination);\n        if (exposed.type === \"function\") {\n            const proxy = invocation_proxy_1.createProxyFunction(worker);\n            return setPrivateThreadProps(proxy, worker, events, terminate);\n        }\n        else if (exposed.type === \"module\") {\n            const proxy = invocation_proxy_1.createProxyModule(worker, exposed.methods);\n            return setPrivateThreadProps(proxy, worker, events, terminate);\n        }\n        else {\n            const type = exposed.type;\n            throw Error(`Worker init message states unexpected type of expose(): ${type}`);\n        }\n    });\n}\nexports.spawn = spawn;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst doNothing = () => undefined;\n/**\n * Creates a new promise and exposes its resolver function.\n * Use with care!\n */\nfunction createPromiseWithResolver() {\n    let alreadyResolved = false;\n    let resolvedTo;\n    let resolver = doNothing;\n    const promise = new Promise(resolve => {\n        if (alreadyResolved) {\n            resolve(resolvedTo);\n        }\n        else {\n            resolver = resolve;\n        }\n    });\n    const exposedResolver = (value) => {\n        alreadyResolved = true;\n        resolvedTo = value;\n        resolver();\n    };\n    return [promise, exposedResolver];\n}\nexports.createPromiseWithResolver = createPromiseWithResolver;\n","\"use strict\";\n/// <reference lib=\"dom\" />\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst symbols_1 = require(\"../symbols\");\n/** Event as emitted by worker thread. Subscribe to using `Thread.events(thread)`. */\nvar WorkerEventType;\n(function (WorkerEventType) {\n    WorkerEventType[\"internalError\"] = \"internalError\";\n    WorkerEventType[\"message\"] = \"message\";\n    WorkerEventType[\"termination\"] = \"termination\";\n})(WorkerEventType = exports.WorkerEventType || (exports.WorkerEventType = {}));\n","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst debug_1 = __importDefault(require(\"debug\"));\nconst common_1 = require(\"../common\");\nconst observable_promise_1 = require(\"../observable-promise\");\nconst transferable_1 = require(\"../transferable\");\nconst messages_1 = require(\"../types/messages\");\nconst debugMessages = debug_1.default(\"threads:master:messages\");\nlet nextJobUID = 1;\nconst dedupe = (array) => Array.from(new Set(array));\nconst isJobErrorMessage = (data) => data && data.type === messages_1.WorkerMessageType.error;\nconst isJobResultMessage = (data) => data && data.type === messages_1.WorkerMessageType.result;\nconst isJobStartMessage = (data) => data && data.type === messages_1.WorkerMessageType.running;\nfunction createObservablePromiseForJob(worker, jobUID) {\n    let asyncType;\n    return observable_promise_1.ObservablePromise((resolve, reject, observer) => {\n        const messageHandler = ((event) => {\n            debugMessages(\"Message from worker:\", event.data);\n            if (!event.data || event.data.uid !== jobUID)\n                return;\n            if (isJobStartMessage(event.data)) {\n                asyncType = event.data.resultType;\n            }\n            else if (isJobResultMessage(event.data)) {\n                if (asyncType === \"promise\") {\n                    resolve(event.data.payload);\n                    worker.removeEventListener(\"message\", messageHandler);\n                }\n                else {\n                    if (event.data.payload) {\n                        observer.next(event.data.payload);\n                    }\n                    if (event.data.complete) {\n                        observer.complete();\n                        worker.removeEventListener(\"message\", messageHandler);\n                    }\n                }\n            }\n            else if (isJobErrorMessage(event.data)) {\n                const error = common_1.rehydrateError(event.data.error);\n                if (asyncType === \"promise\" || !asyncType) {\n                    reject(error);\n                }\n                else {\n                    observer.error(error);\n                }\n                worker.removeEventListener(\"message\", messageHandler);\n            }\n        });\n        worker.addEventListener(\"message\", messageHandler);\n        return () => worker.removeEventListener(\"message\", messageHandler);\n    });\n}\nfunction prepareArguments(rawArgs) {\n    const args = [];\n    const transferables = [];\n    for (const arg of rawArgs) {\n        if (transferable_1.isTransferDescriptor(arg)) {\n            args.push(arg.send);\n            transferables.push(...arg.transferables);\n        }\n        else {\n            args.push(arg);\n        }\n    }\n    return {\n        args,\n        transferables: dedupe(transferables)\n    };\n}\nfunction createProxyFunction(worker, method) {\n    return ((...rawArgs) => {\n        const uid = nextJobUID++;\n        const { args, transferables } = prepareArguments(rawArgs);\n        const runMessage = {\n            type: messages_1.MasterMessageType.run,\n            uid,\n            method,\n            args\n        };\n        debugMessages(\"Sending command to run function to worker:\", runMessage);\n        worker.postMessage(runMessage, transferables);\n        return observable_promise_1.makeHot(createObservablePromiseForJob(worker, uid));\n    });\n}\nexports.createProxyFunction = createProxyFunction;\nfunction createProxyModule(worker, methodNames) {\n    const proxy = {};\n    for (const methodName of methodNames) {\n        proxy[methodName] = createProxyFunction(worker, methodName);\n    }\n    return proxy;\n}\nexports.createProxyModule = createProxyModule;\n","\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst is_observable_1 = __importDefault(require(\"is-observable\"));\nconst common_1 = require(\"../common\");\nconst transferable_1 = require(\"../transferable\");\nconst messages_1 = require(\"../types/messages\");\nconst implementation_1 = __importDefault(require(\"./implementation\"));\nvar transferable_2 = require(\"../transferable\");\nexports.Transfer = transferable_2.Transfer;\nlet exposeCalled = false;\nconst isMasterJobRunMessage = (thing) => thing && thing.type === messages_1.MasterMessageType.run;\n/** There are issues with `is-observable` not recognizing zen-observable's instances */\nconst isObservable = (thing) => is_observable_1.default(thing) || isZenObservable(thing);\nfunction isZenObservable(thing) {\n    return thing && typeof thing === \"object\" && typeof thing.subscribe === \"function\";\n}\nfunction deconstructTransfer(thing) {\n    return transferable_1.isTransferDescriptor(thing)\n        ? { payload: thing.send, transferables: thing.transferables }\n        : { payload: thing, transferables: undefined };\n}\nfunction postFunctionInitMessage() {\n    const initMessage = {\n        type: messages_1.WorkerMessageType.init,\n        exposed: {\n            type: \"function\"\n        }\n    };\n    implementation_1.default.postMessageToMaster(initMessage);\n}\nfunction postModuleInitMessage(methodNames) {\n    const initMessage = {\n        type: messages_1.WorkerMessageType.init,\n        exposed: {\n            type: \"module\",\n            methods: methodNames\n        }\n    };\n    implementation_1.default.postMessageToMaster(initMessage);\n}\nfunction postJobErrorMessage(uid, rawError) {\n    const { payload: error, transferables } = deconstructTransfer(rawError);\n    const errorMessage = {\n        type: messages_1.WorkerMessageType.error,\n        uid,\n        error: common_1.serializeError(error)\n    };\n    implementation_1.default.postMessageToMaster(errorMessage, transferables);\n}\nfunction postJobResultMessage(uid, completed, resultValue) {\n    const { payload, transferables } = deconstructTransfer(resultValue);\n    const resultMessage = {\n        type: messages_1.WorkerMessageType.result,\n        uid,\n        complete: completed ? true : undefined,\n        payload\n    };\n    implementation_1.default.postMessageToMaster(resultMessage, transferables);\n}\nfunction postJobStartMessage(uid, resultType) {\n    const startMessage = {\n        type: messages_1.WorkerMessageType.running,\n        uid,\n        resultType\n    };\n    implementation_1.default.postMessageToMaster(startMessage);\n}\nfunction postUncaughtErrorMessage(error) {\n    const errorMessage = {\n        type: messages_1.WorkerMessageType.uncaughtError,\n        error: common_1.serializeError(error)\n    };\n    implementation_1.default.postMessageToMaster(errorMessage);\n}\nfunction runFunction(jobUID, fn, args) {\n    return __awaiter(this, void 0, void 0, function* () {\n        let syncResult;\n        try {\n            syncResult = fn(...args);\n        }\n        catch (error) {\n            return postJobErrorMessage(jobUID, error);\n        }\n        const resultType = isObservable(syncResult) ? \"observable\" : \"promise\";\n        postJobStartMessage(jobUID, resultType);\n        if (isObservable(syncResult)) {\n            syncResult.subscribe(value => postJobResultMessage(jobUID, false, value), error => postJobErrorMessage(jobUID, error), () => postJobResultMessage(jobUID, true));\n        }\n        else {\n            try {\n                const result = yield syncResult;\n                postJobResultMessage(jobUID, true, result);\n            }\n            catch (error) {\n                postJobErrorMessage(jobUID, error);\n            }\n        }\n    });\n}\n/**\n * Expose a function or a module (an object whose values are functions)\n * to the main thread. Must be called exactly once in every worker thread\n * to signal its API to the main thread.\n *\n * @param exposed Function or object whose values are functions\n */\nfunction expose(exposed) {\n    if (!implementation_1.default.isWorkerRuntime()) {\n        throw Error(\"expose() called in the master thread.\");\n    }\n    if (exposeCalled) {\n        throw Error(\"expose() called more than once. This is not possible. Pass an object to expose() if you want to expose multiple functions.\");\n    }\n    exposeCalled = true;\n    if (typeof exposed === \"function\") {\n        implementation_1.default.subscribeToMasterMessages(messageData => {\n            if (isMasterJobRunMessage(messageData) && !messageData.method) {\n                runFunction(messageData.uid, exposed, messageData.args);\n            }\n        });\n        postFunctionInitMessage();\n    }\n    else if (typeof exposed === \"object\" && exposed) {\n        implementation_1.default.subscribeToMasterMessages(messageData => {\n            if (isMasterJobRunMessage(messageData) && messageData.method) {\n                runFunction(messageData.uid, exposed[messageData.method], messageData.args);\n            }\n        });\n        const methodNames = Object.keys(exposed).filter(key => typeof exposed[key] === \"function\");\n        postModuleInitMessage(methodNames);\n    }\n    else {\n        throw Error(`Invalid argument passed to expose(). Expected a function or an object, got: ${exposed}`);\n    }\n}\nexports.expose = expose;\nif (typeof self !== \"undefined\" && typeof self.addEventListener === \"function\" && implementation_1.default.isWorkerRuntime()) {\n    self.addEventListener(\"error\", event => {\n        // Post with some delay, so the master had some time to subscribe to messages\n        setTimeout(() => postUncaughtErrorMessage(event.error || event), 250);\n    });\n    self.addEventListener(\"unhandledrejection\", event => {\n        const error = event.reason;\n        if (error && typeof error.message === \"string\") {\n            // Post with some delay, so the master had some time to subscribe to messages\n            setTimeout(() => postUncaughtErrorMessage(error), 250);\n        }\n    });\n}\nif (typeof process !== \"undefined\" && typeof process.on === \"function\" && implementation_1.default.isWorkerRuntime()) {\n    process.on(\"uncaughtException\", (error) => {\n        // Post with some delay, so the master had some time to subscribe to messages\n        setTimeout(() => postUncaughtErrorMessage(error), 250);\n    });\n    process.on(\"unhandledRejection\", (error) => {\n        if (error && typeof error.message === \"string\") {\n            // Post with some delay, so the master had some time to subscribe to messages\n            setTimeout(() => postUncaughtErrorMessage(error), 250);\n        }\n    });\n}\n","'use strict';\nconst symbolObservable = require('symbol-observable').default;\n\nmodule.exports = value => Boolean(value && value[symbolObservable] && value === value[symbolObservable]());\n","/* global window */\nimport ponyfill from './ponyfill.js';\n\nvar root;\n\nif (typeof self !== 'undefined') {\n  root = self;\n} else if (typeof window !== 'undefined') {\n  root = window;\n} else if (typeof global !== 'undefined') {\n  root = global;\n} else if (typeof module !== 'undefined') {\n  root = module;\n} else {\n  root = Function('return this')();\n}\n\nvar result = ponyfill(root);\nexport default result;\n","module.exports = function(originalModule) {\n\tif (!originalModule.webpackPolyfill) {\n\t\tvar module = Object.create(originalModule);\n\t\t// module.parent = undefined by default\n\t\tif (!module.children) module.children = [];\n\t\tObject.defineProperty(module, \"loaded\", {\n\t\t\tenumerable: true,\n\t\t\tget: function() {\n\t\t\t\treturn module.l;\n\t\t\t}\n\t\t});\n\t\tObject.defineProperty(module, \"id\", {\n\t\t\tenumerable: true,\n\t\t\tget: function() {\n\t\t\t\treturn module.i;\n\t\t\t}\n\t\t});\n\t\tObject.defineProperty(module, \"exports\", {\n\t\t\tenumerable: true\n\t\t});\n\t\tmodule.webpackPolyfill = 1;\n\t}\n\treturn module;\n};\n","export default function symbolObservablePonyfill(root) {\n\tvar result;\n\tvar Symbol = root.Symbol;\n\n\tif (typeof Symbol === 'function') {\n\t\tif (Symbol.observable) {\n\t\t\tresult = Symbol.observable;\n\t\t} else {\n\t\t\tresult = Symbol('observable');\n\t\t\tSymbol.observable = result;\n\t\t}\n\t} else {\n\t\tresult = '@@observable';\n\t}\n\n\treturn result;\n};\n","\"use strict\";\n/// <reference lib=\"dom\" />\n// tslint:disable no-shadowed-variable\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst isWorkerRuntime = function isWorkerRuntime() {\n    return typeof self !== \"undefined\" && self.postMessage ? true : false;\n};\nconst postMessageToMaster = function postMessageToMaster(data, transferList) {\n    self.postMessage(data, transferList);\n};\nconst subscribeToMasterMessages = function subscribeToMasterMessages(onMessage) {\n    const messageHandler = (messageEvent) => {\n        onMessage(messageEvent.data);\n    };\n    const unsubscribe = () => {\n        self.removeEventListener(\"message\", messageHandler);\n    };\n    self.addEventListener(\"message\", messageHandler);\n    return unsubscribe;\n};\nexports.default = {\n    isWorkerRuntime,\n    postMessageToMaster,\n    subscribeToMasterMessages\n};\n","(function() {\n\"use strict\";\n\nvar supportsMultiple = self.HTMLInputElement && \"valueLow\" in HTMLInputElement.prototype;\n\nvar descriptor = Object.getOwnPropertyDescriptor(HTMLInputElement.prototype, \"value\");\n\nvar multirange = function(input) {\n\tif (supportsMultiple || input.classList.contains(\"multirange\")) {\n\t\treturn;\n\t}\n\n\tvar value = input.getAttribute(\"value\");\n\tvar values = value === null ? [] : value.split(\",\");\n\tvar min = +(input.min || 0);\n\tvar max = +(input.max || 100);\n\tvar ghost = input.cloneNode();\n\n\tinput.classList.add(\"multirange\", \"original\");\n\tghost.classList.add(\"multirange\", \"ghost\");\n\n\tinput.value = values[0] || min + (max - min) / 2;\n\tghost.value = values[1] || min + (max - min) / 2;\n\n\tinput.parentNode.insertBefore(ghost, input.nextSibling);\n\n\tObject.defineProperty(input, \"originalValue\", descriptor.get ? descriptor : {\n\t\t// Fuck you Safari >:(\n\t\tget: function() { return this.value; },\n\t\tset: function(v) { this.value = v; }\n\t});\n\n\tObject.defineProperties(input, {\n\t\tvalueLow: {\n\t\t\tget: function() { return Math.min(this.originalValue, ghost.value); },\n\t\t\tset: function(v) { this.originalValue = v; },\n\t\t\tenumerable: true\n\t\t},\n\t\tvalueHigh: {\n\t\t\tget: function() { return Math.max(this.originalValue, ghost.value); },\n\t\t\tset: function(v) { ghost.value = v; },\n\t\t\tenumerable: true\n\t\t}\n\t});\n\n\tif (descriptor.get) {\n\t\t// Again, fuck you Safari\n\t\tObject.defineProperty(input, \"value\", {\n\t\t\tget: function() { return this.valueLow + \",\" + this.valueHigh; },\n\t\t\tset: function(v) {\n\t\t\t\tvar values = v.split(\",\");\n\t\t\t\tthis.valueLow = values[0];\n\t\t\t\tthis.valueHigh = values[1];\n\t\t\t\tupdate();\n\t\t\t},\n\t\t\tenumerable: true\n\t\t});\n\t}\n\n\tif (typeof input.oninput === \"function\") {\n\t\tghost.oninput = input.oninput.bind(input);\n\t}\n\n\tfunction update() {\n\t\tghost.style.setProperty(\"--low\", 100 * ((input.valueLow - min) / (max - min)) + 1 + \"%\");\n\t\tghost.style.setProperty(\"--high\", 100 * ((input.valueHigh - min) / (max - min)) - 1 + \"%\");\n\t}\n\n\tinput.addEventListener(\"input\", update);\n\tghost.addEventListener(\"input\", update);\n\n\tupdate();\n}\n\nmultirange.init = function() {\n\t[].slice.call(document.querySelectorAll(\"input[type=range][multiple]:not(.multirange)\")).forEach(multirange);\n}\n\nif (typeof module === \"undefined\") {\n\tself.multirange = multirange;\n\tif (document.readyState == \"loading\") {\n\t\tdocument.addEventListener(\"DOMContentLoaded\", multirange.init);\n\t}\n\telse {\n\t\tmultirange.init();\n\t}\n} else {\n\tmodule.exports = multirange;\n}\n\n})();\n","/** PURE_IMPORTS_START tslib,_Subscription PURE_IMPORTS_END */\nimport * as tslib_1 from \"tslib\";\nimport { Subscription } from './Subscription';\nvar SubjectSubscription = /*@__PURE__*/ (function (_super) {\n    tslib_1.__extends(SubjectSubscription, _super);\n    function SubjectSubscription(subject, subscriber) {\n        var _this = _super.call(this) || this;\n        _this.subject = subject;\n        _this.subscriber = subscriber;\n        _this.closed = false;\n        return _this;\n    }\n    SubjectSubscription.prototype.unsubscribe = function () {\n        if (this.closed) {\n            return;\n        }\n        this.closed = true;\n        var subject = this.subject;\n        var observers = subject.observers;\n        this.subject = null;\n        if (!observers || observers.length === 0 || subject.isStopped || subject.closed) {\n            return;\n        }\n        var subscriberIndex = observers.indexOf(this.subscriber);\n        if (subscriberIndex !== -1) {\n            observers.splice(subscriberIndex, 1);\n        }\n    };\n    return SubjectSubscription;\n}(Subscription));\nexport { SubjectSubscription };\n//# sourceMappingURL=SubjectSubscription.js.map\n","/** PURE_IMPORTS_START tslib,_Observable,_Subscriber,_Subscription,_util_ObjectUnsubscribedError,_SubjectSubscription,_internal_symbol_rxSubscriber PURE_IMPORTS_END */\nimport * as tslib_1 from \"tslib\";\nimport { Observable } from './Observable';\nimport { Subscriber } from './Subscriber';\nimport { Subscription } from './Subscription';\nimport { ObjectUnsubscribedError } from './util/ObjectUnsubscribedError';\nimport { SubjectSubscription } from './SubjectSubscription';\nimport { rxSubscriber as rxSubscriberSymbol } from '../internal/symbol/rxSubscriber';\nvar SubjectSubscriber = /*@__PURE__*/ (function (_super) {\n    tslib_1.__extends(SubjectSubscriber, _super);\n    function SubjectSubscriber(destination) {\n        var _this = _super.call(this, destination) || this;\n        _this.destination = destination;\n        return _this;\n    }\n    return SubjectSubscriber;\n}(Subscriber));\nexport { SubjectSubscriber };\nvar Subject = /*@__PURE__*/ (function (_super) {\n    tslib_1.__extends(Subject, _super);\n    function Subject() {\n        var _this = _super.call(this) || this;\n        _this.observers = [];\n        _this.closed = false;\n        _this.isStopped = false;\n        _this.hasError = false;\n        _this.thrownError = null;\n        return _this;\n    }\n    Subject.prototype[rxSubscriberSymbol] = function () {\n        return new SubjectSubscriber(this);\n    };\n    Subject.prototype.lift = function (operator) {\n        var subject = new AnonymousSubject(this, this);\n        subject.operator = operator;\n        return subject;\n    };\n    Subject.prototype.next = function (value) {\n        if (this.closed) {\n            throw new ObjectUnsubscribedError();\n        }\n        if (!this.isStopped) {\n            var observers = this.observers;\n            var len = observers.length;\n            var copy = observers.slice();\n            for (var i = 0; i < len; i++) {\n                copy[i].next(value);\n            }\n        }\n    };\n    Subject.prototype.error = function (err) {\n        if (this.closed) {\n            throw new ObjectUnsubscribedError();\n        }\n        this.hasError = true;\n        this.thrownError = err;\n        this.isStopped = true;\n        var observers = this.observers;\n        var len = observers.length;\n        var copy = observers.slice();\n        for (var i = 0; i < len; i++) {\n            copy[i].error(err);\n        }\n        this.observers.length = 0;\n    };\n    Subject.prototype.complete = function () {\n        if (this.closed) {\n            throw new ObjectUnsubscribedError();\n        }\n        this.isStopped = true;\n        var observers = this.observers;\n        var len = observers.length;\n        var copy = observers.slice();\n        for (var i = 0; i < len; i++) {\n            copy[i].complete();\n        }\n        this.observers.length = 0;\n    };\n    Subject.prototype.unsubscribe = function () {\n        this.isStopped = true;\n        this.closed = true;\n        this.observers = null;\n    };\n    Subject.prototype._trySubscribe = function (subscriber) {\n        if (this.closed) {\n            throw new ObjectUnsubscribedError();\n        }\n        else {\n            return _super.prototype._trySubscribe.call(this, subscriber);\n        }\n    };\n    Subject.prototype._subscribe = function (subscriber) {\n        if (this.closed) {\n            throw new ObjectUnsubscribedError();\n        }\n        else if (this.hasError) {\n            subscriber.error(this.thrownError);\n            return Subscription.EMPTY;\n        }\n        else if (this.isStopped) {\n            subscriber.complete();\n            return Subscription.EMPTY;\n        }\n        else {\n            this.observers.push(subscriber);\n            return new SubjectSubscription(this, subscriber);\n        }\n    };\n    Subject.prototype.asObservable = function () {\n        var observable = new Observable();\n        observable.source = this;\n        return observable;\n    };\n    Subject.create = function (destination, source) {\n        return new AnonymousSubject(destination, source);\n    };\n    return Subject;\n}(Observable));\nexport { Subject };\nvar AnonymousSubject = /*@__PURE__*/ (function (_super) {\n    tslib_1.__extends(AnonymousSubject, _super);\n    function AnonymousSubject(destination, source) {\n        var _this = _super.call(this) || this;\n        _this.destination = destination;\n        _this.source = source;\n        return _this;\n    }\n    AnonymousSubject.prototype.next = function (value) {\n        var destination = this.destination;\n        if (destination && destination.next) {\n            destination.next(value);\n        }\n    };\n    AnonymousSubject.prototype.error = function (err) {\n        var destination = this.destination;\n        if (destination && destination.error) {\n            this.destination.error(err);\n        }\n    };\n    AnonymousSubject.prototype.complete = function () {\n        var destination = this.destination;\n        if (destination && destination.complete) {\n            this.destination.complete();\n        }\n    };\n    AnonymousSubject.prototype._subscribe = function (subscriber) {\n        var source = this.source;\n        if (source) {\n            return this.source.subscribe(subscriber);\n        }\n        else {\n            return Subscription.EMPTY;\n        }\n    };\n    return AnonymousSubject;\n}(Subject));\nexport { AnonymousSubject };\n//# sourceMappingURL=Subject.js.map\n","/** PURE_IMPORTS_START tslib,_Subject,_util_ObjectUnsubscribedError PURE_IMPORTS_END */\nimport * as tslib_1 from \"tslib\";\nimport { Subject } from './Subject';\nimport { ObjectUnsubscribedError } from './util/ObjectUnsubscribedError';\nvar BehaviorSubject = /*@__PURE__*/ (function (_super) {\n    tslib_1.__extends(BehaviorSubject, _super);\n    function BehaviorSubject(_value) {\n        var _this = _super.call(this) || this;\n        _this._value = _value;\n        return _this;\n    }\n    Object.defineProperty(BehaviorSubject.prototype, \"value\", {\n        get: function () {\n            return this.getValue();\n        },\n        enumerable: true,\n        configurable: true\n    });\n    BehaviorSubject.prototype._subscribe = function (subscriber) {\n        var subscription = _super.prototype._subscribe.call(this, subscriber);\n        if (subscription && !subscription.closed) {\n            subscriber.next(this._value);\n        }\n        return subscription;\n    };\n    BehaviorSubject.prototype.getValue = function () {\n        if (this.hasError) {\n            throw this.thrownError;\n        }\n        else if (this.closed) {\n            throw new ObjectUnsubscribedError();\n        }\n        else {\n            return this._value;\n        }\n    };\n    BehaviorSubject.prototype.next = function (value) {\n        _super.prototype.next.call(this, this._value = value);\n    };\n    return BehaviorSubject;\n}(Subject));\nexport { BehaviorSubject };\n//# sourceMappingURL=BehaviorSubject.js.map\n"],"sourceRoot":""}