!function(e){var t={};function r(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)r.d(n,o,function(t){return e[t]}.bind(null,o));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="/stereo/",r(r.s=68)}([function(e,t,r){"use strict";(function(t){var n=r(46);
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
 * @license  MIT
 */function o(e,t){if(e===t)return 0;for(var r=e.length,n=t.length,o=0,i=Math.min(r,n);o<i;++o)if(e[o]!==t[o]){r=e[o],n=t[o];break}return r<n?-1:n<r?1:0}function i(e){return t.Buffer&&"function"==typeof t.Buffer.isBuffer?t.Buffer.isBuffer(e):!(null==e||!e._isBuffer)}var s=r(47),a=Object.prototype.hasOwnProperty,u=Array.prototype.slice,c="foo"===function(){}.name;function l(e){return Object.prototype.toString.call(e)}function f(e){return!i(e)&&("function"==typeof t.ArrayBuffer&&("function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(e):!!e&&(e instanceof DataView||!!(e.buffer&&e.buffer instanceof ArrayBuffer))))}var p=e.exports=m,d=/\s*function\s+([^\(\s]*)\s*/;function h(e){if(s.isFunction(e)){if(c)return e.name;var t=e.toString().match(d);return t&&t[1]}}function v(e,t){return"string"==typeof e?e.length<t?e:e.slice(0,t):e}function b(e){if(c||!s.isFunction(e))return s.inspect(e);var t=h(e);return"[Function"+(t?": "+t:"")+"]"}function y(e,t,r,n,o){throw new p.AssertionError({message:r,actual:e,expected:t,operator:n,stackStartFunction:o})}function m(e,t){e||y(e,!0,t,"==",p.ok)}function g(e,t,r,n){if(e===t)return!0;if(i(e)&&i(t))return 0===o(e,t);if(s.isDate(e)&&s.isDate(t))return e.getTime()===t.getTime();if(s.isRegExp(e)&&s.isRegExp(t))return e.source===t.source&&e.global===t.global&&e.multiline===t.multiline&&e.lastIndex===t.lastIndex&&e.ignoreCase===t.ignoreCase;if(null!==e&&"object"==typeof e||null!==t&&"object"==typeof t){if(f(e)&&f(t)&&l(e)===l(t)&&!(e instanceof Float32Array||e instanceof Float64Array))return 0===o(new Uint8Array(e.buffer),new Uint8Array(t.buffer));if(i(e)!==i(t))return!1;var a=(n=n||{actual:[],expected:[]}).actual.indexOf(e);return-1!==a&&a===n.expected.indexOf(t)||(n.actual.push(e),n.expected.push(t),function(e,t,r,n){if(null==e||null==t)return!1;if(s.isPrimitive(e)||s.isPrimitive(t))return e===t;if(r&&Object.getPrototypeOf(e)!==Object.getPrototypeOf(t))return!1;var o=w(e),i=w(t);if(o&&!i||!o&&i)return!1;if(o)return e=u.call(e),t=u.call(t),g(e,t,r);var a,c,l=E(e),f=E(t);if(l.length!==f.length)return!1;for(l.sort(),f.sort(),c=l.length-1;c>=0;c--)if(l[c]!==f[c])return!1;for(c=l.length-1;c>=0;c--)if(a=l[c],!g(e[a],t[a],r,n))return!1;return!0}(e,t,r,n))}return r?e===t:e==t}function w(e){return"[object Arguments]"==Object.prototype.toString.call(e)}function x(e,t){if(!e||!t)return!1;if("[object RegExp]"==Object.prototype.toString.call(t))return t.test(e);try{if(e instanceof t)return!0}catch(e){}return!Error.isPrototypeOf(t)&&!0===t.call({},e)}function O(e,t,r,n){var o;if("function"!=typeof t)throw new TypeError('"block" argument must be a function');"string"==typeof r&&(n=r,r=null),o=function(e){var t;try{e()}catch(e){t=e}return t}(t),n=(r&&r.name?" ("+r.name+").":".")+(n?" "+n:"."),e&&!o&&y(o,r,"Missing expected exception"+n);var i="string"==typeof n,a=!e&&o&&!r;if((!e&&s.isError(o)&&i&&x(o,r)||a)&&y(o,r,"Got unwanted exception"+n),e&&o&&r&&!x(o,r)||!e&&o)throw o}p.AssertionError=function(e){this.name="AssertionError",this.actual=e.actual,this.expected=e.expected,this.operator=e.operator,e.message?(this.message=e.message,this.generatedMessage=!1):(this.message=function(e){return v(b(e.actual),128)+" "+e.operator+" "+v(b(e.expected),128)}(this),this.generatedMessage=!0);var t=e.stackStartFunction||y;if(Error.captureStackTrace)Error.captureStackTrace(this,t);else{var r=new Error;if(r.stack){var n=r.stack,o=h(t),i=n.indexOf("\n"+o);if(i>=0){var s=n.indexOf("\n",i+1);n=n.substring(s+1)}this.stack=n}}},s.inherits(p.AssertionError,Error),p.fail=y,p.ok=m,p.equal=function(e,t,r){e!=t&&y(e,t,r,"==",p.equal)},p.notEqual=function(e,t,r){e==t&&y(e,t,r,"!=",p.notEqual)},p.deepEqual=function(e,t,r){g(e,t,!1)||y(e,t,r,"deepEqual",p.deepEqual)},p.deepStrictEqual=function(e,t,r){g(e,t,!0)||y(e,t,r,"deepStrictEqual",p.deepStrictEqual)},p.notDeepEqual=function(e,t,r){g(e,t,!1)&&y(e,t,r,"notDeepEqual",p.notDeepEqual)},p.notDeepStrictEqual=function e(t,r,n){g(t,r,!0)&&y(t,r,n,"notDeepStrictEqual",e)},p.strictEqual=function(e,t,r){e!==t&&y(e,t,r,"===",p.strictEqual)},p.notStrictEqual=function(e,t,r){e===t&&y(e,t,r,"!==",p.notStrictEqual)},p.throws=function(e,t,r){O(!0,e,t,r)},p.doesNotThrow=function(e,t,r){O(!1,e,t,r)},p.ifError=function(e){if(e)throw e},p.strict=n((function e(t,r){t||y(t,!0,r,"==",e)}),p,{equal:p.strictEqual,deepEqual:p.deepStrictEqual,notEqual:p.notStrictEqual,notDeepEqual:p.notDeepStrictEqual}),p.strict.strict=p.strict;var E=Object.keys||function(e){var t=[];for(var r in e)a.call(e,r)&&t.push(r);return t}}).call(this,r(33))},function(e,t,r){"use strict";r.d(t,"a",(function(){return o}));
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */
var n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)};function o(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}},function(e,t,r){"use strict";r.d(t,"a",(function(){return o}));var n=!1,o={Promise:void 0,set useDeprecatedSynchronousErrorHandling(e){e&&(new Error).stack;n=e},get useDeprecatedSynchronousErrorHandling(){return n}}},function(e,t,r){"use strict";r.d(t,"a",(function(){return l}));var n=r(1),o=r(17),i=r(15),s=r(4),a=r(12),u=r(2),c=r(8),l=function(e){function t(r,n,o){var s=e.call(this)||this;switch(s.syncErrorValue=null,s.syncErrorThrown=!1,s.syncErrorThrowable=!1,s.isStopped=!1,arguments.length){case 0:s.destination=i.a;break;case 1:if(!r){s.destination=i.a;break}if("object"==typeof r){r instanceof t?(s.syncErrorThrowable=r.syncErrorThrowable,s.destination=r,r.add(s)):(s.syncErrorThrowable=!0,s.destination=new f(s,r));break}default:s.syncErrorThrowable=!0,s.destination=new f(s,r,n,o)}return s}return n.a(t,e),t.prototype[a.a]=function(){return this},t.create=function(e,r,n){var o=new t(e,r,n);return o.syncErrorThrowable=!1,o},t.prototype.next=function(e){this.isStopped||this._next(e)},t.prototype.error=function(e){this.isStopped||(this.isStopped=!0,this._error(e))},t.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},t.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,e.prototype.unsubscribe.call(this))},t.prototype._next=function(e){this.destination.next(e)},t.prototype._error=function(e){this.destination.error(e),this.unsubscribe()},t.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},t.prototype._unsubscribeAndRecycle=function(){var e=this._parentOrParents;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=e,this},t}(s.a),f=function(e){function t(t,r,n,s){var a,u=e.call(this)||this;u._parentSubscriber=t;var c=u;return Object(o.a)(r)?a=r:r&&(a=r.next,n=r.error,s=r.complete,r!==i.a&&(c=Object.create(r),Object(o.a)(c.unsubscribe)&&u.add(c.unsubscribe.bind(c)),c.unsubscribe=u.unsubscribe.bind(u))),u._context=c,u._next=a,u._error=n,u._complete=s,u}return n.a(t,e),t.prototype.next=function(e){if(!this.isStopped&&this._next){var t=this._parentSubscriber;u.a.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?this.__tryOrSetError(t,this._next,e)&&this.unsubscribe():this.__tryOrUnsub(this._next,e)}},t.prototype.error=function(e){if(!this.isStopped){var t=this._parentSubscriber,r=u.a.useDeprecatedSynchronousErrorHandling;if(this._error)r&&t.syncErrorThrowable?(this.__tryOrSetError(t,this._error,e),this.unsubscribe()):(this.__tryOrUnsub(this._error,e),this.unsubscribe());else if(t.syncErrorThrowable)r?(t.syncErrorValue=e,t.syncErrorThrown=!0):Object(c.a)(e),this.unsubscribe();else{if(this.unsubscribe(),r)throw e;Object(c.a)(e)}}},t.prototype.complete=function(){var e=this;if(!this.isStopped){var t=this._parentSubscriber;if(this._complete){var r=function(){return e._complete.call(e._context)};u.a.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,r),this.unsubscribe()):(this.__tryOrUnsub(r),this.unsubscribe())}else this.unsubscribe()}},t.prototype.__tryOrUnsub=function(e,t){try{e.call(this._context,t)}catch(e){if(this.unsubscribe(),u.a.useDeprecatedSynchronousErrorHandling)throw e;Object(c.a)(e)}},t.prototype.__tryOrSetError=function(e,t,r){if(!u.a.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{t.call(this._context,r)}catch(t){return u.a.useDeprecatedSynchronousErrorHandling?(e.syncErrorValue=t,e.syncErrorThrown=!0,!0):(Object(c.a)(t),!0)}return!1},t.prototype._unsubscribe=function(){var e=this._parentSubscriber;this._context=null,this._parentSubscriber=null,e.unsubscribe()},t}(l)},function(e,t,r){"use strict";var n=r(13),o=r(25),i=r(17),s=function(){function e(e){return Error.call(this),this.message=e?e.length+" errors occurred during unsubscription:\n"+e.map((function(e,t){return t+1+") "+e.toString()})).join("\n  "):"",this.name="UnsubscriptionError",this.errors=e,this}return e.prototype=Object.create(Error.prototype),e}();r.d(t,"a",(function(){return a}));var a=function(){function e(e){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,e&&(this._unsubscribe=e)}var t;return e.prototype.unsubscribe=function(){var t;if(!this.closed){var r=this._parentOrParents,a=this._unsubscribe,c=this._subscriptions;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,r instanceof e)r.remove(this);else if(null!==r)for(var l=0;l<r.length;++l){r[l].remove(this)}if(Object(i.a)(a))try{a.call(this)}catch(e){t=e instanceof s?u(e.errors):[e]}if(Object(n.a)(c)){l=-1;for(var f=c.length;++l<f;){var p=c[l];if(Object(o.a)(p))try{p.unsubscribe()}catch(e){t=t||[],e instanceof s?t=t.concat(u(e.errors)):t.push(e)}}}if(t)throw new s(t)}},e.prototype.add=function(t){var r=t;if(!t)return e.EMPTY;switch(typeof t){case"function":r=new e(t);case"object":if(r===this||r.closed||"function"!=typeof r.unsubscribe)return r;if(this.closed)return r.unsubscribe(),r;if(!(r instanceof e)){var n=r;(r=new e)._subscriptions=[n]}break;default:throw new Error("unrecognized teardown "+t+" added to Subscription.")}var o=r._parentOrParents;if(null===o)r._parentOrParents=this;else if(o instanceof e){if(o===this)return r;r._parentOrParents=[o,this]}else{if(-1!==o.indexOf(this))return r;o.push(this)}var i=this._subscriptions;return null===i?this._subscriptions=[r]:i.push(r),r},e.prototype.remove=function(e){var t=this._subscriptions;if(t){var r=t.indexOf(e);-1!==r&&t.splice(r,1)}},e.EMPTY=((t=new e).closed=!0,t),e}();function u(e){return e.reduce((function(e,t){return e.concat(t instanceof s?t.errors:t)}),[])}},function(e,t,r){"use strict";var n=r(3);var o=r(12),i=r(15);var s=r(14);function a(){}function u(e){return e?1===e.length?e[0]:function(t){return e.reduce((function(e,t){return t(e)}),t)}:a}var c=r(2);r.d(t,"a",(function(){return l}));var l=function(){function e(e){this._isScalar=!1,e&&(this._subscribe=e)}return e.prototype.lift=function(t){var r=new e;return r.source=this,r.operator=t,r},e.prototype.subscribe=function(e,t,r){var s=this.operator,a=function(e,t,r){if(e){if(e instanceof n.a)return e;if(e[o.a])return e[o.a]()}return e||t||r?new n.a(e,t,r):new n.a(i.a)}(e,t,r);if(s?a.add(s.call(a,this.source)):a.add(this.source||c.a.useDeprecatedSynchronousErrorHandling&&!a.syncErrorThrowable?this._subscribe(a):this._trySubscribe(a)),c.a.useDeprecatedSynchronousErrorHandling&&a.syncErrorThrowable&&(a.syncErrorThrowable=!1,a.syncErrorThrown))throw a.syncErrorValue;return a},e.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(t){c.a.useDeprecatedSynchronousErrorHandling&&(e.syncErrorThrown=!0,e.syncErrorValue=t),!function(e){for(;e;){var t=e,r=t.closed,o=t.destination,i=t.isStopped;if(r||i)return!1;e=o&&o instanceof n.a?o:null}return!0}(e)?console.warn(t):e.error(t)}},e.prototype.forEach=function(e,t){var r=this;return new(t=f(t))((function(t,n){var o;o=r.subscribe((function(t){try{e(t)}catch(e){n(e),o&&o.unsubscribe()}}),n,t)}))},e.prototype._subscribe=function(e){var t=this.source;return t&&t.subscribe(e)},e.prototype[s.a]=function(){return this},e.prototype.pipe=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return 0===e.length?this:u(e)(this)},e.prototype.toPromise=function(e){var t=this;return new(e=f(e))((function(e,r){var n;t.subscribe((function(e){return n=e}),(function(e){return r(e)}),(function(){return e(n)}))}))},e.create=function(t){return new e(t)},e}();function f(e){if(e||(e=c.a.Promise||Promise),!e)throw new Error("no Promise impl found");return e}},function(e,t,r){var n,o;!function(i,s){"use strict";void 0===(o="function"==typeof(n=function(){var e=function(){},t="undefined",r=typeof window!==t&&/Trident\/|MSIE /.test(window.navigator.userAgent),n=["trace","debug","info","warn","error"];function o(e,t){var r=e[t];if("function"==typeof r.bind)return r.bind(e);try{return Function.prototype.bind.call(r,e)}catch(t){return function(){return Function.prototype.apply.apply(r,[e,arguments])}}}function i(){console.log&&(console.log.apply?console.log.apply(console,arguments):Function.prototype.apply.apply(console.log,[console,arguments])),console.trace&&console.trace()}function s(t,r){for(var o=0;o<n.length;o++){var i=n[o];this[i]=o<t?e:this.methodFactory(i,t,r)}this.log=this.debug}function a(e,r,n){return function(){typeof console!==t&&(s.call(this,r,n),this[e].apply(this,arguments))}}function u(n,s,u){return function(n){return"debug"===n&&(n="log"),typeof console!==t&&("trace"===n&&r?i:void 0!==console[n]?o(console,n):void 0!==console.log?o(console,"log"):e)}(n)||a.apply(this,arguments)}function c(e,r,o){var i,a=this,c="loglevel";function l(){var e;if(typeof window!==t){try{e=window.localStorage[c]}catch(e){}if(typeof e===t)try{var r=window.document.cookie,n=r.indexOf(encodeURIComponent(c)+"=");-1!==n&&(e=/^([^;]+)/.exec(r.slice(n))[1])}catch(e){}return void 0===a.levels[e]&&(e=void 0),e}}e&&(c+=":"+e),a.name=e,a.levels={TRACE:0,DEBUG:1,INFO:2,WARN:3,ERROR:4,SILENT:5},a.methodFactory=o||u,a.getLevel=function(){return i},a.setLevel=function(r,o){if("string"==typeof r&&void 0!==a.levels[r.toUpperCase()]&&(r=a.levels[r.toUpperCase()]),!("number"==typeof r&&r>=0&&r<=a.levels.SILENT))throw"log.setLevel() called with invalid level: "+r;if(i=r,!1!==o&&function(e){var r=(n[e]||"silent").toUpperCase();if(typeof window!==t){try{return void(window.localStorage[c]=r)}catch(e){}try{window.document.cookie=encodeURIComponent(c)+"="+r+";"}catch(e){}}}(r),s.call(a,r,e),typeof console===t&&r<a.levels.SILENT)return"No console available for logging"},a.setDefaultLevel=function(e){l()||a.setLevel(e,!1)},a.enableAll=function(e){a.setLevel(a.levels.TRACE,e)},a.disableAll=function(e){a.setLevel(a.levels.SILENT,e)};var f=l();null==f&&(f=null==r?"WARN":r),a.setLevel(f,!1)}var l=new c,f={};l.getLogger=function(e){if("string"!=typeof e||""===e)throw new TypeError("You must supply a name when creating a logger.");var t=f[e];return t||(t=f[e]=new c(e,l.getLevel(),l.methodFactory)),t};var p=typeof window!==t?window.log:void 0;return l.noConflict=function(){return typeof window!==t&&window.log===l&&(window.log=p),l},l.getLoggers=function(){return f},l})?n.call(t,r,t,e):n)||(e.exports=o)}()},function(e,t,r){"use strict";r.d(t,"a",(function(){return n}));var n=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;return JSON.stringify(e,null,t)}},function(e,t,r){"use strict";function n(e){setTimeout((function(){throw e}),0)}r.d(t,"a",(function(){return n}))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}(r(51));var n=r(60);t.expose=n.expose;var o=r(21);t.Transfer=o.Transfer},function(e,t,r){"use strict";r.d(t,"a",(function(){return n}));var n=function(){function e(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return e.prototype=Object.create(Error.prototype),e}()},function(e,t,r){"use strict";(function(e){r.d(t,"a",(function(){return u})),r.d(t,"b",(function(){return l})),r.d(t,"c",(function(){return f})),r.d(t,"d",(function(){return p}));var n=r(32),o=r(9);function i(e,t,r,n,o,i,s){try{var a=e[i](s),u=a.value}catch(e){return void r(e)}a.done?t(u):Promise.resolve(u).then(n,o)}function s(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var s=e.apply(t,r);function a(e){i(s,n,o,a,u,"next",e)}function u(e){i(s,n,o,a,u,"throw",e)}a(void 0)}))}}var a=new n.a,u=a.asObservable(),c=Object(o.spawn)(new o.Worker(e,{name:"renderer"})),l=function(){var e=s((function*(e){var t=yield(yield c).init(Object(o.Transfer)(e),window.innerWidth,window.innerHeight);a.next(t)}));return function(t){return e.apply(this,arguments)}}(),f=function(){var e=s((function*(){return(yield c).render()}));return function(){return e.apply(this,arguments)}}(),p=function(){var e=s((function*(e){var t=yield(yield c).update(e);a.next(t)}));return function(t){return e.apply(this,arguments)}}();window.onresize=s((function*(){var e=yield(yield c).resize(window.innerWidth,window.innerHeight);a.next(e)}))}).call(this,r(67))},function(e,t,r){"use strict";r.d(t,"a",(function(){return n}));var n=function(){return"function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()}()},function(e,t,r){"use strict";r.d(t,"a",(function(){return n}));var n=function(){return Array.isArray||function(e){return e&&"number"==typeof e.length}}()},function(e,t,r){"use strict";r.d(t,"a",(function(){return n}));var n=function(){return"function"==typeof Symbol&&Symbol.observable||"@@observable"}()},function(e,t,r){"use strict";r.d(t,"a",(function(){return i}));var n=r(2),o=r(8),i={closed:!0,next:function(e){},error:function(e){if(n.a.useDeprecatedSynchronousErrorHandling)throw e;Object(o.a)(e)},complete:function(){}}},function(e,t,r){"use strict";(function(e){r.d(t,"a",(function(){return p})),r.d(t,"c",(function(){return d})),r.d(t,"b",(function(){return g}));var n=r(6),o=r(9),i=r(22),s=r(41);function a(e,t,r,n,o,i,s){try{var a=e[i](s),u=a.value}catch(e){return void r(e)}a.done?t(u):Promise.resolve(u).then(n,o)}function u(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function s(e){a(i,n,o,s,u,"next",e)}function u(e){a(i,n,o,s,u,"throw",e)}s(void 0)}))}}var c,l,f=Object(n.getLogger)("PipelinePool");f.setLevel("info");var p=navigator.hardwareConcurrency,d=function(){var t=u((function*(){f.info("starting worker pool");var t=0;c=Object(o.Pool)(()=>Object(o.spawn)(new o.Worker(e,{name:"pipe".concat(t++)})),p),l=new Map;for(var r=[],n=0;n<p;n++)r.push(c.queue(u((function*(){}))));yield Promise.all(r)}));return function(){return t.apply(this,arguments)}}(),h=(e,t,r)=>m("initialization")(u((function*(){return y(t,function(){var t=u((function*(t){return c.queue(n=>n.initialize(e,t,r))}));return function(e){return t.apply(this,arguments)}}())}))),v=(e,t)=>m("iteration")(u((function*(){return y(e.pipe.n,function(){var r=u((function*(r){return c.queue(n=>n.iterate(e,r,t))}));return function(e){return r.apply(this,arguments)}}())}))),b=function(){var e=u((function*(e){var t=(e=>JSON.stringify({pipe:e.pipe,hv:e.hv}))(e);if(!l.has(t)){var r=new s.a(e.scope),{n:n,staticFn:o,dynamicFn:a}=r.resolve(e.pipe),u=i.a.bufferFor(n,o.d,a.d);yield h(e,n,u),l.set(t,u)}return l.get(t)}));return function(t){return e.apply(this,arguments)}}(),y=function(){var e=u((function*(e,t){for(var r=Math.round(e/p),n=[],o=0;o<e;o+=r){var i={offset:o,size:Math.min(e-o,r)};n.push(t(i))}yield Promise.all(n)}));return function(t,r){return e.apply(this,arguments)}}(),m=e=>(function(){var t=u((function*(t){var r=Date.now(),n=yield t(),o=Date.now()-r;return f.debug("".concat(e," took ").concat(o,"ms")),n}));return function(e){return t.apply(this,arguments)}})(),g=function(){var e=u((function*(e){var t=yield b(e);return yield v(e,t),t.slice(0)}));return function(t){return e.apply(this,arguments)}}()}).call(this,r(50))},function(e,t,r){"use strict";function n(e){return"function"==typeof e}r.d(t,"a",(function(){return n}))},,function(e,t){var r,n,o=e.exports={};function i(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function a(e){if(r===setTimeout)return setTimeout(e,0);if((r===i||!r)&&setTimeout)return r=setTimeout,setTimeout(e,0);try{return r(e,0)}catch(t){try{return r.call(null,e,0)}catch(t){return r.call(this,e,0)}}}!function(){try{r="function"==typeof setTimeout?setTimeout:i}catch(e){r=i}try{n="function"==typeof clearTimeout?clearTimeout:s}catch(e){n=s}}();var u,c=[],l=!1,f=-1;function p(){l&&u&&(l=!1,u.length?c=u.concat(c):f=-1,c.length&&d())}function d(){if(!l){var e=a(p);l=!0;for(var t=c.length;t;){for(u=c,c=[];++f<t;)u&&u[f].run();f=-1,t=c.length}u=null,l=!1,function(e){if(n===clearTimeout)return clearTimeout(e);if((n===s||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(e);try{n(e)}catch(t){try{return n.call(null,e)}catch(t){return n.call(this,e)}}}(e)}}function h(e,t){this.fun=e,this.array=t}function v(){}o.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];c.push(new h(e,t)),1!==c.length||l||a(d)},h.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=v,o.addListener=v,o.once=v,o.off=v,o.removeListener=v,o.removeAllListeners=v,o.emit=v,o.prependListener=v,o.prependOnceListener=v,o.listeners=function(e){return[]},o.binding=function(e){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(e){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.$errors=Symbol("thread.errors"),t.$events=Symbol("thread.events"),t.$terminate=Symbol("thread.terminate"),t.$transferable=Symbol("thread.transferable"),t.$worker=Symbol("thread.worker")},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(20);t.isTransferDescriptor=function(e){return e&&"object"==typeof e&&e[n.$transferable]},t.Transfer=function(e,t){if(!t){if(!(r=e)||"object"!=typeof r)throw Error();t=[e]}var r;return{[n.$transferable]:!0,send:e,transferables:t}}},function(e,t,r){"use strict";r.d(t,"a",(function(){return s}));var n=r(0),o=r.n(n);function i(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class s{constructor(e,t,r,n){this.n=e,this.d=t,this.position=r,this.color=n}}i(s,"fromBuffer",e=>{var t=new Float32Array(e),r=t[s.nOffset],n=t[s.positionOffset(t)],o=s.position(t),i=s.color(t);return new s(r,n,o,i)}),i(s,"bufferFor",(e,t,r)=>{var n=new SharedArrayBuffer(4*(3+e*(t+r+3))),o=new Float32Array(n);return o[s.nOffset]=e,o[s.inputOffset]=t,o[s.positionOffset(o)]=r,n}),i(s,"input",e=>{var t=s.inputOffset+1;return e.subarray(t,t+s.inputLength(e))}),i(s,"position",e=>{var t=s.positionOffset(e)+1;return e.subarray(t,t+s.positionLength(e))}),i(s,"color",e=>{var t=s.colorOffset(e);return e.subarray(t)}),i(s,"nOffset",0),i(s,"inputOffset",s.nOffset+1),i(s,"inputLength",e=>{return e[s.nOffset]*e[s.inputOffset]}),i(s,"positionOffset",e=>s.inputOffset+s.inputLength(e)+1),i(s,"positionLength",e=>{return e[s.nOffset]*e[s.positionOffset(e)]}),i(s,"colorOffset",e=>s.positionOffset(e)+s.positionLength(e)+1),i(s,"get",(e,t,r)=>{var n=t*r;return e.subarray(n,n+r)}),i(s,"set",(e,t,r,n)=>{o()(t.length<=n);var i=r*n;return e.set(t,i)})},function(e,t,r){"use strict";r.d(t,"a",(function(){return n}));var n=2**32-1},function(e,t,r){"use strict";r.d(t,"a",(function(){return s}));var n=r(0),o=r.n(n);function i(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class s{constructor(e,t,r){var n=this;this.d=e,this.a=t,this.b=r,i(this,"domain",void 0),i(this,"fn",(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Float32Array(n.d),{a:r,b:i,d:s}=n;o.a.equal(e.length,s),o.a.equal(t.length,s);for(var a=0;a<s;a++)t[a]=r[a]+e[a]*(i[a]-r[a]);return t})),i(this,"sample",(function*(e,t,r){var{d:n,fn:o}=this;e=s.nPerLevel(n,e);for(var i=[[]],a=0;i.length&&a<r;){var u=i.pop();u.length<n?i.push(...c(u)):a++>=t&&(yield o(u))}function*c(t){for(var r=0;r<e;r++)yield[...t,r/e]}})),o.a.equal(t.length,e),o.a.equal(r.length,e),this.domain=e}}i(s,"nPerLevel",(e,t)=>Math.round(Math.pow(t,1/e)))},function(e,t,r){"use strict";function n(e){return null!==e&&"object"==typeof e}r.d(t,"a",(function(){return n}))},function(e,t,r){"use strict";var n,o=function(){return void 0===n&&(n=Boolean(window&&document&&document.all&&!window.atob)),n},i=function(){var e={};return function(t){if(void 0===e[t]){var r=document.querySelector(t);if(window.HTMLIFrameElement&&r instanceof window.HTMLIFrameElement)try{r=r.contentDocument.head}catch(e){r=null}e[t]=r}return e[t]}}(),s={};function a(e,t,r){for(var n=0;n<t.length;n++){var o={css:t[n][1],media:t[n][2],sourceMap:t[n][3]};s[e][n]?s[e][n](o):s[e].push(v(o,r))}}function u(e){var t=document.createElement("style"),n=e.attributes||{};if(void 0===n.nonce){var o=r.nc;o&&(n.nonce=o)}if(Object.keys(n).forEach((function(e){t.setAttribute(e,n[e])})),"function"==typeof e.insert)e.insert(t);else{var s=i(e.insert||"head");if(!s)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");s.appendChild(t)}return t}var c,l=(c=[],function(e,t){return c[e]=t,c.filter(Boolean).join("\n")});function f(e,t,r,n){var o=r?"":n.css;if(e.styleSheet)e.styleSheet.cssText=l(t,o);else{var i=document.createTextNode(o),s=e.childNodes;s[t]&&e.removeChild(s[t]),s.length?e.insertBefore(i,s[t]):e.appendChild(i)}}function p(e,t,r){var n=r.css,o=r.media,i=r.sourceMap;if(o?e.setAttribute("media",o):e.removeAttribute("media"),i&&btoa&&(n+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(i))))," */")),e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}var d=null,h=0;function v(e,t){var r,n,o;if(t.singleton){var i=h++;r=d||(d=u(t)),n=f.bind(null,r,i,!1),o=f.bind(null,r,i,!0)}else r=u(t),n=p.bind(null,r,t),o=function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(r)};return n(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;n(e=t)}else o()}}e.exports=function(e,t,r){return(r=r||{}).singleton||"boolean"==typeof r.singleton||(r.singleton=o()),e=r.base?e+r.base:e,t=t||[],s[e]||(s[e]=[]),a(e,t,r),function(t){if(t=t||[],"[object Array]"===Object.prototype.toString.call(t)){s[e]||(s[e]=[]),a(e,t,r);for(var n=t.length;n<s[e].length;n++)s[e][n]();s[e].length=t.length,0===s[e].length&&delete s[e]}}}},function(e,t,r){"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var r=function(e,t){var r=e[1]||"",n=e[3];if(!n)return r;if(t&&"function"==typeof btoa){var o=(s=n,a=btoa(unescape(encodeURIComponent(JSON.stringify(s)))),u="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(a),"/*# ".concat(u," */")),i=n.sources.map((function(e){return"/*# sourceURL=".concat(n.sourceRoot).concat(e," */")}));return[r].concat(i).concat([o]).join("\n")}var s,a,u;return[r].join("\n")}(t,e);return t[2]?"@media ".concat(t[2]," {").concat(r,"}"):r})).join("")},t.i=function(e,r){"string"==typeof e&&(e=[[null,e,""]]);for(var n=0;n<e.length;n++){var o=[].concat(e[n]);r&&(o[2]?o[2]="".concat(r," and ").concat(o[2]):o[2]=r),t.push(o)}},t}},function(e,t,r){(function(n){t.log=function(...e){return"object"==typeof console&&console.log&&console.log(...e)},t.formatArgs=function(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),!this.useColors)return;const r="color: "+this.color;t.splice(1,0,r,"color: inherit");let n=0,o=0;t[0].replace(/%[a-zA-Z%]/g,e=>{"%%"!==e&&(n++,"%c"===e&&(o=n))}),t.splice(o,0,r)},t.save=function(e){try{e?t.storage.setItem("debug",e):t.storage.removeItem("debug")}catch(e){}},t.load=function(){let e;try{e=t.storage.getItem("debug")}catch(e){}!e&&void 0!==n&&"env"in n&&(e=n.env.DEBUG);return e},t.useColors=function(){if("undefined"!=typeof window&&window.process&&("renderer"===window.process.type||window.process.__nwjs))return!0;if("undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;return"undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},t.storage=function(){try{return localStorage}catch(e){}}(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],e.exports=r(54)(t);const{formatters:o}=e.exports;o.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}}).call(this,r(19))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.rehydrateError=function(e){return Object.assign(Error(e.message),{name:e.name,stack:e.stack})},t.serializeError=function(e){return{message:e.message,name:e.name,stack:e.stack}}},function(e,t,r){"use strict";r.r(t);var n=function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function s(e){try{u(n.next(e))}catch(e){i(e)}}function a(e){try{u(n.throw(e))}catch(e){i(e)}}function u(e){e.done?o(e.value):new r((function(t){t(e.value)})).then(s,a)}u((n=n.apply(e,t||[])).next())}))};class o{constructor(e){this._baseObserver=e,this._pendingPromises=new Set}complete(){Promise.all(this._pendingPromises).then(()=>this._baseObserver.complete()).catch(e=>this._baseObserver.error(e))}error(e){this._baseObserver.error(e)}schedule(e){const t=Promise.all(this._pendingPromises),r=[],o=e=>r.push(e),i=Promise.resolve().then(()=>n(this,void 0,void 0,(function*(){yield t,yield e(o),this._pendingPromises.delete(i);for(const e of r)this._baseObserver.next(e)}))).catch(e=>{this._pendingPromises.delete(i),this._baseObserver.error(e)});this._pendingPromises.add(i)}}const i=()=>"function"==typeof Symbol,s=e=>i()&&Boolean(Symbol[e]),a=e=>s(e)?Symbol[e]:"@@"+e;s("asyncIterator")||(Symbol.asyncIterator=Symbol.asyncIterator||Symbol.for("Symbol.asyncIterator"));const u=a("iterator"),c=a("observable"),l=a("species");function f(e,t){const r=e[t];if(null!=r){if("function"!=typeof r)throw new TypeError(r+" is not a function");return r}}function p(e){let t=e.constructor;return void 0!==t&&(t=t[l],null===t&&(t=void 0)),void 0!==t?t:x}function d(e){d.log?d.log(e):setTimeout(()=>{throw e},0)}function h(e){Promise.resolve().then(()=>{try{e()}catch(e){d(e)}})}function v(e){const t=e._cleanup;if(void 0!==t&&(e._cleanup=void 0,t))try{if("function"==typeof t)t();else{const e=f(t,"unsubscribe");e&&e.call(t)}}catch(e){d(e)}}function b(e){e._observer=void 0,e._queue=void 0,e._state="closed"}function y(e,t,r){e._state="running";const n=e._observer;try{const o=n?f(n,t):void 0;switch(t){case"next":o&&o.call(n,r);break;case"error":if(b(e),!o)throw r;o.call(n,r);break;case"complete":b(e),o&&o.call(n)}}catch(e){d(e)}"closed"===e._state?v(e):"running"===e._state&&(e._state="ready")}function m(e,t,r){if("closed"!==e._state)return"buffering"===e._state?(e._queue=e._queue||[],void e._queue.push({type:t,value:r})):"ready"!==e._state?(e._state="buffering",e._queue=[{type:t,value:r}],void h(()=>(function(e){const t=e._queue;if(t){e._queue=void 0,e._state="ready";for(const r of t)if(y(e,r.type,r.value),"closed"===e._state)break}})(e))):void y(e,t,r)}class g{constructor(e,t){this._cleanup=void 0,this._observer=e,this._queue=void 0,this._state="initializing";const r=new w(this);try{this._cleanup=t.call(void 0,r)}catch(e){r.error(e)}"initializing"===this._state&&(this._state="ready")}get closed(){return"closed"===this._state}unsubscribe(){"closed"!==this._state&&(b(this),v(this))}}class w{constructor(e){this._subscription=e}get closed(){return"closed"===this._subscription._state}next(e){m(this._subscription,"next",e)}error(e){m(this._subscription,"error",e)}complete(){m(this._subscription,"complete")}}class x{constructor(e){if(!(this instanceof x))throw new TypeError("Observable cannot be called as a function");if("function"!=typeof e)throw new TypeError("Observable initializer must be a function");this._subscriber=e}subscribe(e,t,r){return"object"==typeof e&&null!==e||(e={next:e,error:t,complete:r}),new g(e,this._subscriber)}pipe(e,...t){let r=this;for(const n of[e,...t])r=n(r);return r}tap(e,t,r){const n="object"!=typeof e||null===e?{next:e,error:t,complete:r}:e;return new x(e=>this.subscribe({next(t){n.next&&n.next(t),e.next(t)},error(t){n.error&&n.error(t),e.error(t)},complete(){n.complete&&n.complete(),e.complete()},start(e){n.start&&n.start(e)}}))}forEach(e){return new Promise((t,r)=>{if("function"!=typeof e)return void r(new TypeError(e+" is not a function"));function n(){o.unsubscribe(),t()}const o=this.subscribe({next(t){try{e(t,n)}catch(e){r(e),o.unsubscribe()}},error:r,complete:t})})}map(e){if("function"!=typeof e)throw new TypeError(e+" is not a function");return new(p(this))(t=>this.subscribe({next(r){let n=r;try{n=e(r)}catch(e){return t.error(e)}t.next(n)},error(e){t.error(e)},complete(){t.complete()}}))}filter(e){if("function"!=typeof e)throw new TypeError(e+" is not a function");return new(p(this))(t=>this.subscribe({next(r){try{if(!e(r))return}catch(e){return t.error(e)}t.next(r)},error(e){t.error(e)},complete(){t.complete()}}))}reduce(e,t){if("function"!=typeof e)throw new TypeError(e+" is not a function");const r=p(this),n=arguments.length>1;let o=!1,i=t;return new r(t=>this.subscribe({next(r){const s=!o;if(o=!0,!s||n)try{i=e(i,r)}catch(e){return t.error(e)}else i=r},error(e){t.error(e)},complete(){if(!o&&!n)return t.error(new TypeError("Cannot reduce an empty sequence"));t.next(i),t.complete()}}))}concat(...e){const t=p(this);return new t(r=>{let n,o=0;return function i(s){n=s.subscribe({next(e){r.next(e)},error(e){r.error(e)},complete(){o===e.length?(n=void 0,r.complete()):i(t.from(e[o++]))}})}(this),()=>{n&&(n.unsubscribe(),n=void 0)}})}flatMap(e){if("function"!=typeof e)throw new TypeError(e+" is not a function");const t=p(this);return new t(r=>{const n=[],o=this.subscribe({next(o){let s;if(e)try{s=e(o)}catch(e){return r.error(e)}else s=o;const a=t.from(s).subscribe({next(e){r.next(e)},error(e){r.error(e)},complete(){const e=n.indexOf(a);e>=0&&n.splice(e,1),i()}});n.push(a)},error(e){r.error(e)},complete(){i()}});function i(){o.closed&&0===n.length&&r.complete()}return()=>{n.forEach(e=>e.unsubscribe()),o.unsubscribe()}})}[c](){return this}static from(e){const t="function"==typeof this?this:x;if(null==e)throw new TypeError(e+" is not an object");const r=f(e,c);if(r){const n=r.call(e);if(Object(n)!==n)throw new TypeError(n+" is not an object");return function(e){return e instanceof x}(n)&&n.constructor===t?n:new t(e=>n.subscribe(e))}if(s("iterator")){const r=f(e,u);if(r)return new t(t=>{h(()=>{if(!t.closed){for(const n of r.call(e))if(t.next(n),t.closed)return;t.complete()}})})}if(Array.isArray(e))return new t(t=>{h(()=>{if(!t.closed){for(const r of e)if(t.next(r),t.closed)return;t.complete()}})});throw new TypeError(e+" is not observable")}static of(...e){return new("function"==typeof this?this:x)(t=>{h(()=>{if(!t.closed){for(const r of e)if(t.next(r),t.closed)return;t.complete()}})})}static get[l](){return this}}i()&&Object.defineProperty(x,Symbol("extensions"),{value:{symbol:c,hostReportError:d},configurable:!0});var O=x;var E=function(e){"function"==typeof e?e():e&&"function"==typeof e.unsubscribe&&e.unsubscribe()},_=function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function s(e){try{u(n.next(e))}catch(e){i(e)}}function a(e){try{u(n.throw(e))}catch(e){i(e)}}function u(e){e.done?o(e.value):new r((function(t){t(e.value)})).then(s,a)}u((n=n.apply(e,t||[])).next())}))};var j=function(e){return t=>new O(r=>{const n=new o(r),i=t.subscribe({complete(){n.complete()},error(e){n.error(e)},next(t){n.schedule(r=>_(this,void 0,void 0,(function*(){(yield e(t))&&r(t)})))}});return()=>E(i)})};var S=function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function s(e){try{u(n.next(e))}catch(e){i(e)}}function a(e){try{u(n.throw(e))}catch(e){i(e)}}function u(e){e.done?o(e.value):new r((function(t){t(e.value)})).then(s,a)}u((n=n.apply(e,t||[])).next())}))},k=function(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,r=e[Symbol.asyncIterator];return r?r.call(e):(e="function"==typeof __values?__values(e):e[Symbol.iterator](),t={},n("next"),n("throw"),n("return"),t[Symbol.asyncIterator]=function(){return this},t);function n(r){t[r]=e[r]&&function(t){return new Promise((function(n,o){(function(e,t,r,n){Promise.resolve(n).then((function(t){e({value:t,done:r})}),t)})(n,o,(t=e[r](t)).done,t.value)}))}}};var P=function(e){return t=>new O(r=>{const n=new o(r),i=t.subscribe({complete(){n.complete()},error(e){n.error(e)},next(t){n.schedule(r=>S(this,void 0,void 0,(function*(){var n,o;const i=yield e(t);if((c=i)&&s("iterator")&&c[Symbol.iterator]||function(e){return e&&s("asyncIterator")&&e[Symbol.asyncIterator]}(i))try{for(var a,u=k(i);!(a=yield u.next()).done;){const e=a.value;r(e)}}catch(e){n={error:e}}finally{try{a&&!a.done&&(o=u.return)&&(yield o.call(u))}finally{if(n)throw n.error}}else i.map(e=>r(e));var c})))}});return()=>E(i)})};function C(e){return new x(t=>{let r=0;const n=setInterval(()=>{t.next(r++)},e);return()=>clearInterval(n)})}var T=function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function s(e){try{u(n.next(e))}catch(e){i(e)}}function a(e){try{u(n.throw(e))}catch(e){i(e)}}function u(e){e.done?o(e.value):new r((function(t){t(e.value)})).then(s,a)}u((n=n.apply(e,t||[])).next())}))};var M=function(e){return t=>new O(r=>{const n=new o(r),i=t.subscribe({complete(){n.complete()},error(e){n.error(e)},next(t){n.schedule(r=>T(this,void 0,void 0,(function*(){const n=yield e(t);r(n)})))}});return()=>E(i)})};var A=function(...e){return 0===e.length?x.from([]):new x(t=>{let r=0;const n=e.map(n=>n.subscribe({error(e){t.error(e),o()},next(e){t.next(e)},complete(){++r===e.length&&(t.complete(),o())}})),o=()=>{n.forEach(e=>E(e))};return o})};var F=class extends O{constructor(){super(e=>(this._observers.add(e),()=>this._observers.delete(e))),this._observers=new Set}next(e){for(const t of this._observers)t.next(e)}error(e){for(const t of this._observers)t.error(e)}complete(){for(const e of this._observers)e.complete()}};var L=function(e){const t=new F;let r,n=0;return new O(o=>{r||(r=e.subscribe(t));const i=t.subscribe(o);return n++,()=>{n--,i.unsubscribe(),0===n&&(E(r),r=void 0)}})},D=function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function s(e){try{u(n.next(e))}catch(e){i(e)}}function a(e){try{u(n.throw(e))}catch(e){i(e)}}function u(e){e.done?o(e.value):new r((function(t){t(e.value)})).then(s,a)}u((n=n.apply(e,t||[])).next())}))};var I=function(e,t){return r=>new O(n=>{let i,s=0;const a=new o(n),u=r.subscribe({complete(){a.complete()},error(e){a.error(e)},next(r){a.schedule(n=>D(this,void 0,void 0,(function*(){const o=0===s?void 0===t?r:t:i;i=yield e(o,r,s++),n(i)})))}});return()=>E(u)})};r.d(t,"filter",(function(){return j})),r.d(t,"flatMap",(function(){return P})),r.d(t,"interval",(function(){return C})),r.d(t,"map",(function(){return M})),r.d(t,"merge",(function(){return A})),r.d(t,"multicast",(function(){return L})),r.d(t,"Observable",(function(){return O})),r.d(t,"scan",(function(){return I})),r.d(t,"Subject",(function(){return F})),r.d(t,"unsubscribe",(function(){return E}))},function(e,t,r){"use strict";function n(e,t,r,o){this.message=e,this.expected=t,this.found=r,this.location=o,this.name="SyntaxError","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,n)}!function(e,t){function r(){this.constructor=e}r.prototype=t.prototype,e.prototype=new r}(n,Error),n.buildMessage=function(e,t){var r={literal:function(e){return'"'+o(e.text)+'"'},class:function(e){var t,r="";for(t=0;t<e.parts.length;t++)r+=e.parts[t]instanceof Array?i(e.parts[t][0])+"-"+i(e.parts[t][1]):i(e.parts[t]);return"["+(e.inverted?"^":"")+r+"]"},any:function(e){return"any character"},end:function(e){return"end of input"},other:function(e){return e.description}};function n(e){return e.charCodeAt(0).toString(16).toUpperCase()}function o(e){return e.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,(function(e){return"\\x0"+n(e)})).replace(/[\x10-\x1F\x7F-\x9F]/g,(function(e){return"\\x"+n(e)}))}function i(e){return e.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,(function(e){return"\\x0"+n(e)})).replace(/[\x10-\x1F\x7F-\x9F]/g,(function(e){return"\\x"+n(e)}))}return"Expected "+function(e){var t,n,o,i=new Array(e.length);for(t=0;t<e.length;t++)i[t]=(o=e[t],r[o.type](o));if(i.sort(),i.length>0){for(t=1,n=1;t<i.length;t++)i[t-1]!==i[t]&&(i[n]=i[t],n++);i.length=n}switch(i.length){case 1:return i[0];case 2:return i[0]+" or "+i[1];default:return i.slice(0,-1).join(", ")+", or "+i[i.length-1]}}(e)+" but "+function(e){return e?'"'+o(e)+'"':"end of input"}(t)+" found."},e.exports={SyntaxError:n,parse:function(e,t){t=void 0!==t?t:{};var r,o={},i={pipe:pt,scalar:vt},s=pt,a=function(e,t,r){return{kind:"pipe",n:e,d0:t,steps:r}},u=at("positive integer"),c=function(t){return(t=parseInt(t))<=0&&function(t,r){throw r=void 0!==r?r:ct(Xe,Ke),ft([at(t)],e.substring(Xe,Ke),r)}("a positive integer"),t},l=function(e,t){return[e,...t]},f=function(e){return[e]},p=at("cube"),d="cube",h=it("cube",!0),v=function(e,t){return kt(e,t,1)},b=at("sphere"),y="sphere",m=it("sphere",!0),g=at("spiral"),w="spiral",x=it("spiral",!0),O=function(e,t){return kt(e,t,2)},E=at("torus"),_="torus",j=it("torus",!0),S=at("fucked_up_torus"),k="fucked_up_torus",P=it("fucked_up_torus",!0),C=at("rotate"),T="r",M=it("r",!0),A="rotate",F=it("rotate",!0),L=function(e){return kt("rotate",e,3,5)},D=at("stereo"),I="stereo",q=it("stereo",!0),R=function(e){return[e]},z=at("scalar"),N=function(e,t,r){return{kind:"arith",op:t,operands:[e,r]}},U="-",$=it("-",!1),H=function(e){return{kind:"arith",op:"-",operands:[e]}},W=at("term"),B=function(e){return{kind:"number",value:e}},V=function(e,t){return{kind:"fn",name:e.toLowerCase(),args:t}},J=function(e,t){return{kind:"access",id:e,index:t}},Q=function(e){return{...e,parens:!0}},Y=function(e){return{kind:"id",id:e.toLowerCase()}},Z=function(e){return e},G=at("number"),K=function(e){return parseFloat(e)},X=function(e){return parseInt(e)},ee=at("identifier"),te=/^[a-zA-Z]/,re=st([["a","z"],["A","Z"]],!1,!1),ne=/^[a-zA-Z0-9]/,oe=st([["a","z"],["A","Z"],["0","9"]],!1,!1),ie=function(e){return e},se=at("float"),ae=/^[+\-]/,ue=st(["+","-"],!1,!1),ce=/^[0-9]/,le=st([["0","9"]],!1,!1),fe=/^[eE]/,pe=st(["e","E"],!1,!1),de=at("integer"),he=at("unsigned integer"),ve=".",be=it(".",!1),ye=at("arithmetic operator"),me="+",ge=it("+",!1),we="*",xe=it("*",!1),Oe="/",Ee=it("/",!1),_e="**",je=it("**",!1),Se="^",ke=it("^",!1),Pe=function(e){return e},Ce=at("lparen"),Te="(",Me=it("(",!1),Ae=at("rparen"),Fe=")",Le=it(")",!1),De=at("lbrack"),Ie="[",qe=it("[",!1),Re=at("rbrack"),ze="]",Ne=it("]",!1),Ue=at("comma"),$e=",",He=it(",",!1),We=at("connector"),Be="->",Ve=it("->",!1),Je="=>",Qe=it("=>",!1),Ye=at("whitespace"),Ze=/^[ \t\n\r]/,Ge=st([" ","\t","\n","\r"],!1,!1),Ke=0,Xe=0,et=[{line:1,column:1}],tt=0,rt=[],nt=0;if("startRule"in t){if(!(t.startRule in i))throw new Error("Can't start parsing from rule \""+t.startRule+'".');s=i[t.startRule]}function ot(e,t){throw function(e,t){return new n(e,null,null,t)}(e,t=void 0!==t?t:ct(Xe,Ke))}function it(e,t){return{type:"literal",text:e,ignoreCase:t}}function st(e,t,r){return{type:"class",parts:e,inverted:t,ignoreCase:r}}function at(e){return{type:"other",description:e}}function ut(t){var r,n=et[t];if(n)return n;for(r=t-1;!et[r];)r--;for(n={line:(n=et[r]).line,column:n.column};r<t;)10===e.charCodeAt(r)?(n.line++,n.column=1):n.column++,r++;return et[t]=n,n}function ct(e,t){var r=ut(e),n=ut(t);return{start:{offset:e,line:r.line,column:r.column},end:{offset:t,line:n.line,column:n.column}}}function lt(e){Ke<tt||(Ke>tt&&(tt=Ke,rt=[]),rt.push(e))}function ft(e,t,r){return new n(n.buildMessage(e,t),e,t,r)}function pt(){var e,t,r,n;return e=Ke,St()!==o&&(t=dt())!==o&&jt()!==o&&(r=dt())!==o&&jt()!==o&&(n=function e(){var t,r,n;t=Ke,(r=ht())!==o&&jt()!==o&&(n=e())!==o?(Xe=t,r=l(r,n),t=r):(Ke=t,t=o);t===o&&(t=Ke,(r=ht())!==o&&(Xe=t,r=f(r)),t=r);return t}())!==o&&St()!==o?(Xe=e,e=a(t,r,n)):(Ke=e,e=o),e}function dt(){var e,t;return nt++,e=Ke,(t=wt())!==o&&(Xe=e,t=c(t)),nt--,(e=t)===o&&(t=o,0===nt&&lt(u)),e}function ht(){var t;return(t=function(){var t,r,n;nt++,t=Ke,r=Ke,e.substr(Ke,4).toLowerCase()===d?(n=e.substr(Ke,4),Ke+=4):(n=o,0===nt&&lt(h));r=n!==o?e.substring(r,Ke):n;r!==o&&(n=yt())!==o?(Xe=t,r=v(r,n),t=r):(Ke=t,t=o);nt--,t===o&&(r=o,0===nt&&lt(p));return t}())===o&&(t=function(){var t,r,n;nt++,t=Ke,r=Ke,e.substr(Ke,6).toLowerCase()===y?(n=e.substr(Ke,6),Ke+=6):(n=o,0===nt&&lt(m));r=n!==o?e.substring(r,Ke):n;r!==o&&(n=yt())!==o?(Xe=t,r=v(r,n),t=r):(Ke=t,t=o);nt--,t===o&&(r=o,0===nt&&lt(b));return t}())===o&&(t=function(){var t,r,n;nt++,t=Ke,r=Ke,e.substr(Ke,6).toLowerCase()===w?(n=e.substr(Ke,6),Ke+=6):(n=o,0===nt&&lt(x));r=n!==o?e.substring(r,Ke):n;r!==o&&(n=yt())!==o?(Xe=t,r=O(r,n),t=r):(Ke=t,t=o);nt--,t===o&&(r=o,0===nt&&lt(g));return t}())===o&&(t=function(){var t,r,n;nt++,t=Ke,r=Ke,e.substr(Ke,5).toLowerCase()===_?(n=e.substr(Ke,5),Ke+=5):(n=o,0===nt&&lt(j));r=n!==o?e.substring(r,Ke):n;r!==o&&(n=yt())!==o?(Xe=t,r=O(r,n),t=r):(Ke=t,t=o);nt--,t===o&&(r=o,0===nt&&lt(E));return t}())===o&&(t=function(){var t,r,n;nt++,t=Ke,r=Ke,e.substr(Ke,15).toLowerCase()===k?(n=e.substr(Ke,15),Ke+=15):(n=o,0===nt&&lt(P));r=n!==o?e.substring(r,Ke):n;r!==o&&(n=yt())!==o?(Xe=t,r=O(r,n),t=r):(Ke=t,t=o);nt--,t===o&&(r=o,0===nt&&lt(S));return t}())===o&&(t=function(){var t,r,n;nt++,t=Ke,e.substr(Ke,1).toLowerCase()===T?(r=e.charAt(Ke),Ke++):(r=o,0===nt&&lt(M));r===o&&(e.substr(Ke,6).toLowerCase()===A?(r=e.substr(Ke,6),Ke+=6):(r=o,0===nt&&lt(F)));r!==o&&(n=yt())!==o?(Xe=t,r=L(n),t=r):(Ke=t,t=o);nt--,t===o&&(r=o,0===nt&&lt(C));return t}())===o&&(t=function(){var t,r,n;nt++,t=Ke,r=Ke,e.substr(Ke,6).toLowerCase()===I?(n=e.substr(Ke,6),Ke+=6):(n=o,0===nt&&lt(q));r=n!==o?e.substring(r,Ke):n;r!==o&&(n=yt())!==o?(Xe=t,r=v(r,n),t=r):(Ke=t,t=o);nt--,t===o&&(r=o,0===nt&&lt(D));return t}()),t}function vt(){var t,r,n,i;return nt++,t=Ke,(r=bt())!==o&&(n=function(){var t,r,n,i;nt++,t=Ke,(r=St())!==o?(n=Ke,43===e.charCodeAt(Ke)?(i=me,Ke++):(i=o,0===nt&&lt(ge)),i===o&&(45===e.charCodeAt(Ke)?(i=U,Ke++):(i=o,0===nt&&lt($)),i===o&&(42===e.charCodeAt(Ke)?(i=we,Ke++):(i=o,0===nt&&lt(xe)),i===o&&(47===e.charCodeAt(Ke)?(i=Oe,Ke++):(i=o,0===nt&&lt(Ee)),i===o&&(e.substr(Ke,2)===_e?(i=_e,Ke+=2):(i=o,0===nt&&lt(je)),i===o&&(94===e.charCodeAt(Ke)?(i=Se,Ke++):(i=o,0===nt&&lt(ke))))))),(n=i!==o?e.substring(n,Ke):i)!==o&&(i=St())!==o?(Xe=t,r=Pe(n),t=r):(Ke=t,t=o)):(Ke=t,t=o);nt--,t===o&&(r=o,0===nt&&lt(ye));return t}())!==o&&(i=vt())!==o?(Xe=t,t=r=N(r,n,i)):(Ke=t,t=o),t===o&&(t=bt())===o&&(t=Ke,45===e.charCodeAt(Ke)?(r=U,Ke++):(r=o,0===nt&&lt($)),r!==o&&(n=bt())!==o?(Xe=t,t=r=H(n)):(Ke=t,t=o)),nt--,t===o&&(r=o,0===nt&&lt(z)),t}function bt(){var t,r,n,i;return nt++,t=Ke,(r=function(){var t,r,n;nt++,t=Ke,(r=St())!==o&&(n=function(){var t,r,n,i,s,a,u;nt++,t=Ke,r=Ke,ae.test(e.charAt(Ke))?(n=e.charAt(Ke),Ke++):(n=o,0===nt&&lt(ue));n===o&&(n=null);n!==o?(ce.test(e.charAt(Ke))?(i=e.charAt(Ke),Ke++):(i=o,0===nt&&lt(le)),i!==o&&(s=xt())!==o?(fe.test(e.charAt(Ke))?(a=e.charAt(Ke),Ke++):(a=o,0===nt&&lt(pe)),a!==o&&(u=gt())!==o?r=n=[n,i,s,a,u]:(Ke=r,r=o)):(Ke=r,r=o)):(Ke=r,r=o);t=r!==o?e.substring(t,Ke):r;t===o&&(t=Ke,r=Ke,(n=gt())===o&&(n=null),n!==o&&(i=xt())!==o?r=n=[n,i]:(Ke=r,r=o),t=r!==o?e.substring(t,Ke):r);nt--,t===o&&(r=o,0===nt&&lt(se));return t}())!==o&&St()!==o?(Xe=t,r=K(n),t=r):(Ke=t,t=o);t===o&&(t=Ke,(r=St())!==o&&(n=gt())!==o&&St()!==o?(Xe=t,r=X(n),t=r):(Ke=t,t=o));nt--,t===o&&(r=o,0===nt&&lt(G));return t}())!==o&&(Xe=t,r=B(r)),(t=r)===o&&(t=Ke,(r=mt())!==o&&(n=yt())!==o?(Xe=t,t=r=V(r,n)):(Ke=t,t=o),t===o&&(t=Ke,(r=mt())!==o&&(n=function(){var t,r,n,i;nt++,t=Ke,(r=St())!==o?(91===e.charCodeAt(Ke)?(n=Ie,Ke++):(n=o,0===nt&&lt(qe)),n!==o&&(i=St())!==o?t=r=[r,n,i]:(Ke=t,t=o)):(Ke=t,t=o);nt--,t===o&&(r=o,0===nt&&lt(De));return t}())!==o&&(i=vt())!==o&&function(){var t,r,n,i;nt++,t=Ke,(r=St())!==o?(93===e.charCodeAt(Ke)?(n=ze,Ke++):(n=o,0===nt&&lt(Ne)),n!==o&&(i=St())!==o?t=r=[r,n,i]:(Ke=t,t=o)):(Ke=t,t=o);nt--,t===o&&(r=o,0===nt&&lt(Re));return t}()!==o?(Xe=t,t=r=J(r,i)):(Ke=t,t=o),t===o&&(t=function(){var e,t;e=Ke,(t=mt())!==o&&(Xe=e,t=Y(t));return e=t}())===o&&(t=Ke,(r=Ot())!==o&&(n=vt())!==o&&(i=Et())!==o?(Xe=t,t=r=Q(n)):(Ke=t,t=o)))),nt--,t===o&&(r=o,0===nt&&lt(W)),t}function yt(){var e,t;return e=Ke,Ot()!==o&&(t=function e(){var t,r,n;t=Ke,(r=vt())!==o&&_t()!==o&&(n=e())!==o?(Xe=t,r=l(r,n),t=r):(Ke=t,t=o);t===o&&(t=Ke,(r=vt())!==o&&(Xe=t,r=R(r)),t=r);return t}())!==o&&Et()!==o?(Xe=e,e=Z(t)):(Ke=e,e=o),e}function mt(){var t,r,n,i,s,a;if(nt++,t=Ke,St()!==o){if(r=Ke,n=Ke,te.test(e.charAt(Ke))?(i=e.charAt(Ke),Ke++):(i=o,0===nt&&lt(re)),i!==o){for(s=[],ne.test(e.charAt(Ke))?(a=e.charAt(Ke),Ke++):(a=o,0===nt&&lt(oe));a!==o;)s.push(a),ne.test(e.charAt(Ke))?(a=e.charAt(Ke),Ke++):(a=o,0===nt&&lt(oe));s!==o?n=i=[i,s]:(Ke=n,n=o)}else Ke=n,n=o;(r=n!==o?e.substring(r,Ke):n)!==o&&(n=St())!==o?(Xe=t,t=ie(r)):(Ke=t,t=o)}else Ke=t,t=o;return nt--,t===o&&(o,0===nt&&lt(ee)),t}function gt(){var t,r,n,i;return nt++,t=Ke,r=Ke,ae.test(e.charAt(Ke))?(n=e.charAt(Ke),Ke++):(n=o,0===nt&&lt(ue)),n===o&&(n=null),n!==o&&(i=wt())!==o?r=n=[n,i]:(Ke=r,r=o),t=r!==o?e.substring(t,Ke):r,nt--,t===o&&(r=o,0===nt&&lt(de)),t}function wt(){var t,r,n;if(nt++,t=Ke,r=[],ce.test(e.charAt(Ke))?(n=e.charAt(Ke),Ke++):(n=o,0===nt&&lt(le)),n!==o)for(;n!==o;)r.push(n),ce.test(e.charAt(Ke))?(n=e.charAt(Ke),Ke++):(n=o,0===nt&&lt(le));else r=o;return t=r!==o?e.substring(t,Ke):r,nt--,t===o&&(r=o,0===nt&&lt(he)),t}function xt(){var t,r,n,i;return t=Ke,r=Ke,46===e.charCodeAt(Ke)?(n=ve,Ke++):(n=o,0===nt&&lt(be)),n!==o&&(i=wt())!==o?r=n=[n,i]:(Ke=r,r=o),t=r!==o?e.substring(t,Ke):r}function Ot(){var t,r,n,i;return nt++,t=Ke,(r=St())!==o?(40===e.charCodeAt(Ke)?(n=Te,Ke++):(n=o,0===nt&&lt(Me)),n!==o&&(i=St())!==o?t=r=[r,n,i]:(Ke=t,t=o)):(Ke=t,t=o),nt--,t===o&&(r=o,0===nt&&lt(Ce)),t}function Et(){var t,r,n,i;return nt++,t=Ke,(r=St())!==o?(41===e.charCodeAt(Ke)?(n=Fe,Ke++):(n=o,0===nt&&lt(Le)),n!==o&&(i=St())!==o?t=r=[r,n,i]:(Ke=t,t=o)):(Ke=t,t=o),nt--,t===o&&(r=o,0===nt&&lt(Ae)),t}function _t(){var t,r,n,i;return nt++,t=Ke,(r=St())!==o?(44===e.charCodeAt(Ke)?(n=$e,Ke++):(n=o,0===nt&&lt(He)),n!==o&&(i=St())!==o?t=r=[r,n,i]:(Ke=t,t=o)):(Ke=t,t=o),nt--,t===o&&(r=o,0===nt&&lt(Ue)),t}function jt(){var t,r,n,i;return nt++,t=Ke,(r=St())!==o?(n=Ke,e.substr(Ke,2)===Be?(i=Be,Ke+=2):(i=o,0===nt&&lt(Ve)),i===o&&(i=function(){var t,r,n;nt++,t=Ke,r=[],Ze.test(e.charAt(Ke))?(n=e.charAt(Ke),Ke++):(n=o,0===nt&&lt(Ge));if(n!==o)for(;n!==o;)r.push(n),Ze.test(e.charAt(Ke))?(n=e.charAt(Ke),Ke++):(n=o,0===nt&&lt(Ge));else r=o;t=r!==o?e.substring(t,Ke):r;nt--,t===o&&(r=o,0===nt&&lt(Ye));return t}())===o&&(e.substr(Ke,2)===Je?(i=Je,Ke+=2):(i=o,0===nt&&lt(Qe))),(n=i!==o?e.substring(n,Ke):i)!==o&&(i=St())!==o?t=r=[r,n,i]:(Ke=t,t=o)):(Ke=t,t=o),nt--,t===o&&(r=o,0===nt&&lt(We)),t}function St(){var t,r;for(nt++,t=[],Ze.test(e.charAt(Ke))?(r=e.charAt(Ke),Ke++):(r=o,0===nt&&lt(Ge));r!==o;)t.push(r),Ze.test(e.charAt(Ke))?(r=e.charAt(Ke),Ke++):(r=o,0===nt&&lt(Ge));return nt--,t===o&&(r=o,0===nt&&lt(Ye)),t}function kt(e,t,r,n=r){return t.length<r?ot(`expected ${e} to have at least ${r} argument${1==r?"":"s"}, but found ${t.length} instead`):t.length>n&&ot(`expected ${e} to have at most ${n} argument${1==n?"":"s"}, but found ${t.length} instead`),{kind:"step",type:e,args:t}}if((r=s())!==o&&Ke===e.length)return r;throw r!==o&&Ke<e.length&&lt({type:"end"}),ft(rt,tt<e.length?e.charAt(tt):null,tt<e.length?ct(tt,tt+1):ct(tt,tt))}}},function(e,t,r){"use strict";var n=r(1),o=r(5),i=r(3),s=r(4),a=r(10),u=function(e){function t(t,r){var n=e.call(this)||this;return n.subject=t,n.subscriber=r,n.closed=!1,n}return n.a(t,e),t.prototype.unsubscribe=function(){if(!this.closed){this.closed=!0;var e=this.subject,t=e.observers;if(this.subject=null,t&&0!==t.length&&!e.isStopped&&!e.closed){var r=t.indexOf(this.subscriber);-1!==r&&t.splice(r,1)}}},t}(s.a),c=r(12);r.d(t,"a",(function(){return f}));var l=function(e){function t(t){var r=e.call(this,t)||this;return r.destination=t,r}return n.a(t,e),t}(i.a),f=function(e){function t(){var t=e.call(this)||this;return t.observers=[],t.closed=!1,t.isStopped=!1,t.hasError=!1,t.thrownError=null,t}return n.a(t,e),t.prototype[c.a]=function(){return new l(this)},t.prototype.lift=function(e){var t=new p(this,this);return t.operator=e,t},t.prototype.next=function(e){if(this.closed)throw new a.a;if(!this.isStopped)for(var t=this.observers,r=t.length,n=t.slice(),o=0;o<r;o++)n[o].next(e)},t.prototype.error=function(e){if(this.closed)throw new a.a;this.hasError=!0,this.thrownError=e,this.isStopped=!0;for(var t=this.observers,r=t.length,n=t.slice(),o=0;o<r;o++)n[o].error(e);this.observers.length=0},t.prototype.complete=function(){if(this.closed)throw new a.a;this.isStopped=!0;for(var e=this.observers,t=e.length,r=e.slice(),n=0;n<t;n++)r[n].complete();this.observers.length=0},t.prototype.unsubscribe=function(){this.isStopped=!0,this.closed=!0,this.observers=null},t.prototype._trySubscribe=function(t){if(this.closed)throw new a.a;return e.prototype._trySubscribe.call(this,t)},t.prototype._subscribe=function(e){if(this.closed)throw new a.a;return this.hasError?(e.error(this.thrownError),s.a.EMPTY):this.isStopped?(e.complete(),s.a.EMPTY):(this.observers.push(e),new u(this,e))},t.prototype.asObservable=function(){var e=new o.a;return e.source=this,e},t.create=function(e,t){return new p(e,t)},t}(o.a),p=function(e){function t(t,r){var n=e.call(this)||this;return n.destination=t,n.source=r,n}return n.a(t,e),t.prototype.next=function(e){var t=this.destination;t&&t.next&&t.next(e)},t.prototype.error=function(e){var t=this.destination;t&&t.error&&this.destination.error(e)},t.prototype.complete=function(){var e=this.destination;e&&e.complete&&this.destination.complete()},t.prototype._subscribe=function(e){return this.source?this.source.subscribe(e):s.a.EMPTY},t}(f)},function(e,t){var r;r=function(){return this}();try{r=r||new Function("return this")()}catch(e){"object"==typeof window&&(r=window)}e.exports=r},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(52),o=navigator.hardwareConcurrency||4,i=e=>/^(file|https?:)?\/\//i.test(e);function s(e){const t=new Blob([e],{type:"application/javascript"});return URL.createObjectURL(t)}t.default={defaultPoolSize:o,selectWorkerImplementation:function(){return"undefined"==typeof Worker?class{constructor(){throw Error("No web worker implementation available. You might have tried to spawn a worker within a worker in a browser that doesn't support workers in workers.")}}:class extends Worker{constructor(e,t){"string"==typeof e&&t&&t._baseURL?e=new URL(e,t._baseURL):"string"==typeof e&&!i(e)&&n.getBundleURL().match(/^file:\/\//i)&&(e=new URL(e,n.getBundleURL().replace(/\/[^\/]+$/,"/")),e=s(`importScripts(${JSON.stringify(e)});`)),"string"==typeof e&&i(e)&&(e=s(`importScripts(${JSON.stringify(e)});`)),super(e,t)}}}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(30),o=()=>void 0,i=e=>e,s=e=>Promise.resolve().then(e);function a(e){throw e}function u(e){let t=!1;const r=[],u=[];let c,l,f=!1,p="pending";const d=new n.Observable(n=>{const o=Object.assign(Object.assign({},n),{complete(){n.complete(),(()=>{p="fulfilled";for(const e of r)s(()=>e(c))})()},error(e){n.error(e),(e=>{p="rejected",l=e;for(const t of u)s(()=>t(e))})(e)},next(e){n.next(e),(e=>{f||(c=e,f=!0)})(e)}}),i=e=>{void 0!==e&&o.next(e),o.complete()},a=o.error.bind(o);try{return t=!0,e(i,a,o)}catch(e){a(e)}});function h(e,n){const o=e||i,s=n||a;let f=!1;return new Promise((e,n)=>{const i=t=>{if(!f){f=!0;try{e(s(t))}catch(e){n(e)}}};return t||d.subscribe({error:i}),"fulfilled"===p?e(o(c)):"rejected"===p?(f=!0,e(s(l))):(r.push(t=>{try{e(o(t))}catch(e){i(e)}}),void u.push(i))})}return Object.assign(d,{[Symbol.toStringTag]:"[object ObservablePromise]",then:h,catch:e=>h(void 0,e),finally:e=>(e=e||o,h(t=>(e(),t),()=>e()))})}t.ObservablePromise=u,t.makeHot=function(e){let t=[];return e.subscribe({complete(){t.forEach(e=>e.complete())},error(e){t.forEach(t=>t.error(e))},next(e){t.forEach(t=>t.next(e))}}),u((e,r,n)=>{t.push(n);return()=>{t=t.filter(e=>e!==n)}})}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(20);function o(e){throw Error(e)}t.Thread={errors:e=>e[n.$errors]||o("Error observable not found. Make sure to pass a thread instance as returned by the spawn() promise."),events:e=>e[n.$events]||o("Events observable not found. Make sure to pass a thread instance as returned by the spawn() promise."),terminate:e=>e[n.$terminate]()}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.run="run"}(t.MasterMessageType||(t.MasterMessageType={})),function(e){e.error="error",e.init="init",e.result="result",e.running="running",e.uncaughtError="uncaughtError"}(t.WorkerMessageType||(t.WorkerMessageType={}))},function(e,t,r){"use strict";function n(e){var t,r=e.Symbol;return"function"==typeof r?r.observable?t=r.observable:(t=r("observable"),r.observable=t):t="@@observable",t}r.d(t,"a",(function(){return n}))},function(e,t,r){!function(){"use strict";var t=self.HTMLInputElement&&"valueLow"in HTMLInputElement.prototype,r=Object.getOwnPropertyDescriptor(HTMLInputElement.prototype,"value"),n=function(e){if(!t&&!e.classList.contains("multirange")){var n=e.getAttribute("value"),o=null===n?[]:n.split(","),i=+(e.min||0),s=+(e.max||100),a=e.cloneNode();e.classList.add("multirange","original"),a.classList.add("multirange","ghost"),e.value=o[0]||i+(s-i)/2,a.value=o[1]||i+(s-i)/2,e.parentNode.insertBefore(a,e.nextSibling),Object.defineProperty(e,"originalValue",r.get?r:{get:function(){return this.value},set:function(e){this.value=e}}),Object.defineProperties(e,{valueLow:{get:function(){return Math.min(this.originalValue,a.value)},set:function(e){this.originalValue=e},enumerable:!0},valueHigh:{get:function(){return Math.max(this.originalValue,a.value)},set:function(e){a.value=e},enumerable:!0}}),r.get&&Object.defineProperty(e,"value",{get:function(){return this.valueLow+","+this.valueHigh},set:function(e){var t=e.split(",");this.valueLow=t[0],this.valueHigh=t[1],u()},enumerable:!0}),"function"==typeof e.oninput&&(a.oninput=e.oninput.bind(e)),e.addEventListener("input",u),a.addEventListener("input",u),u()}function u(){a.style.setProperty("--low",(e.valueLow-i)/(s-i)*100+1+"%"),a.style.setProperty("--high",(e.valueHigh-i)/(s-i)*100-1+"%")}};n.init=function(){[].slice.call(document.querySelectorAll("input[type=range][multiple]:not(.multirange)")).forEach(n)},e.exports=n}()},function(e,t,r){e.exports=r.p+"36401cddde65b9c1f686.worklet.js"},function(e,t,r){"use strict";var n=r(0),o=r.n(n),i=r(23);function s(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class a{constructor(e){var t=this;this.fns=e,s(this,"x",void 0),s(this,"y",void 0),s(this,"sample",(function*(e,t,r){var{fns:n,d:o}=this,[i,...s]=n;if(0==n.length)return[];for(var u of i.sample(e,t,r))this.x.set(u),s.length?a.apply(s,this.x,this.y):this.y.set(u),yield this.y.subarray(0,o)})),s(this,"fn",(function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Float32Array(t.d),{fns:n,domain:i,d:s}=t;return o.a.equal(e.length,i),o.a.equal(r.length,s),t.x.set(e),a.apply(n,t.x,t.y),r.set(t.y.subarray(0,s)),r})),o()(e.length,"fns cannot be empty");var r=Math.max(this.domainMax,this.dMax);this.x=new Float32Array(r),this.y=new Float32Array(r)}get first(){return this.fns[0]}get last(){return this.fns[this.fns.length-1]}get domain(){return this.first.domain}get d(){return this.last.d}get domainMax(){return this.fns.reduce((e,t)=>Math.max(t.domain,e),0)}get dMax(){return this.fns.reduce((e,t)=>Math.max(t.d,e),0)}}s(a,"apply",(e,t,r)=>{for(var n of(o.a.equal(t.length,r.length),e)){n.fn(t.subarray(0,n.domain),r.subarray(0,n.d));for(var s=0;s<r.length;s++)isFinite(r[s])||(r[s]=Math.sign(r[s])*i.a);t.set(r)}}),s(a,"Builder",class{constructor(){s(this,"fns",[]),s(this,"add",e=>{var{fns:t,last:r}=this;if(r&&e.domain!==r.d)throw new Error("Cannot add ".concat(e," to composite, because its domain is not ").concat(r.d));return t.push(e),this}),s(this,"build",()=>new a(this.fns))}get d(){return this.last.d}get last(){return this.fns[this.fns.length-1]}});var u=r(24);function c(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class l{constructor(e,t){this.d=e,this.l=t,c(this,"interval",void 0),c(this,"fn",(e,t)=>this.interval.fn(e,t)),c(this,"sample",(e,t,r)=>this.interval.sample(e,t,r)),this.interval=new u.a(e,new Array(e).fill(-t/2),new Array(e).fill(t/2))}get domain(){return this.d}}function f(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class p{constructor(e,t,r,n){var i=this,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Math.cos,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:Math.sin;this.d=e,this.theta=t,this.d0=r,this.d1=n,this.f0=s,this.f1=a,f(this,"r0",void 0),f(this,"r1",void 0),f(this,"sample",(function*(e,t,r){var n=new l(this.domain,2);for(var o of n.sample(e,t,r))yield this.fn(o)})),f(this,"fn",(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Float32Array(i.d),{d:r,d0:n,d1:s,r0:a,r1:u}=i;o.a.equal(e.length,r),o.a.equal(t.length,r),t.set(e);var c=e[n],l=e[s];return t[n]=c*a-l*u,t[s]=c*u+l*a,t})),this.r0=s(t),this.r1=a(t)}get domain(){return this.d}}function d(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class h{constructor(e,t){var r=this;this.d=e,d(this,"root",void 0),d(this,"sample",(function*(e,t,r){var n=new l(this.domain,2*Math.PI);for(var o of n.sample(e,t,r))yield this.fn(o)})),d(this,"fn",(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Float32Array(r.d),{d:n,root:i}=r;o.a.equal(e.length,n-1),o.a.equal(t.length,n);var s=new a(Array.from(new Array(n-1).keys()).map(t=>new p(n,e[t],0,t+1)));return s.fn(i,t),t})),this.root=new Float32Array(e),this.root[0]=t}get domain(){return this.d-1}}function v(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class b{constructor(e,t,r){var n=this;this.d=e,this.r=t,this.t=r,v(this,"sphere",void 0),v(this,"circle",void 0),v(this,"sample",(function*(e,t,r){var n=new l(this.domain,2*Math.PI);for(var o of n.sample(e,t,r))yield this.fn(o)})),v(this,"fn",(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Float32Array(n.d),{domain:r,d:i,sphere:s,circle:a}=n;o.a.equal(e.length,r),o.a.equal(t.length,i),s.fn(e,t);var u=a.fn(e.subarray(i-2));return t[0]+=u[0],t[i-1]+=u[1],t})),this.sphere=new h(e,r),this.circle=new h(2,t)}get domain(){return this.d-1}}function y(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class m{constructor(e){var t=this;this.d=e,y(this,"domain",void 0),y(this,"fn",(function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Float32Array(t.d),{d:n}=t;return o.a.equal(e.length,n),o.a.equal(r.length,n),r.set(e),r})),y(this,"sample",(function*(e,t,r){throw new Error("identity function does not support sampling")})),this.domain=e}}function g(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class w{constructor(e,t,r){var n=this;this.d=e,this.a=t,this.k=r,g(this,"sphere",void 0),g(this,"sample",(function*(e,t,r){var n=new l(this.domain,4*Math.PI);for(var o of n.sample(e,t,r))yield this.fn(o)})),g(this,"fn",(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Float32Array(n.d),{a:r,k:i,domain:s,d:a}=n;o.a.equal(e.length,a-1),o.a.equal(t.length,a),n.sphere.fn(e,t);for(var u=0,c=0;c<s;c++)u+=i[c]*e[c];for(var l=Math.exp(u),f=0;f<a;f++)t[f]=t[f]*r[f]*l;return t})),this.sphere=new h(e,1)}get domain(){return this.d-1}}function x(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class O{constructor(e,t){var r=this;this.from=e,this.to=t,x(this,"fromTemp",void 0),x(this,"toTemp",void 0),x(this,"sample",(function*(e,t,r){var n=new l(this.domain,2);for(var o of n.sample(e,t,r))yield this.fn(o)})),x(this,"fn",(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Float32Array(r.to),{from:n,to:i,fromTemp:s,toTemp:a}=r;if(o.a.equal(e.length,n),o.a.equal(t.length,i),n===i)return t.set(e),t;for(s.set(e);n<i;)O.up(s.subarray(0,n),a.subarray(0,++n)),s.set(a);for(;n>i;)O.down(s.subarray(0,n),a.subarray(0,--n)),s.set(a);return t.set(a.subarray(0,i)),t})),this.fromTemp=new Float32Array(Math.max(e,t)),this.toTemp=new Float32Array(Math.max(e,t))}get domain(){return this.from}get d(){return this.to}}x(O,"up",(e,t)=>{o.a.equal(t.length,e.length+1);var r=E(e),n=r+1;t[0]=(r-1)/n;for(var i=1;i<=e.length;i++)t[i]=2*e[i-1]/n}),x(O,"down",(e,t)=>{o.a.equal(t.length,e.length-1);for(var r=0;r<t.length;r++)t[r]=e[r+1]/(1-e[0])});var E=e=>{for(var t=0,r=0;r<e.length;r++)t+=e[r]*e[r];return t};function _(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class j{constructor(e,t,r){var n=this;this.d=e,this.r=t,this.t=r,_(this,"cross",void 0),_(this,"sample",(function*(e,t,r){var n=new l(this.domain,2*Math.PI);for(var o of n.sample(e,t,r))yield this.fn(o)})),_(this,"fn",(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Float32Array(n.d),{cross:r,d:i,r:s}=n;o.a.equal(e.length,i-1,"torus expects an input of ".concat(i-1,"; got ").concat(e.length));var a=new p(i,e[i-2],0,i-1);return r.fn(e.subarray(0,i-2),t.subarray(0,i-1)),t[0]+=s,a.fn(t,t),t})),o()(e>2,"torus is only defined for d > 2; got ".concat(e)),this.cross=new h(e-1,r)}get domain(){return this.d-1}}var S=r(7);function k(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}r.d(t,"a",(function(){return P}));class P{constructor(e){this.scope=e,k(this,"resolvePipe",e=>{var[t,...r]=e.steps,n=[],o=this.resolveStep(e.d0,t);n.push(o);for(var i=0;i<r.length;i++)n.push(this.resolveStep(n[i].fn.d,r[i]));var[s,a]=this.buildComposites(n);return{n:e.n,staticFn:s,dynamicFn:a}}),k(this,"buildComposites",e=>{for(var t=new a.Builder;e.length&&!e[0].isDynamic;)t.add(e.shift().fn);var r=t.build();for(t=(new a.Builder).add(new m(r.d));e.length;)t.add(e.shift().fn);return[r,t.build()]}),k(this,"resolveStep",(e,t)=>{var{type:r,args:n}=t,o=M[r](e);return{fn:T[r](o,...n.map(e=>this.resolve(e))),isDynamic:n.some(this.isNodeDynamic)}}),k(this,"resolveFn",e=>{var{name:t,args:r}=e,n=Math[t];return o()("function"==typeof n,"Expected ".concat(t," to be a Math function in ").concat(Object(S.a)({name:t,args:r}))),n(...r.map(e=>this.resolve(e)))}),k(this,"resolveAccess",e=>{var{id:t,index:r}=e,n=this.scope,i=n[t];return o()(i,"Unable to resolve ".concat(t," in scope ").concat(Object(S.a)(n,2))),i[this.resolve(r,"number")]}),k(this,"resolveId",e=>{if(e in this.scope)return this.scope[e];if(e in Math)return Math[e];var t=e.toUpperCase();if(t in Math)return Math[t];o.a.fail("unable to resolve id ".concat(e," in scope ").concat(Object(S.a)(this.scope,2)))}),k(this,"resolveArith",e=>{var{op:t,operands:r}=e,[n,o]=r.map(e=>this.resolve(e,"number"));return C[t](n,o)}),k(this,"isNodeDynamic",e=>{switch(e.kind){case"fn":return e.args.some(this.isNodeDynamic);case"id":return"number"==typeof this.resolve(e);case"arith":return e.operands.some(this.isNodeDynamic);default:return!1}})}resolve(e,t){var r;switch(e.kind){case"pipe":r=this.resolvePipe(e);break;case"number":r=e.value;break;case"fn":r=this.resolveFn(e);break;case"access":r=this.resolveAccess(e);break;case"id":r=this.resolveId(e.id);break;case"arith":r=this.resolveArith(e)}if(t){var n=typeof r;o.a.equal(n,t,"Expected identifier ".concat(e.id," to resolve to a ").concat(t,", but was ").concat(n," instead.")),"number"===t&&isNaN(r)&&o.a.fail("Expected node ".concat(Object(S.a)(e)," to resolve to a valid value, but was NaN instead."))}return r}}var C={"+":(e,t)=>e+t,"-":(e,t)=>null==t?-e:e-t,"*":(e,t)=>e*t,"/":(e,t)=>e/t,"**":(e,t)=>e**t,"^":(e,t)=>e**t},T={cube:(e,t)=>new l(e,t),sphere:(e,t)=>new h(e,t),spiral:(e,t,r)=>new w(e,new Array(e).fill(t),new Array(e-1).fill(r)),torus:(e,t,r)=>new j(e,t,r),fucked_up_torus:(e,t,r)=>new b(e,t,r),rotate:function(e,t,r,n){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Math.cos,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:Math.sin;return o()(0<=r&&r<e,"rotate: Expected 0 <= d0 = ".concat(r," < d = ").concat(e)),o()(0<=n&&n<e,"rotate: Expected 0 <= d1 = ".concat(n," < d = ").concat(e)),new p(e,t,r,n,i,s)},stereo:(e,t)=>new O(e,t)},M={cube:e=>e,sphere:e=>e+1,spiral:e=>e+1,torus:e=>e+1,fucked_up_torus:e=>e+1,rotate:e=>e,r:e=>e,stereo:e=>e}},function(e,t,r){var n=r(26),o=r(43);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[e.i,o,""]]);var i={insert:"head",singleton:!1},s=(n(e.i,o,i),o.locals?o.locals:{});e.exports=s},function(e,t,r){(t=r(27)(!1)).push([e.i,'@supports (--css: variables) {\n\tinput[type="range"].multirange {\n\t\tpadding: 0;\n\t\tmargin: 0;\n\t\tdisplay: inline-block;\n\t\tvertical-align: top;\n\t}\n\n\tinput[type="range"].multirange.original {\n\t\tposition: absolute;\n\t}\n\n\t\tinput[type="range"].multirange.original::-webkit-slider-thumb {\n\t\t\tposition: relative;\n\t\t\tz-index: 2;\n\t\t}\n\n\t\tinput[type="range"].multirange.original::-moz-range-thumb {\n\t\t\ttransform: scale(1); /* FF doesn\'t apply position it seems */\n\t\t\tz-index: 1;\n\t\t}\n\n\t\tinput[type="range"].multirange::-moz-range-track {\n\t\t\tborder-color: transparent; /* needed to switch FF to "styleable" control */\n\t\t}\n\n\tinput[type="range"].multirange.ghost {\n\t\tposition: relative;\n\t\tbackground: var(--track-background);\n\t\t--track-background: linear-gradient(to right,\n\t\t\t\ttransparent var(--low), var(--range-color) 0,\n\t\t\t\tvar(--range-color) var(--high), transparent 0\n\t\t\t) no-repeat 0 45% / 100% 40%;\n\t\t--range-color: hsl(190, 80%, 40%);\n\t}\n\n\t\tinput[type="range"].multirange.ghost::-webkit-slider-runnable-track {\n\t\t\tbackground: var(--track-background);\n\t\t}\n\n\t\tinput[type="range"].multirange.ghost::-moz-range-track {\n\t\t\tbackground: var(--track-background);\n\t\t}\n\n}\n',""]),e.exports=t},function(e,t,r){var n=r(26),o=r(45);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[e.i,o,""]]);var i={insert:"head",singleton:!1},s=(n(e.i,o,i),o.locals?o.locals:{});e.exports=s},function(e,t,r){(t=r(27)(!1)).push([e.i,'body{color:white;cursor:wait;font-family:"FiraCode Nerd Font",FiraCode,Roboto,Helvetica;font-size:16px;margin:auto;overflow:hidden}body h1{left:0;margin:8px;position:absolute;top:0}body.data{cursor:auto}body.data.cursor-inactive{cursor:none}input,textarea{font-family:"FiraCode Nerd Font",FiraCode,Roboto,Helvetica;font-size:16px}\n',""]),e.exports=t},function(e,t,r){"use strict";
/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var n=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,i=Object.prototype.propertyIsEnumerable;function s(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},r=0;r<10;r++)t["_"+String.fromCharCode(r)]=r;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var n={};return"abcdefghijklmnopqrst".split("").forEach((function(e){n[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},n)).join("")}catch(e){return!1}}()?Object.assign:function(e,t){for(var r,a,u=s(e),c=1;c<arguments.length;c++){for(var l in r=Object(arguments[c]))o.call(r,l)&&(u[l]=r[l]);if(n){a=n(r);for(var f=0;f<a.length;f++)i.call(r,a[f])&&(u[a[f]]=r[a[f]])}}return u}},function(e,t,r){(function(e){var n=Object.getOwnPropertyDescriptors||function(e){for(var t=Object.keys(e),r={},n=0;n<t.length;n++)r[t[n]]=Object.getOwnPropertyDescriptor(e,t[n]);return r},o=/%[sdj%]/g;t.format=function(e){if(!y(e)){for(var t=[],r=0;r<arguments.length;r++)t.push(a(arguments[r]));return t.join(" ")}r=1;for(var n=arguments,i=n.length,s=String(e).replace(o,(function(e){if("%%"===e)return"%";if(r>=i)return e;switch(e){case"%s":return String(n[r++]);case"%d":return Number(n[r++]);case"%j":try{return JSON.stringify(n[r++])}catch(e){return"[Circular]"}default:return e}})),u=n[r];r<i;u=n[++r])v(u)||!w(u)?s+=" "+u:s+=" "+a(u);return s},t.deprecate=function(r,n){if(void 0!==e&&!0===e.noDeprecation)return r;if(void 0===e)return function(){return t.deprecate(r,n).apply(this,arguments)};var o=!1;return function(){if(!o){if(e.throwDeprecation)throw new Error(n);e.traceDeprecation?console.trace(n):console.error(n),o=!0}return r.apply(this,arguments)}};var i,s={};function a(e,r){var n={seen:[],stylize:c};return arguments.length>=3&&(n.depth=arguments[2]),arguments.length>=4&&(n.colors=arguments[3]),h(r)?n.showHidden=r:r&&t._extend(n,r),m(n.showHidden)&&(n.showHidden=!1),m(n.depth)&&(n.depth=2),m(n.colors)&&(n.colors=!1),m(n.customInspect)&&(n.customInspect=!0),n.colors&&(n.stylize=u),l(n,e,n.depth)}function u(e,t){var r=a.styles[t];return r?"["+a.colors[r][0]+"m"+e+"["+a.colors[r][1]+"m":e}function c(e,t){return e}function l(e,r,n){if(e.customInspect&&r&&E(r.inspect)&&r.inspect!==t.inspect&&(!r.constructor||r.constructor.prototype!==r)){var o=r.inspect(n,e);return y(o)||(o=l(e,o,n)),o}var i=function(e,t){if(m(t))return e.stylize("undefined","undefined");if(y(t)){var r="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(r,"string")}if(b(t))return e.stylize(""+t,"number");if(h(t))return e.stylize(""+t,"boolean");if(v(t))return e.stylize("null","null")}(e,r);if(i)return i;var s=Object.keys(r),a=function(e){var t={};return e.forEach((function(e,r){t[e]=!0})),t}(s);if(e.showHidden&&(s=Object.getOwnPropertyNames(r)),O(r)&&(s.indexOf("message")>=0||s.indexOf("description")>=0))return f(r);if(0===s.length){if(E(r)){var u=r.name?": "+r.name:"";return e.stylize("[Function"+u+"]","special")}if(g(r))return e.stylize(RegExp.prototype.toString.call(r),"regexp");if(x(r))return e.stylize(Date.prototype.toString.call(r),"date");if(O(r))return f(r)}var c,w="",_=!1,j=["{","}"];(d(r)&&(_=!0,j=["[","]"]),E(r))&&(w=" [Function"+(r.name?": "+r.name:"")+"]");return g(r)&&(w=" "+RegExp.prototype.toString.call(r)),x(r)&&(w=" "+Date.prototype.toUTCString.call(r)),O(r)&&(w=" "+f(r)),0!==s.length||_&&0!=r.length?n<0?g(r)?e.stylize(RegExp.prototype.toString.call(r),"regexp"):e.stylize("[Object]","special"):(e.seen.push(r),c=_?function(e,t,r,n,o){for(var i=[],s=0,a=t.length;s<a;++s)P(t,String(s))?i.push(p(e,t,r,n,String(s),!0)):i.push("");return o.forEach((function(o){o.match(/^\d+$/)||i.push(p(e,t,r,n,o,!0))})),i}(e,r,n,a,s):s.map((function(t){return p(e,r,n,a,t,_)})),e.seen.pop(),function(e,t,r){if(e.reduce((function(e,t){return t.indexOf("\n")>=0&&0,e+t.replace(/\u001b\[\d\d?m/g,"").length+1}),0)>60)return r[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+r[1];return r[0]+t+" "+e.join(", ")+" "+r[1]}(c,w,j)):j[0]+w+j[1]}function f(e){return"["+Error.prototype.toString.call(e)+"]"}function p(e,t,r,n,o,i){var s,a,u;if((u=Object.getOwnPropertyDescriptor(t,o)||{value:t[o]}).get?a=u.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):u.set&&(a=e.stylize("[Setter]","special")),P(n,o)||(s="["+o+"]"),a||(e.seen.indexOf(u.value)<0?(a=v(r)?l(e,u.value,null):l(e,u.value,r-1)).indexOf("\n")>-1&&(a=i?a.split("\n").map((function(e){return"  "+e})).join("\n").substr(2):"\n"+a.split("\n").map((function(e){return"   "+e})).join("\n")):a=e.stylize("[Circular]","special")),m(s)){if(i&&o.match(/^\d+$/))return a;(s=JSON.stringify(""+o)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(s=s.substr(1,s.length-2),s=e.stylize(s,"name")):(s=s.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),s=e.stylize(s,"string"))}return s+": "+a}function d(e){return Array.isArray(e)}function h(e){return"boolean"==typeof e}function v(e){return null===e}function b(e){return"number"==typeof e}function y(e){return"string"==typeof e}function m(e){return void 0===e}function g(e){return w(e)&&"[object RegExp]"===_(e)}function w(e){return"object"==typeof e&&null!==e}function x(e){return w(e)&&"[object Date]"===_(e)}function O(e){return w(e)&&("[object Error]"===_(e)||e instanceof Error)}function E(e){return"function"==typeof e}function _(e){return Object.prototype.toString.call(e)}function j(e){return e<10?"0"+e.toString(10):e.toString(10)}t.debuglog=function(r){if(m(i)&&(i=e.env.NODE_DEBUG||""),r=r.toUpperCase(),!s[r])if(new RegExp("\\b"+r+"\\b","i").test(i)){var n=e.pid;s[r]=function(){var e=t.format.apply(t,arguments);console.error("%s %d: %s",r,n,e)}}else s[r]=function(){};return s[r]},t.inspect=a,a.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},a.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},t.isArray=d,t.isBoolean=h,t.isNull=v,t.isNullOrUndefined=function(e){return null==e},t.isNumber=b,t.isString=y,t.isSymbol=function(e){return"symbol"==typeof e},t.isUndefined=m,t.isRegExp=g,t.isObject=w,t.isDate=x,t.isError=O,t.isFunction=E,t.isPrimitive=function(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e},t.isBuffer=r(48);var S=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function k(){var e=new Date,t=[j(e.getHours()),j(e.getMinutes()),j(e.getSeconds())].join(":");return[e.getDate(),S[e.getMonth()],t].join(" ")}function P(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.log=function(){console.log("%s - %s",k(),t.format.apply(t,arguments))},t.inherits=r(49),t._extend=function(e,t){if(!t||!w(t))return e;for(var r=Object.keys(t),n=r.length;n--;)e[r[n]]=t[r[n]];return e};var C="undefined"!=typeof Symbol?Symbol("util.promisify.custom"):void 0;function T(e,t){if(!e){var r=new Error("Promise was rejected with a falsy value");r.reason=e,e=r}return t(e)}t.promisify=function(e){if("function"!=typeof e)throw new TypeError('The "original" argument must be of type Function');if(C&&e[C]){var t;if("function"!=typeof(t=e[C]))throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(t,C,{value:t,enumerable:!1,writable:!1,configurable:!0}),t}function t(){for(var t,r,n=new Promise((function(e,n){t=e,r=n})),o=[],i=0;i<arguments.length;i++)o.push(arguments[i]);o.push((function(e,n){e?r(e):t(n)}));try{e.apply(this,o)}catch(e){r(e)}return n}return Object.setPrototypeOf(t,Object.getPrototypeOf(e)),C&&Object.defineProperty(t,C,{value:t,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(t,n(e))},t.promisify.custom=C,t.callbackify=function(t){if("function"!=typeof t)throw new TypeError('The "original" argument must be of type Function');function r(){for(var r=[],n=0;n<arguments.length;n++)r.push(arguments[n]);var o=r.pop();if("function"!=typeof o)throw new TypeError("The last argument must be of type Function");var i=this,s=function(){return o.apply(i,arguments)};t.apply(this,r).then((function(t){e.nextTick(s,null,t)}),(function(t){e.nextTick(T,t,s)}))}return Object.setPrototypeOf(r,Object.getPrototypeOf(t)),Object.defineProperties(r,n(t)),r}}).call(this,r(19))},function(e,t){e.exports=function(e){return e&&"object"==typeof e&&"function"==typeof e.copy&&"function"==typeof e.fill&&"function"==typeof e.readUInt8}},function(e,t){"function"==typeof Object.create?e.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:e.exports=function(e,t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}},function(e,t,r){e.exports=r.p+"1.c8cd9f473cafc54f667b.worker.js"},function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(r(34));var i=r(53);t.Pool=i.Pool;var s=r(56);t.spawn=s.spawn;var a=r(36);t.Thread=a.Thread,t.Worker=o.default.selectWorkerImplementation()},function(e,t,r){"use strict";let n;function o(e){return(""+e).replace(/^((?:https?|file|ftp|chrome-extension|moz-extension):\/\/.+)?\/[^/]+(?:\?.*)?$/,"$1")+"/"}Object.defineProperty(t,"__esModule",{value:!0}),t.getBundleURL=function(){return n||(n=function(){try{throw new Error}catch(e){const t=(""+e.stack).match(/(https?|file|ftp|chrome-extension|moz-extension):\/\/[^)\n]+/g);if(t)return o(t[0])}return"/"}()),n},t.getBaseURL=o},function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function s(e){try{u(n.next(e))}catch(e){i(e)}}function a(e){try{u(n.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}u((n=n.apply(e,t||[])).next())}))},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=o(r(28)),s=r(30),a=r(35),u=o(r(34)),c=r(36);t.Thread=c.Thread;let l=1;const f=()=>"function"==typeof Symbol,p=e=>f()&&Boolean(Symbol[e]);var d;function h(e,t){const r="number"==typeof t?{size:t}:t||{},o=i.default(`threads:pool:${h=r.name||String(l++),h.replace(/\W/g," ").trim().replace(/\s+/g,"-")}`);var h;const{concurrency:v=1,size:b=u.default.defaultPoolSize}=r;let y=!1,m=1,g=[];const w=[],x=function(e,t){return function(e){const t=[];for(let r=0;r<e;r++)t.push(r);return t}(t).map(()=>({init:e(),runningTasks:[]}))}(e,b);let O;const E=a.makeHot(new s.Observable(e=>{O=e}));Promise.all(x.map(e=>e.init)).then(()=>O.next({type:d.initialized,size:x.length}),e=>{o("Error while initializing pool worker:",e),O.error(e),w.push(e)});const _=()=>{o("Attempt de-queueing a task in order to run it...");const e=function(e,t){return e.find(e=>e.runningTasks.length<t)}(x,v);if(!e)return;const t=g.shift();if(!t)return o("Task queue is empty"),void O.next({type:d.taskQueueDrained});const r=x.indexOf(e)+1,i=((t,s)=>n(this,void 0,void 0,(function*(){var a;yield(a=0,new Promise(e=>setTimeout(e,a)));try{yield function(e,t,r,o,i){return n(this,void 0,void 0,(function*(){i(`Running task #${e.id} on worker #${r}...`),o.next({type:d.taskStart,taskID:e.id,workerID:r});try{const n=yield e.run(yield t.init);i(`Task #${e.id} completed successfully`),o.next({type:d.taskCompleted,returnValue:n,taskID:e.id,workerID:r})}catch(t){i(`Task #${e.id} failed`),o.next({type:d.taskFailed,taskID:e.id,error:t,workerID:r})}}))}(s,e,r,O,o)}finally{t.runningTasks=t.runningTasks.filter(e=>e!==i),y||_()}})))(e,t);e.runningTasks.push(i)},j={completed(e=!1){return n(this,void 0,void 0,(function*(){const t=()=>(function(e,t){return e.reduce((e,r)=>[...e,...t(r)],[])})(x,e=>e.runningTasks);if(w.length>0)return Promise.reject(w[0]);if(e&&0===g.length)return Promise.all(t());const r=new Promise((e,t)=>{const r=E.subscribe(n=>{n.type===d.taskQueueDrained?(r.unsubscribe(),e()):n.type===d.taskFailed&&(r.unsubscribe(),t(n.error))})});yield Promise.race([r,E]),yield Promise.all(t())}))},events:()=>E,queue(e){if(y)throw Error("Cannot schedule pool tasks after terminate() has been called.");if(w.length>0)throw w[0];let t;const r={id:m++,run:e,cancel(){-1!==g.indexOf(r)&&(g=g.filter(e=>e!==r),O.next({type:d.taskCanceled,taskID:r.id}))},get then(){if(!t){const e=new Promise((e,t)=>{const n=j.events().subscribe(o=>{o.type===d.taskCompleted&&o.taskID===r.id?(n.unsubscribe(),e(o.returnValue)):o.type===d.taskFailed&&o.taskID===r.id?(n.unsubscribe(),t(o.error)):o.type===d.terminated&&(n.unsubscribe(),t(Error("Pool has been terminated before task was run.")))})});t=e.then.bind(e)}return t}};return o(`Queueing task #${r.id}...`),g.push(r),O.next({type:d.taskQueued,taskID:r.id}),_(),r},terminate(e){return n(this,void 0,void 0,(function*(){y=!0,e||(yield j.completed(!0)),O.next({type:d.terminated,remainingQueue:[...g]}),O.complete(),yield Promise.all(x.map(e=>n(this,void 0,void 0,(function*(){return c.Thread.terminate(yield e.init)}))))}))}};return f()&&p("toStringTag")&&(j[Symbol.toStringTag]=()=>"[object Pool]"),j}!function(e){e.initialized="initialized",e.taskCanceled="taskCanceled",e.taskCompleted="taskCompleted",e.taskFailed="taskFailed",e.taskQueued="taskQueued",e.taskQueueDrained="taskQueueDrained",e.taskStart="taskStart",e.terminated="terminated"}(d=t.PoolEventType||(t.PoolEventType={})),h.EventType=d,t.Pool=h},function(e,t,r){e.exports=function(e){function t(e){let t=0;for(let r=0;r<e.length;r++)t=(t<<5)-t+e.charCodeAt(r),t|=0;return n.colors[Math.abs(t)%n.colors.length]}function n(e){let r;function s(...e){if(!s.enabled)return;const t=s,o=Number(new Date),i=o-(r||o);t.diff=i,t.prev=r,t.curr=o,r=o,e[0]=n.coerce(e[0]),"string"!=typeof e[0]&&e.unshift("%O");let a=0;e[0]=e[0].replace(/%([a-zA-Z%])/g,(r,o)=>{if("%%"===r)return r;a++;const i=n.formatters[o];if("function"==typeof i){const n=e[a];r=i.call(t,n),e.splice(a,1),a--}return r}),n.formatArgs.call(t,e),(t.log||n.log).apply(t,e)}return s.namespace=e,s.enabled=n.enabled(e),s.useColors=n.useColors(),s.color=t(e),s.destroy=o,s.extend=i,"function"==typeof n.init&&n.init(s),n.instances.push(s),s}function o(){const e=n.instances.indexOf(this);return-1!==e&&(n.instances.splice(e,1),!0)}function i(e,t){const r=n(this.namespace+(void 0===t?":":t)+e);return r.log=this.log,r}function s(e){return e.toString().substring(2,e.toString().length-2).replace(/\.\*\?$/,"*")}return n.debug=n,n.default=n,n.coerce=function(e){if(e instanceof Error)return e.stack||e.message;return e},n.disable=function(){const e=[...n.names.map(s),...n.skips.map(s).map(e=>"-"+e)].join(",");return n.enable(""),e},n.enable=function(e){let t;n.save(e),n.names=[],n.skips=[];const r=("string"==typeof e?e:"").split(/[\s,]+/),o=r.length;for(t=0;t<o;t++)r[t]&&("-"===(e=r[t].replace(/\*/g,".*?"))[0]?n.skips.push(new RegExp("^"+e.substr(1)+"$")):n.names.push(new RegExp("^"+e+"$")));for(t=0;t<n.instances.length;t++){const e=n.instances[t];e.enabled=n.enabled(e.namespace)}},n.enabled=function(e){if("*"===e[e.length-1])return!0;let t,r;for(t=0,r=n.skips.length;t<r;t++)if(n.skips[t].test(e))return!1;for(t=0,r=n.names.length;t<r;t++)if(n.names[t].test(e))return!0;return!1},n.humanize=r(55),Object.keys(e).forEach(t=>{n[t]=e[t]}),n.instances=[],n.names=[],n.skips=[],n.formatters={},n.selectColor=t,n.enable(n.load()),n}},function(e,t){var r=1e3,n=60*r,o=60*n,i=24*o,s=7*i,a=365.25*i;function u(e,t,r,n){var o=t>=1.5*r;return Math.round(e/r)+" "+n+(o?"s":"")}e.exports=function(e,t){t=t||{};var c=typeof e;if("string"===c&&e.length>0)return function(e){if((e=String(e)).length>100)return;var t=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(!t)return;var u=parseFloat(t[1]);switch((t[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return u*a;case"weeks":case"week":case"w":return u*s;case"days":case"day":case"d":return u*i;case"hours":case"hour":case"hrs":case"hr":case"h":return u*o;case"minutes":case"minute":case"mins":case"min":case"m":return u*n;case"seconds":case"second":case"secs":case"sec":case"s":return u*r;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return u;default:return}}(e);if("number"===c&&isFinite(e))return t.long?function(e){var t=Math.abs(e);if(t>=i)return u(e,t,i,"day");if(t>=o)return u(e,t,o,"hour");if(t>=n)return u(e,t,n,"minute");if(t>=r)return u(e,t,r,"second");return e+" ms"}(e):function(e){var t=Math.abs(e);if(t>=i)return Math.round(e/i)+"d";if(t>=o)return Math.round(e/o)+"h";if(t>=n)return Math.round(e/n)+"m";if(t>=r)return Math.round(e/r)+"s";return e+"ms"}(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},function(e,t,r){"use strict";(function(e){var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function s(e){try{u(n.next(e))}catch(e){i(e)}}function a(e){try{u(n.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}u((n=n.apply(e,t||[])).next())}))},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=o(r(28)),s=r(30),a=r(29),u=r(57),c=r(20),l=r(58),f=r(59),p=i.default("threads:master:messages"),d=i.default("threads:master:spawn"),h=i.default("threads:master:thread-utils"),v=e=>e&&"init"===e.type,b=e=>e&&"uncaughtError"===e.type,y=void 0!==e&&e.env.THREADS_WORKER_INIT_TIMEOUT?Number.parseInt(e.env.THREADS_WORKER_INIT_TIMEOUT,10):1e4;function m(e,t,r,n){const o=r.filter(e=>e.type===l.WorkerEventType.internalError).map(e=>e.error);return Object.assign(e,{[c.$errors]:o,[c.$events]:r,[c.$terminate]:n,[c.$worker]:t})}t.spawn=function(e){return n(this,void 0,void 0,(function*(){d("Initializing new thread");const t=(yield function(e,t,r){return n(this,void 0,void 0,(function*(){let n;const o=new Promise((e,o)=>{n=setTimeout(()=>o(Error(r)),t)}),i=yield Promise.race([e,o]);return clearTimeout(n),i}))}(function(e){return new Promise((t,r)=>{const n=o=>{p("Message from worker before finishing initialization:",o.data),v(o.data)?(e.removeEventListener("message",n),t(o.data)):b(o.data)&&(e.removeEventListener("message",n),r(a.rehydrateError(o.data.error)))};e.addEventListener("message",n)})}(e),y,`Timeout: Did not receive an init message from worker after ${y}ms. Make sure the worker calls expose().`)).exposed,{termination:r,terminate:o}=function(e){const[t,r]=u.createPromiseWithResolver();return{terminate:()=>n(this,void 0,void 0,(function*(){h("Terminating worker"),yield e.terminate(),r()})),termination:t}}(e),i=function(e,t){return new s.Observable(r=>{const n=e=>{const t={type:l.WorkerEventType.message,data:e.data};r.next(t)},o=e=>{h("Unhandled promise rejection event in thread:",e);const t={type:l.WorkerEventType.internalError,error:Error(e.reason)};r.next(t)};e.addEventListener("message",n),e.addEventListener("unhandledrejection",o),t.then(()=>{const t={type:l.WorkerEventType.termination};e.removeEventListener("message",n),e.removeEventListener("unhandledrejection",o),r.next(t),r.complete()})})}(e,r);if("function"===t.type){return m(f.createProxyFunction(e),e,i,o)}if("module"===t.type){return m(f.createProxyModule(e,t.methods),e,i,o)}{const e=t.type;throw Error(`Worker init message states unexpected type of expose(): ${e}`)}}))}}).call(this,r(19))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=()=>void 0;t.createPromiseWithResolver=function(){let e,t=!1,r=n;return[new Promise(n=>{t?n(e):r=n}),n=>{t=!0,e=n,r()}]}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});r(20);!function(e){e.internalError="internalError",e.message="message",e.termination="termination"}(t.WorkerEventType||(t.WorkerEventType={}))},function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const o=n(r(28)),i=r(29),s=r(35),a=r(21),u=r(37),c=o.default("threads:master:messages");let l=1;const f=e=>Array.from(new Set(e)),p=e=>e&&e.type===u.WorkerMessageType.error,d=e=>e&&e.type===u.WorkerMessageType.result,h=e=>e&&e.type===u.WorkerMessageType.running;function v(e,t){return(...r)=>{const n=l++,{args:o,transferables:v}=function(e){const t=[],r=[];for(const n of e)a.isTransferDescriptor(n)?(t.push(n.send),r.push(...n.transferables)):t.push(n);return{args:t,transferables:f(r)}}(r),b={type:u.MasterMessageType.run,uid:n,method:t,args:o};return c("Sending command to run function to worker:",b),e.postMessage(b,v),s.makeHot(function(e,t){let r;return s.ObservablePromise((n,o,s)=>{const a=u=>{if(c("Message from worker:",u.data),u.data&&u.data.uid===t)if(h(u.data))r=u.data.resultType;else if(d(u.data))"promise"===r?(n(u.data.payload),e.removeEventListener("message",a)):(u.data.payload&&s.next(u.data.payload),u.data.complete&&(s.complete(),e.removeEventListener("message",a)));else if(p(u.data)){const t=i.rehydrateError(u.data.error);"promise"!==r&&r?s.error(t):o(t),e.removeEventListener("message",a)}};return e.addEventListener("message",a),()=>e.removeEventListener("message",a)})}(e,n))}}t.createProxyFunction=v,t.createProxyModule=function(e,t){const r={};for(const n of t)r[n]=v(e,n);return r}},function(e,t,r){"use strict";(function(e){var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))((function(o,i){function s(e){try{u(n.next(e))}catch(e){i(e)}}function a(e){try{u(n.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(s,a)}u((n=n.apply(e,t||[])).next())}))},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=o(r(61)),s=r(29),a=r(21),u=r(37),c=o(r(64));var l=r(21);t.Transfer=l.Transfer;let f=!1;const p=e=>e&&e.type===u.MasterMessageType.run,d=e=>i.default(e)||function(e){return e&&"object"==typeof e&&"function"==typeof e.subscribe}(e);function h(e){return a.isTransferDescriptor(e)?{payload:e.send,transferables:e.transferables}:{payload:e,transferables:void 0}}function v(e,t){const{payload:r,transferables:n}=h(t),o={type:u.WorkerMessageType.error,uid:e,error:s.serializeError(r)};c.default.postMessageToMaster(o,n)}function b(e,t,r){const{payload:n,transferables:o}=h(r),i={type:u.WorkerMessageType.result,uid:e,complete:!!t||void 0,payload:n};c.default.postMessageToMaster(i,o)}function y(e){const t={type:u.WorkerMessageType.uncaughtError,error:s.serializeError(e)};c.default.postMessageToMaster(t)}function m(e,t,r){return n(this,void 0,void 0,(function*(){let n;try{n=t(...r)}catch(t){return v(e,t)}const o=d(n)?"observable":"promise";if(function(e,t){const r={type:u.WorkerMessageType.running,uid:e,resultType:t};c.default.postMessageToMaster(r)}(e,o),d(n))n.subscribe(t=>b(e,!1,t),t=>v(e,t),()=>b(e,!0));else try{const t=yield n;b(e,!0,t)}catch(t){v(e,t)}}))}t.expose=function(e){if(!c.default.isWorkerRuntime())throw Error("expose() called in the master thread.");if(f)throw Error("expose() called more than once. This is not possible. Pass an object to expose() if you want to expose multiple functions.");if(f=!0,"function"==typeof e)c.default.subscribeToMasterMessages(t=>{p(t)&&!t.method&&m(t.uid,e,t.args)}),function(){const e={type:u.WorkerMessageType.init,exposed:{type:"function"}};c.default.postMessageToMaster(e)}();else{if("object"!=typeof e||!e)throw Error(`Invalid argument passed to expose(). Expected a function or an object, got: ${e}`);c.default.subscribeToMasterMessages(t=>{p(t)&&t.method&&m(t.uid,e[t.method],t.args)}),function(e){const t={type:u.WorkerMessageType.init,exposed:{type:"module",methods:e}};c.default.postMessageToMaster(t)}(Object.keys(e).filter(t=>"function"==typeof e[t]))}},"undefined"!=typeof self&&"function"==typeof self.addEventListener&&c.default.isWorkerRuntime()&&(self.addEventListener("error",e=>{setTimeout(()=>y(e.error||e),250)}),self.addEventListener("unhandledrejection",e=>{const t=e.reason;t&&"string"==typeof t.message&&setTimeout(()=>y(t),250)})),void 0!==e&&"function"==typeof e.on&&c.default.isWorkerRuntime()&&(e.on("uncaughtException",e=>{setTimeout(()=>y(e),250)}),e.on("unhandledRejection",e=>{e&&"string"==typeof e.message&&setTimeout(()=>y(e),250)}))}).call(this,r(19))},function(e,t,r){"use strict";const n=r(62).default;e.exports=e=>Boolean(e&&e[n]&&e===e[n]())},function(e,t,r){"use strict";r.r(t),function(e,n){var o,i=r(38);o="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==e?e:n;var s=Object(i.a)(o);t.default=s}.call(this,r(33),r(63)(e))},function(e,t){e.exports=function(e){if(!e.webpackPolyfill){var t=Object.create(e);t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),Object.defineProperty(t,"exports",{enumerable:!0}),t.webpackPolyfill=1}return t}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={isWorkerRuntime:function(){return!("undefined"==typeof self||!self.postMessage)},postMessageToMaster:function(e,t){self.postMessage(e,t)},subscribeToMasterMessages:function(e){const t=t=>{e(t.data)};return self.addEventListener("message",t),()=>{self.removeEventListener("message",t)}}}},function(e,t,r){var n=r(26),o=r(66);"string"==typeof(o=o.__esModule?o.default:o)&&(o=[[e.i,o,""]]);var i={insert:"head",singleton:!1},s=(n(e.i,o,i),o.locals?o.locals:{});e.exports=s},function(e,t,r){(t=r(27)(!1)).push([e.i,"@import url(https://fonts.googleapis.com/icon?family=Material+Icons);"]),t.push([e.i,"@media print{#overlay{display:none}@page{margin:0;size:landscape}}#overlay{opacity:0}#overlay [title]{cursor:help}#overlay .disabled{cursor:not-allowed}#overlay .disabled i.material-icons{color:gray;cursor:not-allowed}#overlay input:disabled,#overlay textarea:disabled{cursor:not-allowed}#inputs{align-items:flex-end;box-sizing:border-box;display:flex;flex-flow:column wrap;justify-content:flex-start;padding:0px 16px;position:absolute;right:0;top:0}#inputs span,#inputs i{padding-bottom:8px}#inputs section{align-items:flex-end;display:flex;flex-flow:column wrap;justify-content:flex-start}#inputs #pipe{resize:none}#media{bottom:0;box-sizing:border-box;display:flex;flex-flow:row wrap;padding:32px;position:absolute;width:100%}#media i.material-icons{cursor:pointer;display:'none';font-size:36px;margin:0 8px}#allowed_db_range{align-items:center;display:flex;flex-flow:row}#allowed_db_range_input{align-items:center;display:flex;flex-flow:row;margin:0 8px}.spacer{flex:1}a.help{font-size:small;vertical-align:super}a.help::before{content:'?'}a.help:link,a.help:visited,a.help:hover,a.help:active{color:white}\n",""]),e.exports=t},function(e,t,r){e.exports=r.p+"renderer.a81565eef27e026f88b1.worker.js"},function(e,t,r){"use strict";r.r(t);r(42),r(44);var n=r(6),o=r(32),i=r(22),s=r(16),a=r(7);function u(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function c(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var l=(e,t)=>{window._debug=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?u(Object(r),!0).forEach((function(t){c(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},window._debug,{[e]:t})},f=e=>{e instanceof Error?n.error(e):n.error(Object(a.a)(e))},p=r(1);var d=r(13),h=r(3),v=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return p.a(t,e),t.prototype.notifyNext=function(e,t,r,n,o){this.destination.next(t)},t.prototype.notifyError=function(e,t){this.destination.error(e)},t.prototype.notifyComplete=function(e){this.destination.complete()},t}(h.a),b=function(e){function t(t,r,n){var o=e.call(this)||this;return o.parent=t,o.outerValue=r,o.outerIndex=n,o.index=0,o}return p.a(t,e),t.prototype._next=function(e){this.parent.notifyNext(this.outerValue,e,this.outerIndex,this.index++,this)},t.prototype._error=function(e){this.parent.notifyError(e,this),this.unsubscribe()},t.prototype._complete=function(){this.parent.notifyComplete(this),this.unsubscribe()},t}(h.a),y=function(e){return function(t){for(var r=0,n=e.length;r<n&&!t.closed;r++)t.next(e[r]);t.complete()}},m=r(8);function g(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}var w=g(),x=r(14);var O=r(25),E=function(e){if(e&&"function"==typeof e[x.a])return o=e,function(e){var t=o[x.a]();if("function"!=typeof t.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return t.subscribe(e)};if((n=e)&&"number"==typeof n.length&&"function"!=typeof n)return y(e);if(function(e){return!!e&&"function"!=typeof e.subscribe&&"function"==typeof e.then}(e))return r=e,function(e){return r.then((function(t){e.closed||(e.next(t),e.complete())}),(function(t){return e.error(t)})).then(null,m.a),e};if(e&&"function"==typeof e[w])return t=e,function(e){for(var r=t[w]();;){var n=r.next();if(n.done){e.complete();break}if(e.next(n.value),e.closed)break}return"function"==typeof r.return&&e.add((function(){r.return&&r.return()})),e};var t,r,n,o,i=Object(O.a)(e)?"an invalid object":"'"+e+"'";throw new TypeError("You provided "+i+" where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.")},_=r(5);function j(e,t,r,n,o){if(void 0===o&&(o=new b(e,r,n)),!o.closed)return t instanceof _.a?t.subscribe(o):E(t)(o)}var S=r(4);function k(e,t){return t?function(e,t){return new _.a((function(r){var n=new S.a,o=0;return n.add(t.schedule((function(){o!==e.length?(r.next(e[o++]),r.closed||n.add(this.schedule())):r.complete()}))),n}))}(e,t):new _.a(y(e))}var P={};var C=function(){function e(e){this.resultSelector=e}return e.prototype.call=function(e,t){return t.subscribe(new T(e,this.resultSelector))},e}(),T=function(e){function t(t,r){var n=e.call(this,t)||this;return n.resultSelector=r,n.active=0,n.values=[],n.observables=[],n}return p.a(t,e),t.prototype._next=function(e){this.values.push(P),this.observables.push(e)},t.prototype._complete=function(){var e=this.observables,t=e.length;if(0===t)this.destination.complete();else{this.active=t,this.toRespond=t;for(var r=0;r<t;r++){var n=e[r];this.add(j(this,n,n,r))}}},t.prototype.notifyComplete=function(e){0==(this.active-=1)&&this.destination.complete()},t.prototype.notifyNext=function(e,t,r,n,o){var i=this.values,s=i[r],a=this.toRespond?s===P?--this.toRespond:this.toRespond:0;i[r]=t,0===a&&(this.resultSelector?this._tryResultSelector(i):this.destination.next(i.slice()))},t.prototype._tryResultSelector=function(e){var t;try{t=this.resultSelector.apply(this,e)}catch(e){return void this.destination.error(e)}this.destination.next(t)},t}(v),M=function(e){function t(t,r){var n=e.call(this,t,r)||this;return n.scheduler=t,n.work=r,n.pending=!1,n}return p.a(t,e),t.prototype.schedule=function(e,t){if(void 0===t&&(t=0),this.closed)return this;this.state=e;var r=this.id,n=this.scheduler;return null!=r&&(this.id=this.recycleAsyncId(n,r,t)),this.pending=!0,this.delay=t,this.id=this.id||this.requestAsyncId(n,this.id,t),this},t.prototype.requestAsyncId=function(e,t,r){return void 0===r&&(r=0),setInterval(e.flush.bind(e,this),r)},t.prototype.recycleAsyncId=function(e,t,r){if(void 0===r&&(r=0),null!==r&&this.delay===r&&!1===this.pending)return t;clearInterval(t)},t.prototype.execute=function(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var r=this._execute(e,t);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},t.prototype._execute=function(e,t){var r=!1,n=void 0;try{this.work(e)}catch(e){r=!0,n=!!e&&e||new Error(e)}if(r)return this.unsubscribe(),n},t.prototype._unsubscribe=function(){var e=this.id,t=this.scheduler,r=t.actions,n=r.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==n&&r.splice(n,1),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null},t}(function(e){function t(t,r){return e.call(this)||this}return p.a(t,e),t.prototype.schedule=function(e,t){return void 0===t&&(t=0),this},t}(S.a)),A=function(){function e(t,r){void 0===r&&(r=e.now),this.SchedulerAction=t,this.now=r}return e.prototype.schedule=function(e,t,r){return void 0===t&&(t=0),new this.SchedulerAction(this,e).schedule(r,t)},e.now=function(){return Date.now()},e}(),F=new(function(e){function t(r,n){void 0===n&&(n=A.now);var o=e.call(this,r,(function(){return t.delegate&&t.delegate!==o?t.delegate.now():n()}))||this;return o.actions=[],o.active=!1,o.scheduled=void 0,o}return p.a(t,e),t.prototype.schedule=function(r,n,o){return void 0===n&&(n=0),t.delegate&&t.delegate!==this?t.delegate.schedule(r,n,o):e.prototype.schedule.call(this,r,n,o)},t.prototype.flush=function(e){var t=this.actions;if(this.active)t.push(e);else{var r;this.active=!0;do{if(r=e.execute(e.state,e.delay))break}while(e=t.shift());if(this.active=!1,r){for(;e=t.shift();)e.unsubscribe();throw r}}},t}(A))(M);function L(e,t){var r;return void 0===e&&(e=0),void 0===t&&(t=F),r=e,(Object(d.a)(r)||!(r-parseFloat(r)+1>=0)||e<0)&&(e=0),t&&"function"==typeof t.schedule||(t=F),new _.a((function(r){return r.add(t.schedule(D,e,{subscriber:r,counter:0,period:e})),r}))}function D(e){var t=e.subscriber,r=e.counter,n=e.period;t.next(r),this.schedule({subscriber:t,counter:r+1,period:n},n)}var I=r(23);function q(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class R{constructor(e){this.substitutions=e,q(this,"simplify",e=>{var{n:t,d0:r,steps:n}=e;return{kind:e.kind,n:t,d0:r,steps:n.map(this.simplifyStepNode)}}),q(this,"simplifyScalar",e=>{switch(e.kind){case"number":return e;case"fn":return this.simplifyFnNode(e);case"access":return this.simplifyAccessNode(e);case"id":return this.simplifyIdNode(e);case"arith":return this.simplifyArithNode(e)}}),q(this,"simplifyStepNode",e=>{var{kind:t,type:r,args:n}=e;return{kind:t,type:r,args:n.map(this.simplifyScalar)}}),q(this,"simplifyArithNode",e=>{var{kind:t,op:r,operands:n}=e,[o,i]=n.map(this.simplifyScalar);return{kind:t,op:r,operands:[o,i]}}),q(this,"simplifyFnNode",e=>{var{kind:t,name:r,args:n}=e;return{kind:t,name:r,args:n.map(this.simplifyIdNode)}}),q(this,"simplifyAccessNode",e=>{var{kind:t,id:r,index:n}=e;return{kind:t,id:r,index:this.simplifyScalar(n)}}),q(this,"simplifyIdNode",e=>{var{id:t}=e;return t in this.substitutions?this.simplifyScalar(this.substitutions[t]):e})}}var z=r(10),N=function(e){function t(t){var r=e.call(this)||this;return r._value=t,r}return p.a(t,e),Object.defineProperty(t.prototype,"value",{get:function(){return this.getValue()},enumerable:!0,configurable:!0}),t.prototype._subscribe=function(t){var r=e.prototype._subscribe.call(this,t);return r&&!r.closed&&t.next(this._value),r},t.prototype.getValue=function(){if(this.hasError)throw this.thrownError;if(this.closed)throw new z.a;return this._value},t.prototype.next=function(t){e.prototype.next.call(this,this._value=t)},t}(o.a);function U(e){switch(e.kind){case"pipe":return function(e){return[e.n,e.d0,...e.steps.map(U)].join("\n  =>")}(e);case"step":return function(e){return"".concat(e.type,"(").concat(e.args.map(U).join(", "),")")}(e);case"arith":return function(e){var[t,r]=e.operands,n=null==r?"-".concat(U(t)):"".concat(U(t)," ").concat(e.op," ").concat(U(r));return e.parens?"(".concat(n,")"):n}(e);case"number":return function(e){return e.value.toString()}(e);case"fn":return function(e){return"".concat(e.name,"(").concat(e.args.map(U).join(", "),")")}(e);case"access":return function(e){return"".concat(e.id,"[").concat(U(e.index),"]")}(e);case"id":return function(e){return e.id}(e)}}var $=r(24),H=r(31);function W(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class B{}function V(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}W(B,"parsePipe",e=>Object(H.parse)(e)),W(B,"parseScalar",e=>Object(H.parse)(e,{startRule:"scalar"}));r(65);var J=r(0),Q=r.n(J);function Y(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Z=document.getElementById("overlay");var G,K=r(11),X="0"!=new URLSearchParams(window.location.search).get("p"),ee=(G=window.location.hash.substr(1),new URLSearchParams(G?atob(G):""));function te(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class re{constructor(e,t){var{persistent:r=!1,disabled:n=!1,parse:o=(()=>{throw new Error("parse unsupported")}),stringify:i=(()=>{throw new Error("stringify unsupported")})}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.id=e,te(this,"disabled",void 0),te(this,"parse",void 0),te(this,"stringify",void 0),te(this,"el",void 0),te(this,"subject",void 0),te(this,"persistent",void 0),te(this,"_value",void 0),te(this,"newSubject",()=>new N({newValue:this._value})),te(this,"setup",e=>{this.el=e,this.disabled&&this.el.classList.add("disabled"),this._setup()}),te(this,"updateHash",()=>{var e=this.stringify(this.value);ee.set(this.id,e),document.location.hash=btoa(ee.toString())}),this.persistent=r,this.disabled=n,this.parse=o,this.stringify=i,X||(this.persistent=!1);var s=t;this.persistent&&ee.has(this.id)&&(s=ee.get(this.id)),this._value=this.parse(s),this.subject=this.newSubject()}get stream(){return this.subject.asObservable()}get value(){return this._value}set value(e){var t=this.value;this._value=e,this.subject.next({newValue:e,oldValue:t,event:window.event}),this.persistent&&this.updateHash()}}var ne=r(39),oe=r.n(ne);class ie extends re{constructor(e,t){var r,n,o,{parse:i,persistent:s=!0,disabled:a=!1,stringify:u=(e=>e.toString())}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};super(e,t,{persistent:s,disabled:a,parse:i,stringify:u}),this.id=e,o=()=>{this.el.disabled=this.disabled,this.el.onchange=()=>{var e=this.parse(this.el.value);this.el.value=this.stringify(e),this.value=e},this.el.oninput=()=>this.setSize(),this.stream.subscribe(e=>{var{newValue:t}=e;this.el.value=this.stringify(t),this.setSize()})},(n="_setup")in(r=this)?Object.defineProperty(r,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):r[n]=o}setSize(){if(this.el instanceof HTMLInputElement)this.el.size=this.el.value.length;else{var e=this.el.value.split("\n");this.el.rows=Math.min(10,e.length),this.el.cols=Math.min(50,e.reduce((e,t)=>Math.max(e,t.length),0))}}}class se extends re{constructor(e,t){var r,n,o,{disabled:i=!1,persistent:s=!1}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};super(e,t,{persistent:s,disabled:i,parse:e=>{switch(e.trim()){default:case"0":case"false":return!1;case"1":case"true":return!0}},stringify:e=>e?"1":"0"}),this.id=e,o=()=>{var e=this.el.querySelector(".on");this.disabled||(e.onclick=()=>this.value=!0);var t=this.el.querySelector(".off");this.disabled||(t.onclick=()=>this.value=!1),this.stream.subscribe(r=>{var{newValue:n}=r;n?(e.style.display="none",t.style.display="inline"):(e.style.display="inline",t.style.display="none")})},(n="_setup")in(r=this)?Object.defineProperty(r,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):r[n]=o}parse(e){if(/1|true/i.test(e))return!0;if(/0|false/i.test(e))return!1;throw new Error("invalid boolean value for input ".concat(this.id,": ").concat(e))}}function ae(e,t,r,n,o,i,s){try{var a=e[i](s),u=a.value}catch(e){return void r(e)}a.done?t(u):Promise.resolve(u).then(n,o)}function ue(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function s(e){ae(i,n,o,s,a,"next",e)}function a(e){ae(i,n,o,s,a,"throw",e)}s(void 0)}))}}var ce=2e3*s.a,le=parseInt(Z.querySelector("#allowed_db_range_input input").min),fe=new class{constructor(){V(this,"compilePipe",e=>{var t=B.parsePipe(e);return t.n=$.a.nPerLevel(t.d0,t.n)**t.d0,t}),V(this,"compileScalar",e=>B.parseScalar(e))}compile(e,t){switch(t){default:return this.compilePipe(e);case"scalar":return this.compileScalar(e)}}},pe={pipe:new ie("pipe","".concat(ce,"\n      =>3\n      =>torus(1, 1)\n      =>R(theta, 0, 1, cos, tan)\n      =>R(theta, 0, 2)\n      =>R(theta, 0, 3)\n      =>stereo(3)"),{persistent:!0,parse:e=>fe.compile(e),stringify:U}),theta:new ie("theta","pi * power + pi * t / 20",{parse:e=>fe.compile(e,"scalar"),stringify:U}),h:new ie("h","min(1, abs(p[0]) / extent[0])",{parse:e=>fe.compile(e,"scalar"),stringify:U}),v:new ie("v","(power + onset) / 2",{parse:e=>fe.compile(e,"scalar"),stringify:U}),animate:new se("animate","1"),mic:new se("mic","0",{disabled:!(new AudioContext).audioWorklet}),fullscreen:new se("fullscreen","0",{disabled:!document.fullscreenEnabled}),allowedDbs:new class extends re{constructor(e,t){var r,n,o,{disabled:i=!1,persistent:s=!0}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};super(e,t,{disabled:i,persistent:s,parse:e=>{var[t,r]=e.split(/\s*,\s*/);return[parseInt(t),parseInt(r)]},stringify:e=>{var[t,r]=e;return"".concat(t,",").concat(r)}}),this.id=e,o=()=>{var e=this.el.querySelector("input");e.disabled=this.disabled,oe()(e);var t=this.el.querySelector(".min"),r=this.el.querySelector(".max");e.onchange=()=>{this.value=[+e.valueLow,+e.valueHigh]},this.el.querySelector("input.ghost").oninput=e.oninput=()=>{t.innerText=e.valueLow.toString(),r.innerText=e.valueHigh.toString()},this.stream.subscribe(n=>{var{newValue:o}=n;e.value=this.stringify(o),t.innerText=e.valueLow.toString(),r.innerText=e.valueHigh.toString()})},(n="_setup")in(r=this)?Object.defineProperty(r,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):r[n]=o}}("allowed_db_range","".concat(le/2,", -30"),{disabled:!(new AudioContext).audioWorklet}),save:new class extends re{constructor(e,t){var r,n,o;super(e,"",{parse:()=>{}}),this.action=t,o=()=>{this.disabled||(this.el.onclick=e=>this.action(e))},(n="_setup")in(r=this)?Object.defineProperty(r,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):r[n]=o}}("save",ue((function*(){yield Object(K.c)();var e=yield new Promise(e=>document.querySelector("canvas").toBlob(e)),t=URL.createObjectURL(e);try{var r=document.createElement("a");r.download="stereo".concat(document.location.hash),r.href=t,r.click()}finally{URL.revokeObjectURL(t)}})))};l("inputs",pe);var de={power:1,chroma:.5,tempo:.5,onset:1},he=96,ve=r(40),be=r.n(ve);function ye(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class me{constructor(e,t){this.dbMin=e,this.dbMax=t}}function ge(e,t,r,n,o,i,s){try{var a=e[i](s),u=a.value}catch(e){return void r(e)}a.done?t(u):Promise.resolve(u).then(n,o)}function we(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}ye(me,"octave",e=>Math.floor(e/12)),ye(me,"chroma",e=>e%12),ye(me,"f",e=>{var t=me.octave(e),r=me.chroma(e);return 16.35*2**t*Math.pow(2,1/12)**r});class xe{constructor(e,t,r){this.ctx=e,we(this,"close",()=>this.ctx.close());var n=new AudioWorkletNode(e,"power",{numberOfInputs:he,channelCountMode:"explicit",channelCount:1});n.port.onmessage=e=>{pe.mic.value?r.next(e.data):r.next(de)},n.onprocessorerror=e=>{f(e),pe.mic.value=!1},n.connect(e.destination),pe.allowedDbs.stream.subscribe(t=>{var{newValue:[r,o]}=t;n.parameters.get("dbMin").setValueAtTime(r,e.currentTime),n.parameters.get("dbMax").setValueAtTime(o,e.currentTime)});for(var o=0;o<he;o++){var i=me.f(o),s=new BiquadFilterNode(e,{type:"bandpass",frequency:i,Q:i/2});t.connect(s).connect(n,0,o)}}}function Oe(e,t,r,n,o,i,s){try{var a=e[i](s),u=a.value}catch(e){return void r(e)}a.done?t(u):Promise.resolve(u).then(n,o)}we(xe,"create",function(){var e,t=(e=function*(e,t){var r=new AudioContext;yield r.audioWorklet.addModule(be.a);var n=new MediaStreamAudioSourceNode(r,{mediaStream:e});return new xe(r,n,t)},function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function s(e){ge(i,n,o,s,a,"next",e)}function a(e){ge(i,n,o,s,a,"throw",e)}s(void 0)}))});return function(e,r){return t.apply(this,arguments)}}());var Ee,_e=Object(n.getLogger)("Audio"),je=new N(de),Se=je.asObservable();pe.mic.stream.subscribe(function(){var e,t=(e=function*(e){var{newValue:t,event:r}=e;if(t){_e.info("getting user media");var n=yield navigator.mediaDevices.getUserMedia({audio:!0});_e.info("starting new audio graph"),Ee=yield xe.create(n,je)}else _e.info("closing audio graph"),Ee&&(yield Ee.close()),je.next(de)},function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function s(e){Oe(i,n,o,s,a,"next",e)}function a(e){Oe(i,n,o,s,a,"throw",e)}s(void 0)}))});return function(e){return t.apply(this,arguments)}}());Math.floor(512);function ke(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Pe(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ce(e,t,r,n,o,i,s){try{var a=e[i](s),u=a.value}catch(e){return void r(e)}a.done?t(u):Promise.resolve(u).then(n,o)}function Te(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function s(e){Ce(i,n,o,s,a,"next",e)}function a(e){Ce(i,n,o,s,a,"throw",e)}s(void 0)}))}}var Me=new o.a,Ae=Me.asObservable();function Fe(e,t,r,n,o,i,s){try{var a=e[i](s),u=a.value}catch(e){return void r(e)}a.done?t(u):Promise.resolve(u).then(n,o)}function Le(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function s(e){Fe(i,n,o,s,a,"next",e)}function a(e){Fe(i,n,o,s,a,"throw",e)}s(void 0)}))}}Te((function*(){var e=0,t=function(){var t=Te((function*(t,r){try{var n=new R({theta:pe.theta.value}).simplify(pe.pipe.value),o={pipe:n,scope:function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ke(Object(r),!0).forEach((function(t){Pe(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ke(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({t:e++/60,inf:I.a,n:n.n,extent:r},t),hv:{h:pe.h.value,v:pe.v.value}};Me.next(o)}catch(e){f(e)}}));return function(e,r){return t.apply(this,arguments)}}();yield t(de,[0,0,0]);var r=function(){var e=Te((function*(e,r){pe.animate.value&&(yield t(e,r))}));return function(t,r){return e.apply(this,arguments)}}();(function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r,n=null,o=null;return(r=e[e.length-1])&&"function"==typeof r.schedule&&(o=e.pop()),"function"==typeof e[e.length-1]&&(n=e.pop()),1===e.length&&Object(d.a)(e[0])&&(e=e[0]),k(e,o).lift(new C(n))})(Se,K.a,L(1e3/60)).subscribe(e=>{var[t,n]=e;return r(t,n)},f)}))();var De=Object(n.getLogger)("Data");De.setDefaultLevel("info");var Ie=new o.a,qe=Ie.asObservable(),Re=function(){var e=Le((function*(){console.info("starting web worker data source"),yield Object(s.c)();return{getData:e=>Object(s.b)(e).then(i.a.fromBuffer)}}));return function(){return e.apply(this,arguments)}}();function ze(e,t,r,n,o,i,s){try{var a=e[i](s),u=a.value}catch(e){return void r(e)}a.done?t(u):Promise.resolve(u).then(n,o)}function Ne(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function s(e){ze(i,n,o,s,a,"next",e)}function a(e){ze(i,n,o,s,a,"throw",e)}s(void 0)}))}}Le((function*(){var e,{getData:t}=yield Re(),r=0;Ae.subscribe(function(){var n=Le((function*(n){if(!e){l("params",n),De.debug("requesting data with params",n),Date.now()-r>=1e3&&(De.debug("sending request for data with params ".concat(Object(a.a)(n))),r=Date.now()),e=t(n);try{Ie.next(yield e)}catch(e){f(e)}finally{e=null}}}));return function(e){return n.apply(this,arguments)}}(),e=>f(e))}))();var Ue=new class{constructor(){Y(this,"domElement",Z),Y(this,"hasHover",!1),Y(this,"hasAttention",()=>this.hasHover||this.contains(document.activeElement)),Y(this,"show",()=>this.domElement.style.opacity="1"),Y(this,"hide",()=>this.domElement.style.opacity="0"),Y(this,"contains",e=>this.domElement.contains(e)),Y(this,"setupInputs",()=>{for(var e of Object.values(pe)){var t=this.querySelector("#".concat(e.id));Q()(t,"Did not find element for input #".concat(e.id)),e.setup(t)}pe.fullscreen.disabled||pe.fullscreen.stream.subscribe(e=>{var{newValue:t}=e;t?document.body.requestFullscreen():document.fullscreenElement&&document.exitFullscreen()})}),Y(this,"querySelector",e=>this.domElement.querySelector(e)),Y(this,"setupKeyboardShortcuts",()=>{document.onkeydown=e=>{if(!e.repeat&&!this.domElement.contains(e.target))switch(e.key){case" ":pe.animate.value=!pe.animate.value;break;case"m":case"M":pe.mic.value=!pe.mic.value;break;case"Enter":pe.fullscreen.value=!pe.fullscreen.value}}}),this.setupInputs(),this.setupKeyboardShortcuts(),this.domElement.querySelectorAll("input, textarea, label, i, h2, h1, #allowed_db_range").forEach(e=>{e.onmouseover=()=>this.hasHover=!0,e.onmouseout=()=>this.hasHover=!1})}},$e=0,He=e=>{Date.now()<$e+1e3||Ue.hasAttention()||(document.body.classList.add("cursor-inactive"),Ue.hide())};document.body.onmousemove=e=>{Ue.show(),document.body.classList.contains("cursor-inactive")&&document.body.classList.remove("cursor-inactive"),$e=Date.now(),setTimeout(()=>He(),1e3)},document.onreadystatechange=Ne((function*(){"complete"===document.readyState&&(document.body.appendChild(Ue.domElement),yield Object(K.b)(document.querySelector("canvas").transferControlToOffscreen()),qe.subscribe(function(){var e=Ne((function*(e){yield Object(K.d)(e),l("data",e),document.body.classList.add("data"),He()}));return function(t){return e.apply(this,arguments)}}(),e=>alert("".concat(e.message,"\n").concat(e.stack))))}))}]);
//# sourceMappingURL=index.41917a5423c964d040e4.js.map