(self.webpackJsonp=self.webpackJsonp||[]).push([[2,6],{20:function(e,t,n){"use strict";n.d(t,"a",(function(){return w}));var r=n(66),i=n.n(r),s=n(74),a=n(34),o=n(2),u=n(9);function h(e,t,n,r,i,s,a){try{var o=e[s](a),u=o.value}catch(e){return void n(e)}o.done?t(u):Promise.resolve(u).then(r,i)}function l(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var s=e.apply(t,n);function a(e){h(s,r,i,a,o,"next",e)}function o(e){h(s,r,i,a,o,"throw",e)}a(void 0)}))}}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var d,f="0"!=new URLSearchParams(window.location.search).get("p"),v=(d=window.location.hash.substr(1),new URLSearchParams(d?atob(d):""));class p{constructor(e,t){var{persistent:n=!1,disabled:r=!1,stringify:i=(()=>{throw new Error("stringify unsupported")})}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.id=e,this._value=t,c(this,"disabled",void 0),c(this,"stringify",void 0),c(this,"el",void 0),c(this,"subject",void 0),c(this,"persistent",void 0),c(this,"initFromOrWriteToHash",()=>{this.persistent&&v.has(this.id)?this._value=this.parse(v.get(this.id)):this.persistent&&this.updateHash()}),c(this,"newSubject",()=>new s.a({newValue:this._value})),c(this,"setup",e=>{this.el=e,this.disabled&&this.el.classList.add("disabled"),this._setup()}),c(this,"updateHash",()=>{var e=this.stringify(this.value);v.set(this.id,e),document.location.hash=btoa(v.toString())}),this.persistent=n,this.disabled=r,this.stringify=i,f?this.initFromOrWriteToHash():this.persistent=!1,this.subject=this.newSubject()}parse(e){throw new Error("parse unsupported")}get stream(){return this.subject.asObservable()}get value(){return this._value}set value(e){var t=this.value;this._value=e,this.subject.next({newValue:e,oldValue:t,event:window.event}),this.persistent&&this.updateHash()}}class b extends p{constructor(e,t){var{persistent:n=!0,disabled:r=!1,stringify:i=(e=>e)}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};super(e,t,{persistent:n,disabled:r,stringify:i}),this.id=e,c(this,"_setup",()=>{this.el.disabled=this.disabled,this.el.onchange=()=>{this.el.value=this.stringify(this.el.value),this.value=this.el.value},this.el.oninput=()=>this.setSize(),this.stream.subscribe(e=>{var{newValue:t}=e;this.el.value=this.stringify(t),this.setSize()})})}setSize(){if(this.el instanceof HTMLInputElement)this.el.size=this.el.value.length;else{var e=this.el.value.split("\n");this.el.rows=Math.min(10,e.length),this.el.cols=Math.min(50,e.reduce((e,t)=>Math.max(e,t.length),0))}}parse(e){return e}}class m extends p{constructor(e,t){var{disabled:n=!1,persistent:r=!1}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};super(e,t,{persistent:r,disabled:n,stringify:e=>e?"1":"0"}),this.id=e,c(this,"_setup",()=>{var e=this.el.querySelector(".on");this.disabled||(e.onclick=()=>this.value=!0);var t=this.el.querySelector(".off");this.disabled||(t.onclick=()=>this.value=!1),this.stream.subscribe(n=>{var{newValue:r}=n;r?(e.style.display="none",t.style.display="inline"):(e.style.display="inline",t.style.display="none")})})}parse(e){if(/1|true/i.test(e))return!0;if(/0|false/i.test(e))return!1;throw new Error("invalid boolean value for input ".concat(this.id,": ").concat(e))}}var g=2e3*a.a,w={pipe:new b("pipe","\n    ".concat(g,"\n      ->3\n      ->torus(1, 1)\n      ->R(theta, 0, 1, cos, tan)\n      ->R(theta, 0, 2)\n      ->R(theta, 0, 3)\n      ->stereo(3)").trim(),{persistent:!0,stringify:e=>e.replace(/\s*(->|=>)\s*/g,"\n  ->").trim()}),theta:new b("theta","pi * power + pi * t / 20"),h:new b("h","chroma * abs(p[0])"),v:new b("v","(power + onset) / 2"),animate:new m("animate",!0),mic:new m("mic",!1,{disabled:!(new AudioContext).audioWorklet}),fullscreen:new m("fullscreen",!1,{disabled:!document.fullscreenEnabled}),allowedDbs:new class extends p{constructor(e,t){var{disabled:n=!1,persistent:r=!0}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};super(e,t,{disabled:n,persistent:r,stringify:e=>{var[t,n]=e;return"".concat(t,",").concat(n)}}),this.id=e,c(this,"_setup",()=>{var e=this.el.querySelector("input");e.disabled=this.disabled,i()(e);var t=this.el.querySelector(".min"),n=this.el.querySelector(".max");e.onchange=()=>{this.value=[+e.valueLow,+e.valueHigh]},this.el.querySelector("input.ghost").oninput=e.oninput=()=>{t.innerText=e.valueLow.toString(),n.innerText=e.valueHigh.toString()},this.stream.subscribe(r=>{var{newValue:i}=r;e.value=this.stringify(i),t.innerText=e.valueLow.toString(),n.innerText=e.valueHigh.toString()})})}parse(e){var[t,n]=e.split(/,/);return[parseInt(t),parseInt(n)]}}("allowed_db_range",[-130,-30],{disabled:!(new AudioContext).audioWorklet}),save:new class extends p{constructor(e,t){super(e,null),this.action=t,c(this,"_setup",()=>{this.disabled||(this.el.onclick=e=>this.action(e))})}}("save",l((function*(){var e=u.renderer.domElement;u.renderer.render();var t=yield new Promise(t=>e.toBlob(t)),n=URL.createObjectURL(t);try{var r=document.createElement("a");r.download="stereo".concat(document.location.hash),r.href=n,r.click()}finally{URL.revokeObjectURL(n)}})))};Object(o.a)("inputs",w)},24:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;return JSON.stringify(e,null,t)}},33:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(12),i=n.n(r);function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class a{constructor(e,t,n,r){this.n=e,this.d=t,this.position=n,this.color=r}}s(a,"fromBuffer",e=>{var t=new Float32Array(e),n=t[a.nOffset],r=t[a.positionOffset(t)],i=a.position(t),s=a.color(t);return new a(n,r,i,s)}),s(a,"bufferFor",(e,t,n)=>{var r=new SharedArrayBuffer(4*(3+e*(t+n+3))),i=new Float32Array(r);return i[a.nOffset]=e,i[a.inputOffset]=t,i[a.positionOffset(i)]=n,r}),s(a,"input",e=>{var t=a.inputOffset+1;return e.subarray(t,t+a.inputLength(e))}),s(a,"position",e=>{var t=a.positionOffset(e)+1;return e.subarray(t,t+a.positionLength(e))}),s(a,"color",e=>{var t=a.colorOffset(e);return e.subarray(t)}),s(a,"nOffset",0),s(a,"inputOffset",a.nOffset+1),s(a,"inputLength",e=>{return e[a.nOffset]*e[a.inputOffset]}),s(a,"positionOffset",e=>a.inputOffset+a.inputLength(e)+1),s(a,"positionLength",e=>{return e[a.nOffset]*e[a.positionOffset(e)]}),s(a,"colorOffset",e=>a.positionOffset(e)+a.positionLength(e)+1),s(a,"get",(e,t,n)=>{var r=t*n;return e.subarray(r,r+n)}),s(a,"set",(e,t,n,r)=>{i()(t.length<=r);var s=n*r;return e.set(t,s)})},34:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return d})),n.d(t,"c",(function(){return f})),n.d(t,"b",(function(){return w}));var r=n(50),i=n(8),s=n(33),a=n(72);function o(e,t,n,r,i,s,a){try{var o=e[s](a),u=o.value}catch(e){return void n(e)}o.done?t(u):Promise.resolve(u).then(r,i)}function u(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var s=e.apply(t,n);function a(e){o(s,r,i,a,u,"next",e)}function u(e){o(s,r,i,a,u,"throw",e)}a(void 0)}))}}var h,l,c=Object(i.getLogger)("PipelinePool");c.setLevel("info");var d=2*navigator.hardwareConcurrency,f=function(){var t=u((function*(){c.info("starting worker pool");var t=0;h=Object(r.Pool)(()=>Object(r.spawn)(new r.Worker(e,{name:"pipe".concat(t++)})),d),l=new Map;for(var n=[],i=0;i<d;i++)n.push(h.queue(u((function*(){}))));yield Promise.all(n)}));return function(){return t.apply(this,arguments)}}(),v=(e,t,n)=>g("initialization")(u((function*(){return m(t,function(){var t=u((function*(t){return h.queue(r=>r.initialize(e,t,n))}));return function(e){return t.apply(this,arguments)}}())}))),p=(e,t)=>g("iteration")(u((function*(){return m(e.pipe.n,function(){var n=u((function*(n){return h.queue(r=>r.iterate(e,n,t))}));return function(e){return n.apply(this,arguments)}}())}))),b=function(){var e=u((function*(e){var t=(e=>JSON.stringify({pipe:e.pipe,hv:e.hv}))(e);if(!l.has(t)){var n=new a.a(e.scope),{n:r,staticFn:i,dynamicFn:o}=n.resolve(e.pipe),u=s.a.bufferFor(r,i.d,o.d);yield v(e,r,u),l.set(t,u)}return l.get(t)}));return function(t){return e.apply(this,arguments)}}(),m=function(){var e=u((function*(e,t){for(var n=Math.round(e/d),r=[],i=0;i<e;i+=n){var s={offset:i,size:Math.min(e-i,n)};r.push(t(s))}yield Promise.all(r)}));return function(t,n){return e.apply(this,arguments)}}(),g=e=>(function(){var t=u((function*(t){var n=Date.now(),r=yield t(),i=Date.now()-n;return c.debug("".concat(e," took ").concat(i,"ms")),r}));return function(e){return t.apply(this,arguments)}})(),w=function(){var e=u((function*(e){var t=yield b(e);return yield p(e,t),t.slice(0)}));return function(t){return e.apply(this,arguments)}}()}).call(this,n(49))},39:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(12),i=n.n(r);function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class a{constructor(e,t,n){var r=this;this.d=e,this.a=t,this.b=n,s(this,"domain",void 0),s(this,"fn",(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Float32Array(r.d),{a:n,b:s,d:a}=r;i.a.equal(e.length,a),i.a.equal(t.length,a);for(var o=0;o<a;o++)t[o]=n[o]+e[o]*(s[o]-n[o]);return t})),s(this,"sample",(function*(e,t,n){var{d:r,fn:i}=this;e=a.nPerLevel(r,e);for(var s=[[]],o=0;s.length&&o<n;){var u=s.pop();u.length<r?s.push(...h(u)):o++>=t&&(yield i(u))}function*h(t){for(var n=0;n<e;n++)yield[...t,n/e]}})),i.a.equal(t.length,e),i.a.equal(n.length,e),this.domain=e}}s(a,"nPerLevel",(e,t)=>Math.round(Math.pow(t,1/e)))},40:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=2**32-1},49:function(e,t,n){e.exports=n.p+"0.e3dbce7d94c9af3f5c5a.worker.js"},72:function(e,t,n){"use strict";var r=n(12),i=n.n(r),s=n(39);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class o{constructor(e,t){this.d=e,this.l=t,a(this,"interval",void 0),a(this,"fn",(e,t)=>this.interval.fn(e,t)),a(this,"sample",(e,t,n)=>this.interval.sample(e,t,n)),this.interval=new s.a(e,new Array(e).fill(-t/2),new Array(e).fill(t/2))}get domain(){return this.d}}var u=n(40);function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var l=Math.cos,c=Math.sin,d=(Math.tan,Math.tanh,Math.exp),f=e=>Array.from(new Array(e).keys());class v{constructor(e){var t=this;this.fns=e,h(this,"x",void 0),h(this,"y",void 0),h(this,"sample",(function*(e,t,n){var{fns:r,d:i}=this,[s,...a]=r;if(0==r.length)return[];for(var o of s.sample(e,t,n))this.x.set(o),a.length?v.apply(a,this.x,this.y):this.y.set(o),yield this.y.subarray(0,i)})),h(this,"fn",(function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Float32Array(t.d),{fns:r,domain:s,d:a}=t;return i.a.equal(e.length,s),i.a.equal(n.length,a),t.x.set(e),v.apply(r,t.x,t.y),n.set(t.y.subarray(0,a)),n})),i()(e.length,"fns cannot be empty");var n=Math.max(this.domainMax,this.dMax);this.x=new Float32Array(n),this.y=new Float32Array(n)}get first(){return this.fns[0]}get last(){return this.fns[this.fns.length-1]}get domain(){return this.first.domain}get d(){return this.last.d}get domainMax(){return this.fns.reduce((e,t)=>Math.max(t.domain,e),0)}get dMax(){return this.fns.reduce((e,t)=>Math.max(t.d,e),0)}}function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}h(v,"apply",(e,t,n)=>{for(var r of(i.a.equal(t.length,n.length),e)){r.fn(t.subarray(0,r.domain),n.subarray(0,r.d));for(var s=0;s<n.length;s++)isFinite(n[s])||(n[s]=Math.sign(n[s])*u.a);t.set(n)}}),h(v,"Builder",class{constructor(){h(this,"fns",[]),h(this,"add",e=>{var{fns:t,last:n}=this;if(n&&e.domain!==n.d)throw new Error("Cannot add ".concat(e," to composite, because its domain is not ").concat(n.d));return t.push(e),this}),h(this,"build",()=>new v(this.fns))}get d(){return this.last.d}get last(){return this.fns[this.fns.length-1]}});class b{constructor(e,t,n,r){var s=this,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:l,u=arguments.length>5&&void 0!==arguments[5]?arguments[5]:c;this.d=e,this.theta=t,this.d0=n,this.d1=r,this.f0=a,this.f1=u,p(this,"r0",void 0),p(this,"r1",void 0),p(this,"sample",(function*(e,t,n){var r=new o(this.domain,2);for(var i of r.sample(e,t,n))yield this.fn(i)})),p(this,"fn",(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Float32Array(s.d),{d:n,d0:r,d1:a,r0:o,r1:u}=s;i.a.equal(e.length,n),i.a.equal(t.length,n),t.set(e);var h=e[r],l=e[a];return t[r]=h*o-l*u,t[a]=h*u+l*o,t})),this.r0=a(t),this.r1=u(t)}get domain(){return this.d}}function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class g{constructor(e,t){var n=this;this.d=e,m(this,"root",void 0),m(this,"sample",(function*(e,t,n){var r=new o(this.domain,2*Math.PI);for(var i of r.sample(e,t,n))yield this.fn(i)})),m(this,"fn",(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Float32Array(n.d),{d:r,root:s}=n;i.a.equal(e.length,r-1),i.a.equal(t.length,r);var a=new v(f(r-1).map(t=>new b(r,e[t],0,t+1)));return a.fn(s,t),t})),this.root=new Float32Array(e),this.root[0]=t}get domain(){return this.d-1}}function w(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class y{constructor(e,t,n){var r=this;this.d=e,this.r=t,this.t=n,w(this,"sphere",void 0),w(this,"circle",void 0),w(this,"sample",(function*(e,t,n){var r=new o(this.domain,2*Math.PI);for(var i of r.sample(e,t,n))yield this.fn(i)})),w(this,"fn",(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Float32Array(r.d),{domain:n,d:s,sphere:a,circle:o}=r;i.a.equal(e.length,n),i.a.equal(t.length,s),a.fn(e,t);var u=o.fn(e.subarray(s-2));return t[0]+=u[0],t[s-1]+=u[1],t})),this.sphere=new g(e,n),this.circle=new g(2,t)}get domain(){return this.d-1}}function O(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class x{constructor(e){var t=this;this.d=e,O(this,"domain",void 0),O(this,"fn",(function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Float32Array(t.d),{d:r}=t;return i.a.equal(e.length,r),i.a.equal(n.length,r),n.set(e),n})),O(this,"sample",(function*(e,t,n){throw new Error("identity function does not support sampling")})),this.domain=e}}function M(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class q{constructor(e,t,n){var r=this;this.d=e,this.a=t,this.k=n,M(this,"sphere",void 0),M(this,"sample",(function*(e,t,n){var r=new o(this.domain,4*Math.PI);for(var i of r.sample(e,t,n))yield this.fn(i)})),M(this,"fn",(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Float32Array(r.d),{a:n,k:s,domain:a,d:o}=r;i.a.equal(e.length,o-1),i.a.equal(t.length,o),r.sphere.fn(e,t);for(var u=0,h=0;h<a;h++)u+=s[h]*e[h];for(var l=d(u),c=0;c<o;c++)t[c]=t[c]*n[c]*l;return t})),this.sphere=new g(e,1)}get domain(){return this.d-1}}function P(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class A{constructor(e,t){var n=this;this.from=e,this.to=t,P(this,"fromTemp",void 0),P(this,"toTemp",void 0),P(this,"sample",(function*(e,t,n){var r=new o(this.domain,2);for(var i of r.sample(e,t,n))yield this.fn(i)})),P(this,"fn",(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Float32Array(n.to),{from:r,to:s,fromTemp:a,toTemp:o}=n;if(i.a.equal(e.length,r),i.a.equal(t.length,s),r===s)return t.set(e),t;for(a.set(e);r<s;)A.up(a.subarray(0,r),o.subarray(0,++r)),a.set(o);for(;r>s;)A.down(a.subarray(0,r),o.subarray(0,--r)),a.set(o);return t.set(o.subarray(0,s)),t})),this.fromTemp=new Float32Array(Math.max(e,t)),this.toTemp=new Float32Array(Math.max(e,t))}get domain(){return this.from}get d(){return this.to}}P(A,"up",(e,t)=>{i.a.equal(t.length,e.length+1);var n=j(e),r=n+1;t[0]=(n-1)/r;for(var s=1;s<=e.length;s++)t[s]=2*e[s-1]/r}),P(A,"down",(e,t)=>{i.a.equal(t.length,e.length-1);for(var n=0;n<t.length;n++)t[n]=e[n+1]/(1-e[0])});var j=e=>{for(var t=0,n=0;n<e.length;n++)t+=e[n]*e[n];return t};function S(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class F{constructor(e,t,n){var r=this;this.d=e,this.r=t,this.t=n,S(this,"cross",void 0),S(this,"sample",(function*(e,t,n){var r=new o(this.domain,2*Math.PI);for(var i of r.sample(e,t,n))yield this.fn(i)})),S(this,"fn",(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Float32Array(r.d),{cross:n,d:s,r:a}=r;i.a.equal(e.length,s-1,"torus expects an input of ".concat(s-1,"; got ").concat(e.length));var o=new b(s,e[s-2],0,s-1);return n.fn(e.subarray(0,s-2),t.subarray(0,s-1)),t[0]+=a,o.fn(t,t),t})),i()(e>2,"torus is only defined for d > 2; got ".concat(e)),this.cross=new g(e-1,n)}get domain(){return this.d-1}}var k=n(24);function L(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"a",(function(){return z}));class z{constructor(e){this.scope=e,L(this,"resolvePipe",e=>{var[t,...n]=e.steps,r=[],i=this.resolveStep(e.d0,t);r.push(i);for(var s=0;s<n.length;s++)r.push(this.resolveStep(r[s].fn.d,n[s]));var[a,o]=this.buildComposites(r);return{n:e.n,staticFn:a,dynamicFn:o}}),L(this,"buildComposites",e=>{for(var t=new v.Builder;e.length&&!e[0].isDynamic;)t.add(e.shift().fn);var n=t.build();for(t=(new v.Builder).add(new x(n.d));e.length;)t.add(e.shift().fn);return[n,t.build()]}),L(this,"resolveStep",(e,t)=>{var{type:n,args:r}=t,i=T[n](e);return{fn:_[n](i,...r.map(e=>this.resolve(e))),isDynamic:r.some(this.isNodeDynamic)}}),L(this,"resolveFn",e=>{var{name:t,args:n}=e,r=Math[t];return i()("function"==typeof r,"Expected ".concat(t," to be a Math function in ").concat(Object(k.a)({name:t,args:n}))),r(...n.map(e=>this.resolve(e)))}),L(this,"resolveAccess",e=>{var{id:t,index:n}=e,r=this.scope,s=r[t];return i()(s,"Unable to resolve ".concat(t," in scope ").concat(Object(k.a)(r,2))),s[this.resolve(n,"number")]}),L(this,"resolveId",e=>{if(e in this.scope)return this.scope[e];if(e in Math)return Math[e];var t=e.toUpperCase();if(t in Math)return Math[t];i.a.fail("unable to resolve id ".concat(e," in scope ").concat(Object(k.a)(this.scope,2)))}),L(this,"resolveArith",e=>{var{op:t,operands:n}=e,[r,i]=n.map(e=>this.resolve(e,"number"));return E[t](r,i)}),L(this,"isNodeDynamic",e=>{switch(e.kind){case"fn":return e.args.some(this.isNodeDynamic);case"id":return"number"==typeof this.resolve(e);case"arith":return e.operands.some(this.isNodeDynamic);default:return!1}})}resolve(e,t){var n;switch(e.kind){case"pipe":n=this.resolvePipe(e);break;case"number":n=e.value;break;case"fn":n=this.resolveFn(e);break;case"access":n=this.resolveAccess(e);break;case"id":n=this.resolveId(e.id);break;case"arith":n=this.resolveArith(e)}if(t){var r=typeof n;i.a.equal(r,t,"Expected identifier ".concat(e.id," to resolve to a ").concat(t,", but was ").concat(r," instead.")),"number"===t&&isNaN(n)&&i.a.fail("Expected node ".concat(Object(k.a)(e)," to resolve to a valid value, but was NaN instead."))}return n}}var E={"+":(e,t)=>e+t,"-":(e,t)=>e-t,"*":(e,t)=>e*t,"/":(e,t)=>e/t,"**":(e,t)=>e**t,"^":(e,t)=>e**t},_={cube:(e,t)=>new o(e,t),sphere:(e,t)=>new g(e,t),spiral:(e,t,n)=>new q(e,new Array(e).fill(t),new Array(e-1).fill(n)),torus:(e,t,n)=>new F(e,t,n),fucked_up_torus:(e,t,n)=>new y(e,t,n),rotate:function(e,t,n,r){var s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Math.cos,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:Math.sin;return i()(0<=n&&n<e,"rotate: Expected 0 <= d0 = ".concat(n," < d = ").concat(e)),i()(0<=r&&r<e,"rotate: Expected 0 <= d1 = ".concat(r," < d = ").concat(e)),new b(e,t,n,r,s,a)},stereo:(e,t)=>new A(e,t)},T={cube:e=>e,sphere:e=>e+1,spiral:e=>e+1,torus:e=>e+1,fucked_up_torus:e=>e+1,rotate:e=>e,r:e=>e,stereo:e=>e}},9:function(e,t,n){"use strict";n.r(t),n.d(t,"renderer",(function(){return o}));var r=n(31),i=n(12),s=n.n(i);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var o=new class{constructor(){a(this,"renderer",void 0),a(this,"scene",void 0),a(this,"camera",void 0),a(this,"points",void 0),a(this,"z",5),a(this,"setSize",()=>{var e=window.innerWidth,t=window.innerHeight,n=e/t;this.renderer.setSize(e,t),this.camera=new r.c(100,n,.01,1e3),this.camera.position.z=this.z}),a(this,"render",()=>{this.renderer.render(this.scene,this.camera)}),a(this,"update",e=>{var{d:t,position:n,color:i}=e,{points:a}=this,o=a.geometry;s.a.equal(n.length%t,0),s.a.equal(i.length%3,0),o.setAttribute("position",new r.a(n,t)),o.setAttribute("color",new r.a(i,3));var u=5;if(t>2){o.computeBoundingSphere();var h=o.boundingSphere;u=Math.min(5,h.center.z+h.radius+1)}this.camera.position.z=this.z=u,requestAnimationFrame(this.render)}),this.renderer=new r.h,this.setSize(),window.onresize=()=>{this.setSize(),requestAnimationFrame(this.render)},this.points=new r.d(new r.b,new r.e({vertexColors:r.g,size:.001})),this.scene=new r.f,this.scene.add(this.points)}get domElement(){return this.renderer.domElement}}}}]);
//# sourceMappingURL=2.dbdb0b90c13517ff2c92.js.map